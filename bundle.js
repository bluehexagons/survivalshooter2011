(()=>{"use strict";var t={887:(t,e,a)=>{a.r(e),a.d(e,{glMatrix:()=>i,mat2:()=>s,mat2d:()=>n,mat3:()=>r,mat4:()=>o,quat:()=>m,quat2:()=>d,vec2:()=>c,vec3:()=>h,vec4:()=>l});var i={};a.r(i),a.d(i,{ARRAY_TYPE:()=>u,EPSILON:()=>y,RANDOM:()=>p,equals:()=>M,setMatrixArrayType:()=>f,toRadian:()=>P});var s={};a.r(s),a.d(s,{LDU:()=>T,add:()=>V,adjoint:()=>Y,clone:()=>w,copy:()=>G,create:()=>v,determinant:()=>W,equals:()=>F,exactEquals:()=>D,frob:()=>O,fromRotation:()=>B,fromScaling:()=>E,fromValues:()=>C,identity:()=>x,invert:()=>X,mul:()=>j,multiply:()=>R,multiplyScalar:()=>q,multiplyScalarAndAdd:()=>N,rotate:()=>A,scale:()=>k,set:()=>b,str:()=>L,sub:()=>I,subtract:()=>_,transpose:()=>S});var n={};a.r(n),a.d(n,{add:()=>lt,clone:()=>K,copy:()=>z,create:()=>H,determinant:()=>J,equals:()=>ut,exactEquals:()=>yt,frob:()=>ht,fromRotation:()=>st,fromScaling:()=>nt,fromTranslation:()=>rt,fromValues:()=>U,identity:()=>$,invert:()=>Q,mul:()=>pt,multiply:()=>tt,multiplyScalar:()=>dt,multiplyScalarAndAdd:()=>ct,rotate:()=>et,scale:()=>at,set:()=>Z,str:()=>ot,sub:()=>ft,subtract:()=>mt,translate:()=>it});var r={};a.r(r),a.d(r,{add:()=>Ft,adjoint:()=>St,clone:()=>Mt,copy:()=>vt,create:()=>gt,determinant:()=>Xt,equals:()=>Ht,exactEquals:()=>It,frob:()=>Dt,fromMat2d:()=>Lt,fromMat4:()=>Pt,fromQuat:()=>Ot,fromRotation:()=>Bt,fromScaling:()=>Et,fromTranslation:()=>kt,fromValues:()=>wt,identity:()=>xt,invert:()=>bt,mul:()=>Kt,multiply:()=>Yt,multiplyScalar:()=>Nt,multiplyScalarAndAdd:()=>jt,normalFromMat4:()=>Tt,projection:()=>Vt,rotate:()=>Rt,scale:()=>At,set:()=>Gt,str:()=>_t,sub:()=>zt,subtract:()=>qt,translate:()=>Wt,transpose:()=>Ct});var o={};a.r(o),a.d(o,{add:()=>Ee,adjoint:()=>ie,clone:()=>Ut,copy:()=>Zt,create:()=>$t,determinant:()=>se,equals:()=>_e,exactEquals:()=>Ve,frob:()=>Be,fromQuat:()=>be,fromQuat2:()=>Me,fromRotation:()=>ue,fromRotationTranslation:()=>Pe,fromRotationTranslationScale:()=>xe,fromRotationTranslationScaleOrigin:()=>Ce,fromScaling:()=>ye,fromTranslation:()=>ce,fromValues:()=>Qt,fromXRotation:()=>pe,fromYRotation:()=>fe,fromZRotation:()=>ge,frustum:()=>Se,getRotation:()=>Ge,getScaling:()=>we,getTranslation:()=>ve,identity:()=>te,invert:()=>ae,lookAt:()=>Re,mul:()=>De,multiply:()=>ne,multiplyScalar:()=>Oe,multiplyScalarAndAdd:()=>Te,ortho:()=>We,perspective:()=>Xe,perspectiveFromFieldOfView:()=>Ye,rotate:()=>he,rotateX:()=>le,rotateY:()=>me,rotateZ:()=>de,scale:()=>oe,set:()=>Jt,str:()=>ke,sub:()=>Fe,subtract:()=>Le,targetTo:()=>Ae,translate:()=>re,transpose:()=>ee});var h={};a.r(h),a.d(h,{add:()=>ze,angle:()=>xa,bezier:()=>pa,ceil:()=>Qe,clone:()=>Ne,copy:()=>He,create:()=>qe,cross:()=>ca,dist:()=>ka,distance:()=>na,div:()=>Aa,divide:()=>Ze,dot:()=>da,equals:()=>Xa,exactEquals:()=>Sa,floor:()=>Je,forEach:()=>Oa,fromValues:()=>Ie,hermite:()=>ua,inverse:()=>la,len:()=>Ea,length:()=>je,lerp:()=>ya,max:()=>ea,min:()=>ta,mul:()=>Ra,multiply:()=>Ue,negate:()=>ha,normalize:()=>ma,random:()=>fa,rotateX:()=>va,rotateY:()=>wa,rotateZ:()=>Ga,round:()=>aa,scale:()=>ia,scaleAndAdd:()=>sa,set:()=>Ke,sqrDist:()=>Ba,sqrLen:()=>La,squaredDistance:()=>ra,squaredLength:()=>oa,str:()=>ba,sub:()=>Wa,subtract:()=>$e,transformMat3:()=>Pa,transformMat4:()=>ga,transformQuat:()=>Ma,zero:()=>Ca});var l={};a.r(l),a.d(l,{add:()=>qa,ceil:()=>Ha,clone:()=>Va,copy:()=>Da,create:()=>Ta,cross:()=>oi,dist:()=>Mi,distance:()=>Ja,div:()=>Pi,divide:()=>Ia,dot:()=>ri,equals:()=>pi,exactEquals:()=>ui,floor:()=>Ka,forEach:()=>xi,fromValues:()=>_a,inverse:()=>si,len:()=>wi,length:()=>ei,lerp:()=>hi,max:()=>$a,min:()=>za,mul:()=>gi,multiply:()=>ja,negate:()=>ii,normalize:()=>ni,random:()=>li,round:()=>Ua,scale:()=>Za,scaleAndAdd:()=>Qa,set:()=>Fa,sqrDist:()=>vi,sqrLen:()=>Gi,squaredDistance:()=>ti,squaredLength:()=>ai,str:()=>yi,sub:()=>fi,subtract:()=>Na,transformMat4:()=>mi,transformQuat:()=>di,zero:()=>ci});var m={};a.r(m),a.d(m,{add:()=>ts,calculateW:()=>Bi,clone:()=>Ui,conjugate:()=>Di,copy:()=>Qi,create:()=>Ci,dot:()=>is,equals:()=>ds,exactEquals:()=>ms,exp:()=>Ei,fromEuler:()=>qi,fromMat3:()=>Fi,fromValues:()=>Zi,getAngle:()=>Yi,getAxisAngle:()=>Xi,identity:()=>bi,invert:()=>_i,len:()=>rs,length:()=>ns,lerp:()=>ss,ln:()=>Li,mul:()=>es,multiply:()=>Wi,normalize:()=>ls,pow:()=>Oi,random:()=>Vi,rotateX:()=>Ri,rotateY:()=>Ai,rotateZ:()=>ki,rotationTo:()=>cs,scale:()=>as,set:()=>Ji,setAxes:()=>us,setAxisAngle:()=>Si,slerp:()=>Ti,sqlerp:()=>ys,sqrLen:()=>hs,squaredLength:()=>os,str:()=>Ni});var d={};a.r(d),a.d(d,{add:()=>Vs,clone:()=>fs,conjugate:()=>Is,copy:()=>xs,create:()=>ps,dot:()=>qs,equals:()=>Js,exactEquals:()=>Qs,fromMat4:()=>Gs,fromRotation:()=>ws,fromRotationTranslation:()=>Ms,fromRotationTranslationValues:()=>Ps,fromTranslation:()=>vs,fromValues:()=>gs,getDual:()=>Xs,getReal:()=>Ss,getTranslation:()=>Rs,identity:()=>Cs,invert:()=>js,len:()=>Ks,length:()=>Hs,lerp:()=>Ns,mul:()=>Ds,multiply:()=>_s,normalize:()=>Us,rotateAroundAxis:()=>Ts,rotateByQuatAppend:()=>Ls,rotateByQuatPrepend:()=>Os,rotateX:()=>ks,rotateY:()=>Bs,rotateZ:()=>Es,scale:()=>Fs,set:()=>bs,setDual:()=>Ws,setReal:()=>Ys,sqrLen:()=>$s,squaredLength:()=>zs,str:()=>Zs,translate:()=>As});var c={};a.r(c),a.d(c,{add:()=>rn,angle:()=>Bn,ceil:()=>mn,clone:()=>en,copy:()=>sn,create:()=>tn,cross:()=>bn,dist:()=>qn,distance:()=>gn,div:()=>Fn,divide:()=>ln,dot:()=>Cn,equals:()=>Tn,exactEquals:()=>On,floor:()=>dn,forEach:()=>In,fromValues:()=>an,inverse:()=>Gn,len:()=>Vn,length:()=>Mn,lerp:()=>Sn,max:()=>yn,min:()=>cn,mul:()=>Dn,multiply:()=>hn,negate:()=>wn,normalize:()=>xn,random:()=>Xn,rotate:()=>kn,round:()=>un,scale:()=>pn,scaleAndAdd:()=>fn,set:()=>nn,sqrDist:()=>Nn,sqrLen:()=>jn,squaredDistance:()=>Pn,squaredLength:()=>vn,str:()=>Ln,sub:()=>_n,subtract:()=>on,transformMat2:()=>Yn,transformMat2d:()=>Wn,transformMat3:()=>Rn,transformMat4:()=>An,zero:()=>En});var y=1e-6,u="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random;function f(t){u=t}var g=Math.PI/180;function P(t){return t*g}function M(t,e){return Math.abs(t-e)<=y*Math.max(1,Math.abs(t),Math.abs(e))}function v(){var t=new u(4);return u!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){var e=new u(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function G(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function x(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function C(t,e,a,i){var s=new u(4);return s[0]=t,s[1]=e,s[2]=a,s[3]=i,s}function b(t,e,a,i,s){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t}function S(t,e){if(t===e){var a=e[1];t[1]=e[2],t[2]=a}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function X(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=a*n-s*i;return r?(r=1/r,t[0]=n*r,t[1]=-i*r,t[2]=-s*r,t[3]=a*r,t):null}function Y(t,e){var a=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=a,t}function W(t){return t[0]*t[3]-t[2]*t[1]}function R(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=a[0],h=a[1],l=a[2],m=a[3];return t[0]=i*o+n*h,t[1]=s*o+r*h,t[2]=i*l+n*m,t[3]=s*l+r*m,t}function A(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=Math.sin(a),h=Math.cos(a);return t[0]=i*h+n*o,t[1]=s*h+r*o,t[2]=i*-o+n*h,t[3]=s*-o+r*h,t}function k(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=a[0],h=a[1];return t[0]=i*o,t[1]=s*o,t[2]=n*h,t[3]=r*h,t}function B(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=a,t[2]=-a,t[3]=i,t}function E(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function L(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function O(t){return Math.hypot(t[0],t[1],t[2],t[3])}function T(t,e,a,i){return t[2]=i[2]/i[0],a[0]=i[0],a[1]=i[1],a[3]=i[3]-t[2]*a[1],[t,e,a]}function V(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t}function _(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t}function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function F(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=e[0],o=e[1],h=e[2],l=e[3];return Math.abs(a-r)<=y*Math.max(1,Math.abs(a),Math.abs(r))&&Math.abs(i-o)<=y*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-h)<=y*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(n-l)<=y*Math.max(1,Math.abs(n),Math.abs(l))}function q(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t}function N(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t[3]=e[3]+a[3]*i,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var j=R,I=_;function H(){var t=new u(6);return u!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function K(t){var e=new u(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function $(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function U(t,e,a,i,s,n){var r=new u(6);return r[0]=t,r[1]=e,r[2]=a,r[3]=i,r[4]=s,r[5]=n,r}function Z(t,e,a,i,s,n,r){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t[4]=n,t[5]=r,t}function Q(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=a*n-i*s;return h?(h=1/h,t[0]=n*h,t[1]=-i*h,t[2]=-s*h,t[3]=a*h,t[4]=(s*o-n*r)*h,t[5]=(i*r-a*o)*h,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=a[0],m=a[1],d=a[2],c=a[3],y=a[4],u=a[5];return t[0]=i*l+n*m,t[1]=s*l+r*m,t[2]=i*d+n*c,t[3]=s*d+r*c,t[4]=i*y+n*u+o,t[5]=s*y+r*u+h,t}function et(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=Math.sin(a),m=Math.cos(a);return t[0]=i*m+n*l,t[1]=s*m+r*l,t[2]=i*-l+n*m,t[3]=s*-l+r*m,t[4]=o,t[5]=h,t}function at(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=a[0],m=a[1];return t[0]=i*l,t[1]=s*l,t[2]=n*m,t[3]=r*m,t[4]=o,t[5]=h,t}function it(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=a[0],m=a[1];return t[0]=i,t[1]=s,t[2]=n,t[3]=r,t[4]=i*l+n*m+o,t[5]=s*l+r*m+h,t}function st(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=a,t[2]=-a,t[3]=i,t[4]=0,t[5]=0,t}function nt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function rt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ot(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ht(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function lt(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t}function mt(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t}function dt(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t}function ct(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t[3]=e[3]+a[3]*i,t[4]=e[4]+a[4]*i,t[5]=e[5]+a[5]*i,t}function yt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function ut(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],h=e[0],l=e[1],m=e[2],d=e[3],c=e[4],u=e[5];return Math.abs(a-h)<=y*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-l)<=y*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-m)<=y*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(n-d)<=y*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-c)<=y*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-u)<=y*Math.max(1,Math.abs(o),Math.abs(u))}var pt=tt,ft=mt;function gt(){var t=new u(9);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Mt(t){var e=new u(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wt(t,e,a,i,s,n,r,o,h){var l=new u(9);return l[0]=t,l[1]=e,l[2]=a,l[3]=i,l[4]=s,l[5]=n,l[6]=r,l[7]=o,l[8]=h,l}function Gt(t,e,a,i,s,n,r,o,h,l){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t[4]=n,t[5]=r,t[6]=o,t[7]=h,t[8]=l,t}function xt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ct(t,e){if(t===e){var a=e[1],i=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=a,t[5]=e[7],t[6]=i,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function bt(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=e[6],l=e[7],m=e[8],d=m*r-o*l,c=-m*n+o*h,y=l*n-r*h,u=a*d+i*c+s*y;return u?(u=1/u,t[0]=d*u,t[1]=(-m*i+s*l)*u,t[2]=(o*i-s*r)*u,t[3]=c*u,t[4]=(m*a-s*h)*u,t[5]=(-o*a+s*n)*u,t[6]=y*u,t[7]=(-l*a+i*h)*u,t[8]=(r*a-i*n)*u,t):null}function St(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=e[6],l=e[7],m=e[8];return t[0]=r*m-o*l,t[1]=s*l-i*m,t[2]=i*o-s*r,t[3]=o*h-n*m,t[4]=a*m-s*h,t[5]=s*n-a*o,t[6]=n*l-r*h,t[7]=i*h-a*l,t[8]=a*r-i*n,t}function Xt(t){var e=t[0],a=t[1],i=t[2],s=t[3],n=t[4],r=t[5],o=t[6],h=t[7],l=t[8];return e*(l*n-r*h)+a*(-l*s+r*o)+i*(h*s-n*o)}function Yt(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=e[8],c=a[0],y=a[1],u=a[2],p=a[3],f=a[4],g=a[5],P=a[6],M=a[7],v=a[8];return t[0]=c*i+y*r+u*l,t[1]=c*s+y*o+u*m,t[2]=c*n+y*h+u*d,t[3]=p*i+f*r+g*l,t[4]=p*s+f*o+g*m,t[5]=p*n+f*h+g*d,t[6]=P*i+M*r+v*l,t[7]=P*s+M*o+v*m,t[8]=P*n+M*h+v*d,t}function Wt(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=e[8],c=a[0],y=a[1];return t[0]=i,t[1]=s,t[2]=n,t[3]=r,t[4]=o,t[5]=h,t[6]=c*i+y*r+l,t[7]=c*s+y*o+m,t[8]=c*n+y*h+d,t}function Rt(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=e[8],c=Math.sin(a),y=Math.cos(a);return t[0]=y*i+c*r,t[1]=y*s+c*o,t[2]=y*n+c*h,t[3]=y*r-c*i,t[4]=y*o-c*s,t[5]=y*h-c*n,t[6]=l,t[7]=m,t[8]=d,t}function At(t,e,a){var i=a[0],s=a[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function kt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Bt(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=a,t[2]=0,t[3]=-a,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Et(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ot(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=a+a,o=i+i,h=s+s,l=a*r,m=i*r,d=i*o,c=s*r,y=s*o,u=s*h,p=n*r,f=n*o,g=n*h;return t[0]=1-d-u,t[3]=m-g,t[6]=c+f,t[1]=m+g,t[4]=1-l-u,t[7]=y-p,t[2]=c-f,t[5]=y+p,t[8]=1-l-d,t}function Tt(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=e[6],l=e[7],m=e[8],d=e[9],c=e[10],y=e[11],u=e[12],p=e[13],f=e[14],g=e[15],P=a*o-i*r,M=a*h-s*r,v=a*l-n*r,w=i*h-s*o,G=i*l-n*o,x=s*l-n*h,C=m*p-d*u,b=m*f-c*u,S=m*g-y*u,X=d*f-c*p,Y=d*g-y*p,W=c*g-y*f,R=P*W-M*Y+v*X+w*S-G*b+x*C;return R?(R=1/R,t[0]=(o*W-h*Y+l*X)*R,t[1]=(h*S-r*W-l*b)*R,t[2]=(r*Y-o*S+l*C)*R,t[3]=(s*Y-i*W-n*X)*R,t[4]=(a*W-s*S+n*b)*R,t[5]=(i*S-a*Y-n*C)*R,t[6]=(p*x-f*G+g*w)*R,t[7]=(f*v-u*x-g*M)*R,t[8]=(u*G-p*v+g*P)*R,t):null}function Vt(t,e,a){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function _t(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Dt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ft(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t}function qt(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t}function Nt(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t}function jt(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t[3]=e[3]+a[3]*i,t[4]=e[4]+a[4]*i,t[5]=e[5]+a[5]*i,t[6]=e[6]+a[6]*i,t[7]=e[7]+a[7]*i,t[8]=e[8]+a[8]*i,t}function It(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Ht(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],h=t[6],l=t[7],m=t[8],d=e[0],c=e[1],u=e[2],p=e[3],f=e[4],g=e[5],P=e[6],M=e[7],v=e[8];return Math.abs(a-d)<=y*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-c)<=y*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-u)<=y*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(n-p)<=y*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-f)<=y*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-g)<=y*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(h-P)<=y*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(l-M)<=y*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(m-v)<=y*Math.max(1,Math.abs(m),Math.abs(v))}var Kt=Yt,zt=qt;function $t(){var t=new u(16);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Ut(t){var e=new u(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qt(t,e,a,i,s,n,r,o,h,l,m,d,c,y,p,f){var g=new u(16);return g[0]=t,g[1]=e,g[2]=a,g[3]=i,g[4]=s,g[5]=n,g[6]=r,g[7]=o,g[8]=h,g[9]=l,g[10]=m,g[11]=d,g[12]=c,g[13]=y,g[14]=p,g[15]=f,g}function Jt(t,e,a,i,s,n,r,o,h,l,m,d,c,y,u,p,f){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t[4]=n,t[5]=r,t[6]=o,t[7]=h,t[8]=l,t[9]=m,t[10]=d,t[11]=c,t[12]=y,t[13]=u,t[14]=p,t[15]=f,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var a=e[1],i=e[2],s=e[3],n=e[6],r=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=a,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=n,t[11]=e[14],t[12]=s,t[13]=r,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ae(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=e[6],l=e[7],m=e[8],d=e[9],c=e[10],y=e[11],u=e[12],p=e[13],f=e[14],g=e[15],P=a*o-i*r,M=a*h-s*r,v=a*l-n*r,w=i*h-s*o,G=i*l-n*o,x=s*l-n*h,C=m*p-d*u,b=m*f-c*u,S=m*g-y*u,X=d*f-c*p,Y=d*g-y*p,W=c*g-y*f,R=P*W-M*Y+v*X+w*S-G*b+x*C;return R?(R=1/R,t[0]=(o*W-h*Y+l*X)*R,t[1]=(s*Y-i*W-n*X)*R,t[2]=(p*x-f*G+g*w)*R,t[3]=(c*G-d*x-y*w)*R,t[4]=(h*S-r*W-l*b)*R,t[5]=(a*W-s*S+n*b)*R,t[6]=(f*v-u*x-g*M)*R,t[7]=(m*x-c*v+y*M)*R,t[8]=(r*Y-o*S+l*C)*R,t[9]=(i*S-a*Y-n*C)*R,t[10]=(u*G-p*v+g*P)*R,t[11]=(d*v-m*G-y*P)*R,t[12]=(o*b-r*X-h*C)*R,t[13]=(a*X-i*b+s*C)*R,t[14]=(p*M-u*w-f*P)*R,t[15]=(m*w-d*M+c*P)*R,t):null}function ie(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=e[4],o=e[5],h=e[6],l=e[7],m=e[8],d=e[9],c=e[10],y=e[11],u=e[12],p=e[13],f=e[14],g=e[15];return t[0]=o*(c*g-y*f)-d*(h*g-l*f)+p*(h*y-l*c),t[1]=-(i*(c*g-y*f)-d*(s*g-n*f)+p*(s*y-n*c)),t[2]=i*(h*g-l*f)-o*(s*g-n*f)+p*(s*l-n*h),t[3]=-(i*(h*y-l*c)-o*(s*y-n*c)+d*(s*l-n*h)),t[4]=-(r*(c*g-y*f)-m*(h*g-l*f)+u*(h*y-l*c)),t[5]=a*(c*g-y*f)-m*(s*g-n*f)+u*(s*y-n*c),t[6]=-(a*(h*g-l*f)-r*(s*g-n*f)+u*(s*l-n*h)),t[7]=a*(h*y-l*c)-r*(s*y-n*c)+m*(s*l-n*h),t[8]=r*(d*g-y*p)-m*(o*g-l*p)+u*(o*y-l*d),t[9]=-(a*(d*g-y*p)-m*(i*g-n*p)+u*(i*y-n*d)),t[10]=a*(o*g-l*p)-r*(i*g-n*p)+u*(i*l-n*o),t[11]=-(a*(o*y-l*d)-r*(i*y-n*d)+m*(i*l-n*o)),t[12]=-(r*(d*f-c*p)-m*(o*f-h*p)+u*(o*c-h*d)),t[13]=a*(d*f-c*p)-m*(i*f-s*p)+u*(i*c-s*d),t[14]=-(a*(o*f-h*p)-r*(i*f-s*p)+u*(i*h-s*o)),t[15]=a*(o*c-h*d)-r*(i*c-s*d)+m*(i*h-s*o),t}function se(t){var e=t[0],a=t[1],i=t[2],s=t[3],n=t[4],r=t[5],o=t[6],h=t[7],l=t[8],m=t[9],d=t[10],c=t[11],y=t[12],u=t[13],p=t[14],f=t[15];return(e*r-a*n)*(d*f-c*p)-(e*o-i*n)*(m*f-c*u)+(e*h-s*n)*(m*p-d*u)+(a*o-i*r)*(l*f-c*y)-(a*h-s*r)*(l*p-d*y)+(i*h-s*o)*(l*u-m*y)}function ne(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=e[8],c=e[9],y=e[10],u=e[11],p=e[12],f=e[13],g=e[14],P=e[15],M=a[0],v=a[1],w=a[2],G=a[3];return t[0]=M*i+v*o+w*d+G*p,t[1]=M*s+v*h+w*c+G*f,t[2]=M*n+v*l+w*y+G*g,t[3]=M*r+v*m+w*u+G*P,M=a[4],v=a[5],w=a[6],G=a[7],t[4]=M*i+v*o+w*d+G*p,t[5]=M*s+v*h+w*c+G*f,t[6]=M*n+v*l+w*y+G*g,t[7]=M*r+v*m+w*u+G*P,M=a[8],v=a[9],w=a[10],G=a[11],t[8]=M*i+v*o+w*d+G*p,t[9]=M*s+v*h+w*c+G*f,t[10]=M*n+v*l+w*y+G*g,t[11]=M*r+v*m+w*u+G*P,M=a[12],v=a[13],w=a[14],G=a[15],t[12]=M*i+v*o+w*d+G*p,t[13]=M*s+v*h+w*c+G*f,t[14]=M*n+v*l+w*y+G*g,t[15]=M*r+v*m+w*u+G*P,t}function re(t,e,a){var i,s,n,r,o,h,l,m,d,c,y,u,p=a[0],f=a[1],g=a[2];return e===t?(t[12]=e[0]*p+e[4]*f+e[8]*g+e[12],t[13]=e[1]*p+e[5]*f+e[9]*g+e[13],t[14]=e[2]*p+e[6]*f+e[10]*g+e[14],t[15]=e[3]*p+e[7]*f+e[11]*g+e[15]):(i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=e[8],c=e[9],y=e[10],u=e[11],t[0]=i,t[1]=s,t[2]=n,t[3]=r,t[4]=o,t[5]=h,t[6]=l,t[7]=m,t[8]=d,t[9]=c,t[10]=y,t[11]=u,t[12]=i*p+o*f+d*g+e[12],t[13]=s*p+h*f+c*g+e[13],t[14]=n*p+l*f+y*g+e[14],t[15]=r*p+m*f+u*g+e[15]),t}function oe(t,e,a){var i=a[0],s=a[1],n=a[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function he(t,e,a,i){var s,n,r,o,h,l,m,d,c,u,p,f,g,P,M,v,w,G,x,C,b,S,X,Y,W=i[0],R=i[1],A=i[2],k=Math.hypot(W,R,A);return k<y?null:(W*=k=1/k,R*=k,A*=k,s=Math.sin(a),r=1-(n=Math.cos(a)),o=e[0],h=e[1],l=e[2],m=e[3],d=e[4],c=e[5],u=e[6],p=e[7],f=e[8],g=e[9],P=e[10],M=e[11],v=W*W*r+n,w=R*W*r+A*s,G=A*W*r-R*s,x=W*R*r-A*s,C=R*R*r+n,b=A*R*r+W*s,S=W*A*r+R*s,X=R*A*r-W*s,Y=A*A*r+n,t[0]=o*v+d*w+f*G,t[1]=h*v+c*w+g*G,t[2]=l*v+u*w+P*G,t[3]=m*v+p*w+M*G,t[4]=o*x+d*C+f*b,t[5]=h*x+c*C+g*b,t[6]=l*x+u*C+P*b,t[7]=m*x+p*C+M*b,t[8]=o*S+d*X+f*Y,t[9]=h*S+c*X+g*Y,t[10]=l*S+u*X+P*Y,t[11]=m*S+p*X+M*Y,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function le(t,e,a){var i=Math.sin(a),s=Math.cos(a),n=e[4],r=e[5],o=e[6],h=e[7],l=e[8],m=e[9],d=e[10],c=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=n*s+l*i,t[5]=r*s+m*i,t[6]=o*s+d*i,t[7]=h*s+c*i,t[8]=l*s-n*i,t[9]=m*s-r*i,t[10]=d*s-o*i,t[11]=c*s-h*i,t}function me(t,e,a){var i=Math.sin(a),s=Math.cos(a),n=e[0],r=e[1],o=e[2],h=e[3],l=e[8],m=e[9],d=e[10],c=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s-l*i,t[1]=r*s-m*i,t[2]=o*s-d*i,t[3]=h*s-c*i,t[8]=n*i+l*s,t[9]=r*i+m*s,t[10]=o*i+d*s,t[11]=h*i+c*s,t}function de(t,e,a){var i=Math.sin(a),s=Math.cos(a),n=e[0],r=e[1],o=e[2],h=e[3],l=e[4],m=e[5],d=e[6],c=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s+l*i,t[1]=r*s+m*i,t[2]=o*s+d*i,t[3]=h*s+c*i,t[4]=l*s-n*i,t[5]=m*s-r*i,t[6]=d*s-o*i,t[7]=c*s-h*i,t}function ce(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ye(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ue(t,e,a){var i,s,n,r=a[0],o=a[1],h=a[2],l=Math.hypot(r,o,h);return l<y?null:(r*=l=1/l,o*=l,h*=l,i=Math.sin(e),n=1-(s=Math.cos(e)),t[0]=r*r*n+s,t[1]=o*r*n+h*i,t[2]=h*r*n-o*i,t[3]=0,t[4]=r*o*n-h*i,t[5]=o*o*n+s,t[6]=h*o*n+r*i,t[7]=0,t[8]=r*h*n+o*i,t[9]=o*h*n-r*i,t[10]=h*h*n+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function pe(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fe(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var a=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pe(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=i+i,h=s+s,l=n+n,m=i*o,d=i*h,c=i*l,y=s*h,u=s*l,p=n*l,f=r*o,g=r*h,P=r*l;return t[0]=1-(y+p),t[1]=d+P,t[2]=c-g,t[3]=0,t[4]=d-P,t[5]=1-(m+p),t[6]=u+f,t[7]=0,t[8]=c+g,t[9]=u-f,t[10]=1-(m+y),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function Me(t,e){var a=new u(3),i=-e[0],s=-e[1],n=-e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=i*i+s*s+n*n+r*r;return d>0?(a[0]=2*(o*r+m*i+h*n-l*s)/d,a[1]=2*(h*r+m*s+l*i-o*n)/d,a[2]=2*(l*r+m*n+o*s-h*i)/d):(a[0]=2*(o*r+m*i+h*n-l*s),a[1]=2*(h*r+m*s+l*i-o*n),a[2]=2*(l*r+m*n+o*s-h*i)),Pe(t,e,a),t}function ve(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function we(t,e){var a=e[0],i=e[1],s=e[2],n=e[4],r=e[5],o=e[6],h=e[8],l=e[9],m=e[10];return t[0]=Math.hypot(a,i,s),t[1]=Math.hypot(n,r,o),t[2]=Math.hypot(h,l,m),t}function Ge(t,e){var a=new u(3);we(a,e);var i=1/a[0],s=1/a[1],n=1/a[2],r=e[0]*i,o=e[1]*s,h=e[2]*n,l=e[4]*i,m=e[5]*s,d=e[6]*n,c=e[8]*i,y=e[9]*s,p=e[10]*n,f=r+m+p,g=0;return f>0?(g=2*Math.sqrt(f+1),t[3]=.25*g,t[0]=(d-y)/g,t[1]=(c-h)/g,t[2]=(o-l)/g):r>m&&r>p?(g=2*Math.sqrt(1+r-m-p),t[3]=(d-y)/g,t[0]=.25*g,t[1]=(o+l)/g,t[2]=(c+h)/g):m>p?(g=2*Math.sqrt(1+m-r-p),t[3]=(c-h)/g,t[0]=(o+l)/g,t[1]=.25*g,t[2]=(d+y)/g):(g=2*Math.sqrt(1+p-r-m),t[3]=(o-l)/g,t[0]=(c+h)/g,t[1]=(d+y)/g,t[2]=.25*g),t}function xe(t,e,a,i){var s=e[0],n=e[1],r=e[2],o=e[3],h=s+s,l=n+n,m=r+r,d=s*h,c=s*l,y=s*m,u=n*l,p=n*m,f=r*m,g=o*h,P=o*l,M=o*m,v=i[0],w=i[1],G=i[2];return t[0]=(1-(u+f))*v,t[1]=(c+M)*v,t[2]=(y-P)*v,t[3]=0,t[4]=(c-M)*w,t[5]=(1-(d+f))*w,t[6]=(p+g)*w,t[7]=0,t[8]=(y+P)*G,t[9]=(p-g)*G,t[10]=(1-(d+u))*G,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function Ce(t,e,a,i,s){var n=e[0],r=e[1],o=e[2],h=e[3],l=n+n,m=r+r,d=o+o,c=n*l,y=n*m,u=n*d,p=r*m,f=r*d,g=o*d,P=h*l,M=h*m,v=h*d,w=i[0],G=i[1],x=i[2],C=s[0],b=s[1],S=s[2],X=(1-(p+g))*w,Y=(y+v)*w,W=(u-M)*w,R=(y-v)*G,A=(1-(c+g))*G,k=(f+P)*G,B=(u+M)*x,E=(f-P)*x,L=(1-(c+p))*x;return t[0]=X,t[1]=Y,t[2]=W,t[3]=0,t[4]=R,t[5]=A,t[6]=k,t[7]=0,t[8]=B,t[9]=E,t[10]=L,t[11]=0,t[12]=a[0]+C-(X*C+R*b+B*S),t[13]=a[1]+b-(Y*C+A*b+E*S),t[14]=a[2]+S-(W*C+k*b+L*S),t[15]=1,t}function be(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=a+a,o=i+i,h=s+s,l=a*r,m=i*r,d=i*o,c=s*r,y=s*o,u=s*h,p=n*r,f=n*o,g=n*h;return t[0]=1-d-u,t[1]=m+g,t[2]=c-f,t[3]=0,t[4]=m-g,t[5]=1-l-u,t[6]=y+p,t[7]=0,t[8]=c+f,t[9]=y-p,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Se(t,e,a,i,s,n,r){var o=1/(a-e),h=1/(s-i),l=1/(n-r);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*h,t[6]=0,t[7]=0,t[8]=(a+e)*o,t[9]=(s+i)*h,t[10]=(r+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n*2*l,t[15]=0,t}function Xe(t,e,a,i,s){var n,r=1/Math.tan(e/2);return t[0]=r/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0?(n=1/(i-s),t[10]=(s+i)*n,t[14]=2*s*i*n):(t[10]=-1,t[14]=-2*i),t}function Ye(t,e,a,i){var s=Math.tan(e.upDegrees*Math.PI/180),n=Math.tan(e.downDegrees*Math.PI/180),r=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),h=2/(r+o),l=2/(s+n);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(r-o)*h*.5,t[9]=(s-n)*l*.5,t[10]=i/(a-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a/(a-i),t[15]=0,t}function We(t,e,a,i,s,n,r){var o=1/(e-a),h=1/(i-s),l=1/(n-r);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+a)*o,t[13]=(s+i)*h,t[14]=(r+n)*l,t[15]=1,t}function Re(t,e,a,i){var s,n,r,o,h,l,m,d,c,u,p=e[0],f=e[1],g=e[2],P=i[0],M=i[1],v=i[2],w=a[0],G=a[1],x=a[2];return Math.abs(p-w)<y&&Math.abs(f-G)<y&&Math.abs(g-x)<y?te(t):(m=p-w,d=f-G,c=g-x,s=M*(c*=u=1/Math.hypot(m,d,c))-v*(d*=u),n=v*(m*=u)-P*c,r=P*d-M*m,(u=Math.hypot(s,n,r))?(s*=u=1/u,n*=u,r*=u):(s=0,n=0,r=0),o=d*r-c*n,h=c*s-m*r,l=m*n-d*s,(u=Math.hypot(o,h,l))?(o*=u=1/u,h*=u,l*=u):(o=0,h=0,l=0),t[0]=s,t[1]=o,t[2]=m,t[3]=0,t[4]=n,t[5]=h,t[6]=d,t[7]=0,t[8]=r,t[9]=l,t[10]=c,t[11]=0,t[12]=-(s*p+n*f+r*g),t[13]=-(o*p+h*f+l*g),t[14]=-(m*p+d*f+c*g),t[15]=1,t)}function Ae(t,e,a,i){var s=e[0],n=e[1],r=e[2],o=i[0],h=i[1],l=i[2],m=s-a[0],d=n-a[1],c=r-a[2],y=m*m+d*d+c*c;y>0&&(m*=y=1/Math.sqrt(y),d*=y,c*=y);var u=h*c-l*d,p=l*m-o*c,f=o*d-h*m;return(y=u*u+p*p+f*f)>0&&(u*=y=1/Math.sqrt(y),p*=y,f*=y),t[0]=u,t[1]=p,t[2]=f,t[3]=0,t[4]=d*f-c*p,t[5]=c*u-m*f,t[6]=m*p-d*u,t[7]=0,t[8]=m,t[9]=d,t[10]=c,t[11]=0,t[12]=s,t[13]=n,t[14]=r,t[15]=1,t}function ke(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Be(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ee(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t[9]=e[9]+a[9],t[10]=e[10]+a[10],t[11]=e[11]+a[11],t[12]=e[12]+a[12],t[13]=e[13]+a[13],t[14]=e[14]+a[14],t[15]=e[15]+a[15],t}function Le(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t[9]=e[9]-a[9],t[10]=e[10]-a[10],t[11]=e[11]-a[11],t[12]=e[12]-a[12],t[13]=e[13]-a[13],t[14]=e[14]-a[14],t[15]=e[15]-a[15],t}function Oe(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12]*a,t[13]=e[13]*a,t[14]=e[14]*a,t[15]=e[15]*a,t}function Te(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t[3]=e[3]+a[3]*i,t[4]=e[4]+a[4]*i,t[5]=e[5]+a[5]*i,t[6]=e[6]+a[6]*i,t[7]=e[7]+a[7]*i,t[8]=e[8]+a[8]*i,t[9]=e[9]+a[9]*i,t[10]=e[10]+a[10]*i,t[11]=e[11]+a[11]*i,t[12]=e[12]+a[12]*i,t[13]=e[13]+a[13]*i,t[14]=e[14]+a[14]*i,t[15]=e[15]+a[15]*i,t}function Ve(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function _e(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],h=t[6],l=t[7],m=t[8],d=t[9],c=t[10],u=t[11],p=t[12],f=t[13],g=t[14],P=t[15],M=e[0],v=e[1],w=e[2],G=e[3],x=e[4],C=e[5],b=e[6],S=e[7],X=e[8],Y=e[9],W=e[10],R=e[11],A=e[12],k=e[13],B=e[14],E=e[15];return Math.abs(a-M)<=y*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(i-v)<=y*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(s-w)<=y*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(n-G)<=y*Math.max(1,Math.abs(n),Math.abs(G))&&Math.abs(r-x)<=y*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-C)<=y*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(h-b)<=y*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(l-S)<=y*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(m-X)<=y*Math.max(1,Math.abs(m),Math.abs(X))&&Math.abs(d-Y)<=y*Math.max(1,Math.abs(d),Math.abs(Y))&&Math.abs(c-W)<=y*Math.max(1,Math.abs(c),Math.abs(W))&&Math.abs(u-R)<=y*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(p-A)<=y*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(f-k)<=y*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(g-B)<=y*Math.max(1,Math.abs(g),Math.abs(B))&&Math.abs(P-E)<=y*Math.max(1,Math.abs(P),Math.abs(E))}var De=ne,Fe=Le;function qe(){var t=new u(3);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ne(t){var e=new u(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function je(t){var e=t[0],a=t[1],i=t[2];return Math.hypot(e,a,i)}function Ie(t,e,a){var i=new u(3);return i[0]=t,i[1]=e,i[2]=a,i}function He(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ke(t,e,a,i){return t[0]=e,t[1]=a,t[2]=i,t}function ze(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t}function $e(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t}function Ue(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t}function Ze(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t}function Qe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Je(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ta(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t}function ea(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t}function aa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function ia(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function sa(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t}function na(t,e){var a=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return Math.hypot(a,i,s)}function ra(t,e){var a=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return a*a+i*i+s*s}function oa(t){var e=t[0],a=t[1],i=t[2];return e*e+a*a+i*i}function ha(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function la(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ma(t,e){var a=e[0],i=e[1],s=e[2],n=a*a+i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function da(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ca(t,e,a){var i=e[0],s=e[1],n=e[2],r=a[0],o=a[1],h=a[2];return t[0]=s*h-n*o,t[1]=n*r-i*h,t[2]=i*o-s*r,t}function ya(t,e,a,i){var s=e[0],n=e[1],r=e[2];return t[0]=s+i*(a[0]-s),t[1]=n+i*(a[1]-n),t[2]=r+i*(a[2]-r),t}function ua(t,e,a,i,s,n){var r=n*n,o=r*(2*n-3)+1,h=r*(n-2)+n,l=r*(n-1),m=r*(3-2*n);return t[0]=e[0]*o+a[0]*h+i[0]*l+s[0]*m,t[1]=e[1]*o+a[1]*h+i[1]*l+s[1]*m,t[2]=e[2]*o+a[2]*h+i[2]*l+s[2]*m,t}function pa(t,e,a,i,s,n){var r=1-n,o=r*r,h=n*n,l=o*r,m=3*n*o,d=3*h*r,c=h*n;return t[0]=e[0]*l+a[0]*m+i[0]*d+s[0]*c,t[1]=e[1]*l+a[1]*m+i[1]*d+s[1]*c,t[2]=e[2]*l+a[2]*m+i[2]*d+s[2]*c,t}function fa(t,e){e=e||1;var a=2*p()*Math.PI,i=2*p()-1,s=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(a)*s,t[1]=Math.sin(a)*s,t[2]=i*e,t}function ga(t,e,a){var i=e[0],s=e[1],n=e[2],r=a[3]*i+a[7]*s+a[11]*n+a[15];return r=r||1,t[0]=(a[0]*i+a[4]*s+a[8]*n+a[12])/r,t[1]=(a[1]*i+a[5]*s+a[9]*n+a[13])/r,t[2]=(a[2]*i+a[6]*s+a[10]*n+a[14])/r,t}function Pa(t,e,a){var i=e[0],s=e[1],n=e[2];return t[0]=i*a[0]+s*a[3]+n*a[6],t[1]=i*a[1]+s*a[4]+n*a[7],t[2]=i*a[2]+s*a[5]+n*a[8],t}function Ma(t,e,a){var i=a[0],s=a[1],n=a[2],r=a[3],o=e[0],h=e[1],l=e[2],m=s*l-n*h,d=n*o-i*l,c=i*h-s*o,y=s*c-n*d,u=n*m-i*c,p=i*d-s*m,f=2*r;return m*=f,d*=f,c*=f,y*=2,u*=2,p*=2,t[0]=o+m+y,t[1]=h+d+u,t[2]=l+c+p,t}function va(t,e,a,i){var s=[],n=[];return s[0]=e[0]-a[0],s[1]=e[1]-a[1],s[2]=e[2]-a[2],n[0]=s[0],n[1]=s[1]*Math.cos(i)-s[2]*Math.sin(i),n[2]=s[1]*Math.sin(i)+s[2]*Math.cos(i),t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function wa(t,e,a,i){var s=[],n=[];return s[0]=e[0]-a[0],s[1]=e[1]-a[1],s[2]=e[2]-a[2],n[0]=s[2]*Math.sin(i)+s[0]*Math.cos(i),n[1]=s[1],n[2]=s[2]*Math.cos(i)-s[0]*Math.sin(i),t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function Ga(t,e,a,i){var s=[],n=[];return s[0]=e[0]-a[0],s[1]=e[1]-a[1],s[2]=e[2]-a[2],n[0]=s[0]*Math.cos(i)-s[1]*Math.sin(i),n[1]=s[0]*Math.sin(i)+s[1]*Math.cos(i),n[2]=s[2],t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function xa(t,e){var a=t[0],i=t[1],s=t[2],n=e[0],r=e[1],o=e[2],h=Math.sqrt(a*a+i*i+s*s)*Math.sqrt(n*n+r*r+o*o),l=h&&da(t,e)/h;return Math.acos(Math.min(Math.max(l,-1),1))}function Ca(t){return t[0]=0,t[1]=0,t[2]=0,t}function ba(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Sa(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Xa(t,e){var a=t[0],i=t[1],s=t[2],n=e[0],r=e[1],o=e[2];return Math.abs(a-n)<=y*Math.max(1,Math.abs(a),Math.abs(n))&&Math.abs(i-r)<=y*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(s-o)<=y*Math.max(1,Math.abs(s),Math.abs(o))}var Ya,Wa=$e,Ra=Ue,Aa=Ze,ka=na,Ba=ra,Ea=je,La=oa,Oa=(Ya=qe(),function(t,e,a,i,s,n){var r,o;for(e||(e=3),a||(a=0),o=i?Math.min(i*e+a,t.length):t.length,r=a;r<o;r+=e)Ya[0]=t[r],Ya[1]=t[r+1],Ya[2]=t[r+2],s(Ya,Ya,n),t[r]=Ya[0],t[r+1]=Ya[1],t[r+2]=Ya[2];return t});function Ta(){var t=new u(4);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Va(t){var e=new u(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _a(t,e,a,i){var s=new u(4);return s[0]=t,s[1]=e,s[2]=a,s[3]=i,s}function Da(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Fa(t,e,a,i,s){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t}function qa(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t}function Na(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t}function ja(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t[3]=e[3]*a[3],t}function Ia(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t[3]=e[3]/a[3],t}function Ha(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Ka(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function za(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t[3]=Math.min(e[3],a[3]),t}function $a(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t[3]=Math.max(e[3],a[3]),t}function Ua(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Za(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t}function Qa(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t[2]=e[2]+a[2]*i,t[3]=e[3]+a[3]*i,t}function Ja(t,e){var a=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return Math.hypot(a,i,s,n)}function ti(t,e){var a=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return a*a+i*i+s*s+n*n}function ei(t){var e=t[0],a=t[1],i=t[2],s=t[3];return Math.hypot(e,a,i,s)}function ai(t){var e=t[0],a=t[1],i=t[2],s=t[3];return e*e+a*a+i*i+s*s}function ii(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function si(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ni(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=a*a+i*i+s*s+n*n;return r>0&&(r=1/Math.sqrt(r)),t[0]=a*r,t[1]=i*r,t[2]=s*r,t[3]=n*r,t}function ri(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function oi(t,e,a,i){var s=a[0]*i[1]-a[1]*i[0],n=a[0]*i[2]-a[2]*i[0],r=a[0]*i[3]-a[3]*i[0],o=a[1]*i[2]-a[2]*i[1],h=a[1]*i[3]-a[3]*i[1],l=a[2]*i[3]-a[3]*i[2],m=e[0],d=e[1],c=e[2],y=e[3];return t[0]=d*l-c*h+y*o,t[1]=-m*l+c*r-y*n,t[2]=m*h-d*r+y*s,t[3]=-m*o+d*n-c*s,t}function hi(t,e,a,i){var s=e[0],n=e[1],r=e[2],o=e[3];return t[0]=s+i*(a[0]-s),t[1]=n+i*(a[1]-n),t[2]=r+i*(a[2]-r),t[3]=o+i*(a[3]-o),t}function li(t,e){var a,i,s,n,r,o;e=e||1;do{r=(a=2*p()-1)*a+(i=2*p()-1)*i}while(r>=1);do{o=(s=2*p()-1)*s+(n=2*p()-1)*n}while(o>=1);var h=Math.sqrt((1-r)/o);return t[0]=e*a,t[1]=e*i,t[2]=e*s*h,t[3]=e*n*h,t}function mi(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3];return t[0]=a[0]*i+a[4]*s+a[8]*n+a[12]*r,t[1]=a[1]*i+a[5]*s+a[9]*n+a[13]*r,t[2]=a[2]*i+a[6]*s+a[10]*n+a[14]*r,t[3]=a[3]*i+a[7]*s+a[11]*n+a[15]*r,t}function di(t,e,a){var i=e[0],s=e[1],n=e[2],r=a[0],o=a[1],h=a[2],l=a[3],m=l*i+o*n-h*s,d=l*s+h*i-r*n,c=l*n+r*s-o*i,y=-r*i-o*s-h*n;return t[0]=m*l+y*-r+d*-h-c*-o,t[1]=d*l+y*-o+c*-r-m*-h,t[2]=c*l+y*-h+m*-o-d*-r,t[3]=e[3],t}function ci(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function yi(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function ui(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function pi(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=e[0],o=e[1],h=e[2],l=e[3];return Math.abs(a-r)<=y*Math.max(1,Math.abs(a),Math.abs(r))&&Math.abs(i-o)<=y*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-h)<=y*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(n-l)<=y*Math.max(1,Math.abs(n),Math.abs(l))}var fi=Na,gi=ja,Pi=Ia,Mi=Ja,vi=ti,wi=ei,Gi=ai,xi=function(){var t=Ta();return function(e,a,i,s,n,r){var o,h;for(a||(a=4),i||(i=0),h=s?Math.min(s*a+i,e.length):e.length,o=i;o<h;o+=a)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],n(t,t,r),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}();function Ci(){var t=new u(4);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function bi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Si(t,e,a){a*=.5;var i=Math.sin(a);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(a),t}function Xi(t,e){var a=2*Math.acos(e[3]),i=Math.sin(a/2);return i>y?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),a}function Yi(t,e){var a=is(t,e);return Math.acos(2*a*a-1)}function Wi(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=a[0],h=a[1],l=a[2],m=a[3];return t[0]=i*m+r*o+s*l-n*h,t[1]=s*m+r*h+n*o-i*l,t[2]=n*m+r*l+i*h-s*o,t[3]=r*m-i*o-s*h-n*l,t}function Ri(t,e,a){a*=.5;var i=e[0],s=e[1],n=e[2],r=e[3],o=Math.sin(a),h=Math.cos(a);return t[0]=i*h+r*o,t[1]=s*h+n*o,t[2]=n*h-s*o,t[3]=r*h-i*o,t}function Ai(t,e,a){a*=.5;var i=e[0],s=e[1],n=e[2],r=e[3],o=Math.sin(a),h=Math.cos(a);return t[0]=i*h-n*o,t[1]=s*h+r*o,t[2]=n*h+i*o,t[3]=r*h-s*o,t}function ki(t,e,a){a*=.5;var i=e[0],s=e[1],n=e[2],r=e[3],o=Math.sin(a),h=Math.cos(a);return t[0]=i*h+s*o,t[1]=s*h-i*o,t[2]=n*h+r*o,t[3]=r*h-n*o,t}function Bi(t,e){var a=e[0],i=e[1],s=e[2];return t[0]=a,t[1]=i,t[2]=s,t[3]=Math.sqrt(Math.abs(1-a*a-i*i-s*s)),t}function Ei(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=Math.sqrt(a*a+i*i+s*s),o=Math.exp(n),h=r>0?o*Math.sin(r)/r:0;return t[0]=a*h,t[1]=i*h,t[2]=s*h,t[3]=o*Math.cos(r),t}function Li(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=Math.sqrt(a*a+i*i+s*s),o=r>0?Math.atan2(r,n)/r:0;return t[0]=a*o,t[1]=i*o,t[2]=s*o,t[3]=.5*Math.log(a*a+i*i+s*s+n*n),t}function Oi(t,e,a){return Li(t,e),as(t,t,a),Ei(t,t),t}function Ti(t,e,a,i){var s,n,r,o,h,l=e[0],m=e[1],d=e[2],c=e[3],u=a[0],p=a[1],f=a[2],g=a[3];return(n=l*u+m*p+d*f+c*g)<0&&(n=-n,u=-u,p=-p,f=-f,g=-g),1-n>y?(s=Math.acos(n),r=Math.sin(s),o=Math.sin((1-i)*s)/r,h=Math.sin(i*s)/r):(o=1-i,h=i),t[0]=o*l+h*u,t[1]=o*m+h*p,t[2]=o*d+h*f,t[3]=o*c+h*g,t}function Vi(t){var e=p(),a=p(),i=p(),s=Math.sqrt(1-e),n=Math.sqrt(e);return t[0]=s*Math.sin(2*Math.PI*a),t[1]=s*Math.cos(2*Math.PI*a),t[2]=n*Math.sin(2*Math.PI*i),t[3]=n*Math.cos(2*Math.PI*i),t}function _i(t,e){var a=e[0],i=e[1],s=e[2],n=e[3],r=a*a+i*i+s*s+n*n,o=r?1/r:0;return t[0]=-a*o,t[1]=-i*o,t[2]=-s*o,t[3]=n*o,t}function Di(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Fi(t,e){var a,i=e[0]+e[4]+e[8];if(i>0)a=Math.sqrt(i+1),t[3]=.5*a,a=.5/a,t[0]=(e[5]-e[7])*a,t[1]=(e[6]-e[2])*a,t[2]=(e[1]-e[3])*a;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);var n=(s+1)%3,r=(s+2)%3;a=Math.sqrt(e[3*s+s]-e[3*n+n]-e[3*r+r]+1),t[s]=.5*a,a=.5/a,t[3]=(e[3*n+r]-e[3*r+n])*a,t[n]=(e[3*n+s]+e[3*s+n])*a,t[r]=(e[3*r+s]+e[3*s+r])*a}return t}function qi(t,e,a,i){var s=.5*Math.PI/180;e*=s,a*=s,i*=s;var n=Math.sin(e),r=Math.cos(e),o=Math.sin(a),h=Math.cos(a),l=Math.sin(i),m=Math.cos(i);return t[0]=n*h*m-r*o*l,t[1]=r*o*m+n*h*l,t[2]=r*h*l-n*o*m,t[3]=r*h*m+n*o*l,t}function Ni(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var ji,Ii,Hi,Ki,zi,$i,Ui=Va,Zi=_a,Qi=Da,Ji=Fa,ts=qa,es=Wi,as=Za,is=ri,ss=hi,ns=ei,rs=ns,os=ai,hs=os,ls=ni,ms=ui,ds=pi,cs=(ji=qe(),Ii=Ie(1,0,0),Hi=Ie(0,1,0),function(t,e,a){var i=da(e,a);return i<-.999999?(ca(ji,Ii,e),Ea(ji)<1e-6&&ca(ji,Hi,e),ma(ji,ji),Si(t,ji,Math.PI),t):i>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(ca(ji,e,a),t[0]=ji[0],t[1]=ji[1],t[2]=ji[2],t[3]=1+i,ls(t,t))}),ys=(Ki=Ci(),zi=Ci(),function(t,e,a,i,s,n){return Ti(Ki,e,s,n),Ti(zi,a,i,n),Ti(t,Ki,zi,2*n*(1-n)),t}),us=($i=gt(),function(t,e,a,i){return $i[0]=a[0],$i[3]=a[1],$i[6]=a[2],$i[1]=i[0],$i[4]=i[1],$i[7]=i[2],$i[2]=-e[0],$i[5]=-e[1],$i[8]=-e[2],ls(t,Fi(t,$i))});function ps(){var t=new u(8);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function fs(t){var e=new u(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function gs(t,e,a,i,s,n,r,o){var h=new u(8);return h[0]=t,h[1]=e,h[2]=a,h[3]=i,h[4]=s,h[5]=n,h[6]=r,h[7]=o,h}function Ps(t,e,a,i,s,n,r){var o=new u(8);o[0]=t,o[1]=e,o[2]=a,o[3]=i;var h=.5*s,l=.5*n,m=.5*r;return o[4]=h*i+l*a-m*e,o[5]=l*i+m*t-h*a,o[6]=m*i+h*e-l*t,o[7]=-h*t-l*e-m*a,o}function Ms(t,e,a){var i=.5*a[0],s=.5*a[1],n=.5*a[2],r=e[0],o=e[1],h=e[2],l=e[3];return t[0]=r,t[1]=o,t[2]=h,t[3]=l,t[4]=i*l+s*h-n*o,t[5]=s*l+n*r-i*h,t[6]=n*l+i*o-s*r,t[7]=-i*r-s*o-n*h,t}function vs(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function ws(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Gs(t,e){var a=Ci();Ge(a,e);var i=new u(3);return ve(i,e),Ms(t,a,i),t}function xs(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Cs(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function bs(t,e,a,i,s,n,r,o,h){return t[0]=e,t[1]=a,t[2]=i,t[3]=s,t[4]=n,t[5]=r,t[6]=o,t[7]=h,t}var Ss=Qi;function Xs(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ys=Qi;function Ws(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Rs(t,e){var a=e[4],i=e[5],s=e[6],n=e[7],r=-e[0],o=-e[1],h=-e[2],l=e[3];return t[0]=2*(a*l+n*r+i*h-s*o),t[1]=2*(i*l+n*o+s*r-a*h),t[2]=2*(s*l+n*h+a*o-i*r),t}function As(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=.5*a[0],h=.5*a[1],l=.5*a[2],m=e[4],d=e[5],c=e[6],y=e[7];return t[0]=i,t[1]=s,t[2]=n,t[3]=r,t[4]=r*o+s*l-n*h+m,t[5]=r*h+n*o-i*l+d,t[6]=r*l+i*h-s*o+c,t[7]=-i*o-s*h-n*l+y,t}function ks(t,e,a){var i=-e[0],s=-e[1],n=-e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=o*r+m*i+h*n-l*s,c=h*r+m*s+l*i-o*n,y=l*r+m*n+o*s-h*i,u=m*r-o*i-h*s-l*n;return Ri(t,e,a),i=t[0],s=t[1],n=t[2],r=t[3],t[4]=d*r+u*i+c*n-y*s,t[5]=c*r+u*s+y*i-d*n,t[6]=y*r+u*n+d*s-c*i,t[7]=u*r-d*i-c*s-y*n,t}function Bs(t,e,a){var i=-e[0],s=-e[1],n=-e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=o*r+m*i+h*n-l*s,c=h*r+m*s+l*i-o*n,y=l*r+m*n+o*s-h*i,u=m*r-o*i-h*s-l*n;return Ai(t,e,a),i=t[0],s=t[1],n=t[2],r=t[3],t[4]=d*r+u*i+c*n-y*s,t[5]=c*r+u*s+y*i-d*n,t[6]=y*r+u*n+d*s-c*i,t[7]=u*r-d*i-c*s-y*n,t}function Es(t,e,a){var i=-e[0],s=-e[1],n=-e[2],r=e[3],o=e[4],h=e[5],l=e[6],m=e[7],d=o*r+m*i+h*n-l*s,c=h*r+m*s+l*i-o*n,y=l*r+m*n+o*s-h*i,u=m*r-o*i-h*s-l*n;return ki(t,e,a),i=t[0],s=t[1],n=t[2],r=t[3],t[4]=d*r+u*i+c*n-y*s,t[5]=c*r+u*s+y*i-d*n,t[6]=y*r+u*n+d*s-c*i,t[7]=u*r-d*i-c*s-y*n,t}function Ls(t,e,a){var i=a[0],s=a[1],n=a[2],r=a[3],o=e[0],h=e[1],l=e[2],m=e[3];return t[0]=o*r+m*i+h*n-l*s,t[1]=h*r+m*s+l*i-o*n,t[2]=l*r+m*n+o*s-h*i,t[3]=m*r-o*i-h*s-l*n,o=e[4],h=e[5],l=e[6],m=e[7],t[4]=o*r+m*i+h*n-l*s,t[5]=h*r+m*s+l*i-o*n,t[6]=l*r+m*n+o*s-h*i,t[7]=m*r-o*i-h*s-l*n,t}function Os(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=a[0],h=a[1],l=a[2],m=a[3];return t[0]=i*m+r*o+s*l-n*h,t[1]=s*m+r*h+n*o-i*l,t[2]=n*m+r*l+i*h-s*o,t[3]=r*m-i*o-s*h-n*l,o=a[4],h=a[5],l=a[6],m=a[7],t[4]=i*m+r*o+s*l-n*h,t[5]=s*m+r*h+n*o-i*l,t[6]=n*m+r*l+i*h-s*o,t[7]=r*m-i*o-s*h-n*l,t}function Ts(t,e,a,i){if(Math.abs(i)<y)return xs(t,e);var s=Math.hypot(a[0],a[1],a[2]);i*=.5;var n=Math.sin(i),r=n*a[0]/s,o=n*a[1]/s,h=n*a[2]/s,l=Math.cos(i),m=e[0],d=e[1],c=e[2],u=e[3];t[0]=m*l+u*r+d*h-c*o,t[1]=d*l+u*o+c*r-m*h,t[2]=c*l+u*h+m*o-d*r,t[3]=u*l-m*r-d*o-c*h;var p=e[4],f=e[5],g=e[6],P=e[7];return t[4]=p*l+P*r+f*h-g*o,t[5]=f*l+P*o+g*r-p*h,t[6]=g*l+P*h+p*o-f*r,t[7]=P*l-p*r-f*o-g*h,t}function Vs(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t}function _s(t,e,a){var i=e[0],s=e[1],n=e[2],r=e[3],o=a[4],h=a[5],l=a[6],m=a[7],d=e[4],c=e[5],y=e[6],u=e[7],p=a[0],f=a[1],g=a[2],P=a[3];return t[0]=i*P+r*p+s*g-n*f,t[1]=s*P+r*f+n*p-i*g,t[2]=n*P+r*g+i*f-s*p,t[3]=r*P-i*p-s*f-n*g,t[4]=i*m+r*o+s*l-n*h+d*P+u*p+c*g-y*f,t[5]=s*m+r*h+n*o-i*l+c*P+u*f+y*p-d*g,t[6]=n*m+r*l+i*h-s*o+y*P+u*g+d*f-c*p,t[7]=r*m-i*o-s*h-n*l+u*P-d*p-c*f-y*g,t}var Ds=_s;function Fs(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t}var qs=is;function Ns(t,e,a,i){var s=1-i;return qs(e,a)<0&&(i=-i),t[0]=e[0]*s+a[0]*i,t[1]=e[1]*s+a[1]*i,t[2]=e[2]*s+a[2]*i,t[3]=e[3]*s+a[3]*i,t[4]=e[4]*s+a[4]*i,t[5]=e[5]*s+a[5]*i,t[6]=e[6]*s+a[6]*i,t[7]=e[7]*s+a[7]*i,t}function js(t,e){var a=zs(e);return t[0]=-e[0]/a,t[1]=-e[1]/a,t[2]=-e[2]/a,t[3]=e[3]/a,t[4]=-e[4]/a,t[5]=-e[5]/a,t[6]=-e[6]/a,t[7]=e[7]/a,t}function Is(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Hs=ns,Ks=Hs,zs=os,$s=zs;function Us(t,e){var a=zs(e);if(a>0){a=Math.sqrt(a);var i=e[0]/a,s=e[1]/a,n=e[2]/a,r=e[3]/a,o=e[4],h=e[5],l=e[6],m=e[7],d=i*o+s*h+n*l+r*m;t[0]=i,t[1]=s,t[2]=n,t[3]=r,t[4]=(o-i*d)/a,t[5]=(h-s*d)/a,t[6]=(l-n*d)/a,t[7]=(m-r*d)/a}return t}function Zs(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Qs(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Js(t,e){var a=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],h=t[6],l=t[7],m=e[0],d=e[1],c=e[2],u=e[3],p=e[4],f=e[5],g=e[6],P=e[7];return Math.abs(a-m)<=y*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(i-d)<=y*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-c)<=y*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(n-u)<=y*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-p)<=y*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-f)<=y*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(h-g)<=y*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(l-P)<=y*Math.max(1,Math.abs(l),Math.abs(P))}function tn(){var t=new u(2);return u!=Float32Array&&(t[0]=0,t[1]=0),t}function en(t){var e=new u(2);return e[0]=t[0],e[1]=t[1],e}function an(t,e){var a=new u(2);return a[0]=t,a[1]=e,a}function sn(t,e){return t[0]=e[0],t[1]=e[1],t}function nn(t,e,a){return t[0]=e,t[1]=a,t}function rn(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t}function on(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t}function hn(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t}function ln(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t}function mn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function dn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function cn(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t}function yn(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t}function un(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function pn(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t}function fn(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t}function gn(t,e){var a=e[0]-t[0],i=e[1]-t[1];return Math.hypot(a,i)}function Pn(t,e){var a=e[0]-t[0],i=e[1]-t[1];return a*a+i*i}function Mn(t){var e=t[0],a=t[1];return Math.hypot(e,a)}function vn(t){var e=t[0],a=t[1];return e*e+a*a}function wn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Gn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function xn(t,e){var a=e[0],i=e[1],s=a*a+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t}function Cn(t,e){return t[0]*e[0]+t[1]*e[1]}function bn(t,e,a){var i=e[0]*a[1]-e[1]*a[0];return t[0]=t[1]=0,t[2]=i,t}function Sn(t,e,a,i){var s=e[0],n=e[1];return t[0]=s+i*(a[0]-s),t[1]=n+i*(a[1]-n),t}function Xn(t,e){e=e||1;var a=2*p()*Math.PI;return t[0]=Math.cos(a)*e,t[1]=Math.sin(a)*e,t}function Yn(t,e,a){var i=e[0],s=e[1];return t[0]=a[0]*i+a[2]*s,t[1]=a[1]*i+a[3]*s,t}function Wn(t,e,a){var i=e[0],s=e[1];return t[0]=a[0]*i+a[2]*s+a[4],t[1]=a[1]*i+a[3]*s+a[5],t}function Rn(t,e,a){var i=e[0],s=e[1];return t[0]=a[0]*i+a[3]*s+a[6],t[1]=a[1]*i+a[4]*s+a[7],t}function An(t,e,a){var i=e[0],s=e[1];return t[0]=a[0]*i+a[4]*s+a[12],t[1]=a[1]*i+a[5]*s+a[13],t}function kn(t,e,a,i){var s=e[0]-a[0],n=e[1]-a[1],r=Math.sin(i),o=Math.cos(i);return t[0]=s*o-n*r+a[0],t[1]=s*r+n*o+a[1],t}function Bn(t,e){var a=t[0],i=t[1],s=e[0],n=e[1],r=Math.sqrt(a*a+i*i)*Math.sqrt(s*s+n*n),o=r&&(a*s+i*n)/r;return Math.acos(Math.min(Math.max(o,-1),1))}function En(t){return t[0]=0,t[1]=0,t}function Ln(t){return"vec2("+t[0]+", "+t[1]+")"}function On(t,e){return t[0]===e[0]&&t[1]===e[1]}function Tn(t,e){var a=t[0],i=t[1],s=e[0],n=e[1];return Math.abs(a-s)<=y*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-n)<=y*Math.max(1,Math.abs(i),Math.abs(n))}var Vn=Mn,_n=on,Dn=hn,Fn=ln,qn=gn,Nn=Pn,jn=vn,In=function(){var t=tn();return function(e,a,i,s,n,r){var o,h;for(a||(a=2),i||(i=0),h=s?Math.min(s*a+i,e.length):e.length,o=i;o<h;o+=a)t[0]=e[o],t[1]=e[o+1],n(t,t,r),e[o]=t[0],e[o+1]=t[1];return e}}()},9072:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BurstSprout=void 0;const i=a(8626),s=a(4610),n=a(7169),r=a(3955),o=a(8524),h=a(5059),l=a(9988),m=a(4888);class d extends s.Enemy{constructor(t){super(t),this.burst=333,this.peakR=0,this.myBorder=o.Color.PINK,this.motion=new l.Vector}number(){return 3}act(){this.flagged>0&&this.flagged--,this.reduceArea(-1),this.myR>this.peakR&&(this.peakR=this.myR),this.area()>=this.burst&&this.explode()}explode(){if(Math.random()<.3){const t=5*Math.random()+1,e=l.Vector.fromDirectionLength(360*Math.random(),this.myR+t+1),a=new h.Point(this.myX+e.dx,this.myY+e.dy);e.length=4,e.updateCartesian(),m.World.addShot(new n.EnemyShot({point:a,v:e,r:t,shrink:!0})),this.reduceArea(.5)}}die(){m.World.addShot(new r.ExplosionA(this.myX,this.myY,2*this.peakR,.9,25)),m.World.addAbsorb(new i.Absorb({x:this.myX,y:this.myY,r:1.5*Math.sqrt(this.peakR)}))}}e.BurstSprout=d},4143:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyImpostor=void 0;const i=a(4610),s=a(7620),n=a(8524),r=a(9988);class o extends i.Enemy{constructor(t){super(t),this.destColor=n.Color.fromRGBA(1,0,0),this.startSpeed=0,this.myFill=null,this.myBorder=n.Color.BLACK,this.motion=r.Vector.fromXyxy(this.myX,this.myY,s.GamePanel.player.myX,s.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=Math.max(3*Math.random()+.01,.1),this.startSpeed=this.speed}number(){return 4}act(){if(super.act(),this.myBorder.equals,!this.myBorder.equals(this.destColor)){const t=10;this.myBorder=n.Color.fromRGBA(Math.min(this.myBorder.rgba[0]+(this.destColor.rgba[0]-this.myBorder.rgba[0])/t,1),Math.min(this.myBorder.rgba[1]+(this.destColor.rgba[1]-this.myBorder.rgba[1])/t,1),Math.min(this.myBorder.rgba[2]+(this.destColor.rgba[2]-this.myBorder.rgba[2])/t,1))}Math.random()<.001&&(this.destColor=n.Color.fromRGBA(1*Math.random(),1*Math.random(),1*Math.random())),this.speed=this.startSpeed,this.distanceCircle(s.GamePanel.player)<100&&(this.speed=5*this.startSpeed)}hit(t){super.hit(t/3),(this.destColor===n.Color.RED||Math.random()<.1)&&(this.destColor=n.Color.fromRGBA(1*Math.random(),1*Math.random(),1*Math.random()))}}e.EnemyImpostor=o},523:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyNinja=void 0;const i=a(4610),s=a(5362),n=a(7620),r=a(7169),o=a(8524),h=a(8321),l=a(9988),m=a(4888);class d extends i.Enemy{constructor(t){super(t),this.range=50,this.reflex=0,this.myFill=null,this.myBorder=o.Color.DARK_GRAY.clone(),this.motion=l.Vector.fromXyxy(this.myX,this.myY,n.GamePanel.player.myX,n.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=Math.max(3*Math.random()+.01,.1)}number(){return 5}act(){if(super.act(),this.reflex<=0)for(const t of m.World.shots){const e=t.vec.copy();e.length=this.range,e.updateCartesian();const a=new s.Line(t.myX,t.myY,t.myX+e.dx,t.myY+e.dy);if(t instanceof r.EnemyShot&&t.distanceCircle(this)<=this.range&&this.intersectsLine(a)){this.teleport(t);break}}else this.reflex--}teleport(t){this.reflex+=60;let e=0;e=Math.random()<.5?(t.vec.direction+90)%360:t.vec.direction-90,e<0&&(e+=360);const a=new l.Vector;a.direction=e,a.length=30*Math.random()+2*this.myR,a.updateCartesian(),this.myX+=a.dx,this.myY+=a.dy}paint(t){const e=l.Vector.fromPoints(n.GamePanel.player.myPoint(),n.GamePanel.mousePos),a=l.Vector.fromPoints(n.GamePanel.player.myPoint(),this.myPoint()),i=Math.max(0,h.angleDifference(e.direction,a.direction)-this.myR),s=this.distanceCircle(n.GamePanel.player);this.myO=0,s<100?this.myO=(100-s)/100:i<45&&(this.myO=(45-s)/45),super.paint(t)}}e.EnemyNinja=d},4658:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyNom=void 0;const i=a(8626),s=a(5569),n=a(4610),r=a(2250),o=a(7620),h=a(8524),l=a(9988),m=a(4888);class d extends n.Enemy{constructor(t){super(t),this.digest=0,this.worth=0,this.killed=0,this.myFill=null,this.myBorder=h.Color.GREEN,this.motion=l.Vector.fromXyxy(this.myX,this.myY,o.GamePanel.player.myX,o.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=Math.max(3*Math.random()+.01,.1)}number(){return 6}act(){if(this.myX+=this.motion.dx,this.myY+=this.motion.dy,this.digest<=0)if(0===m.World.absorbs.length&&0===m.World.weapons.length)super.act();else{let t=5e3,e=null;for(const a of m.World.absorbs)this.distanceCircle(a)<t&&(e=a,t=this.distanceCircle(a));for(const a of m.World.weapons)this.distanceCircle(a)<t&&(e=a,t=this.distanceCircle(a));const a=l.Vector.fromXyxy(this.myX,this.myY,e.myX,e.myY);if(a.length=.1,a.updateCartesian(),this.motion.add(a),this.motion.length>this.speed&&(this.motion.length=this.speed),this.motion.updateCartesian(),this.intersects(e).theBool&&(this.digest=e.area(),this.worth+=e.area()/3,e instanceof i.Absorb&&m.World.removeAbsorb(e),e instanceof r.Weapon&&m.World.removeWeapon(e)),this.intersects(o.GamePanel.player).theBool){o.GamePanel.player.hit(this.myDamage());const t=l.Vector.fromXyxy(o.GamePanel.player.myX,o.GamePanel.player.myY,this.myX,this.myY);t.length=o.GamePanel.player.myR+this.myR,t.updateCartesian(),this.myX=o.GamePanel.player.myX+t.dx,this.myY=o.GamePanel.player.myY+t.dy}}else this.digest-=1,this.setArea(this.area()+3);this.motion.scale(.93)}die(){}paint(t){super.paint(t);const e=new s.Circle({x:this.myX,y:this.myY,area:this.area()});e.myBorder=h.Color.RED,e.paint(t),o.GamePanel.graphics<3&&(e.scaleArea(.5),e.myBorder=h.Color.GREEN.darker(),e.paint(t))}}e.EnemyNom=d},4602:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyShell=void 0;const i=a(7194),s=a(7169),n=a(8524),r=a(5059),o=a(9988),h=a(4888),l=a(4610),m=a(5362);class d extends l.Enemy{constructor(t){super({nspeed:Math.max(3*Math.random()+.01,.1),...t}),this.range=250,this.cooldown=0,this.ammo=3,this.myFill=null,this.myBorder=n.Color.WHITE}number(){return 8}act(){if(super.act(),this.ammo+=.6,this.ammo>10&&(this.ammo=10),this.cooldown>0)this.cooldown--;else for(const t of h.World.shots){if(this.ammo<1)break;if(t.notShot)continue;const e=t.vec.copy();e.length=this.range,e.updateCartesian();const a=new m.Line(t.myX,t.myY,t.myX+e.dx,t.myY+e.dy);if(!(t instanceof s.EnemyShot)&&t.distanceCircle(this)<=this.range&&this.intersectsLine(a)){const e=t.distanceCircle(this);this.shoot(t.path.x1+t.vec.dx*(e/25),t.path.y1+t.vec.dy*(e/25))}}}shoot(t,e){this.ammo--;const a=o.Vector.fromXyxy(this.myX,this.myY,t,e);a.length=this.myR+4,a.updateCartesian();const s=new r.Point(this.myX+a.dx,this.myY+a.dy);a.length=25,a.updateCartesian();const n=new i.EnemyAntiShot(s,a,2);h.World.addShot(n),this.hit(.5)}}e.EnemyShell=d},22:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyShielder=void 0;const i=a(5569),s=a(4610),n=a(7620),r=a(8524),o=a(9988),h=a(4888);class l extends s.Enemy{constructor(t){super(t),this.shields=500,this.overshields=6e3,this.stun=0,this.overstun=0,this.maxovershields=8e3,this.maxshields=2e3,this.myFill=null,this.myBorder=r.Color.fromRGBA(.25,.5,1),this.motion=o.Vector.fromXyxy(this.myX,this.myY,n.GamePanel.player.myX,n.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=Math.max(3*Math.random()+.01,.1)}number(){return 9}act(){if(this.cautious(),this.stun<=0?this.shields<this.maxshields-10&&(this.hit(.1),this.shields+=10):this.stun--,this.overstun<=0?this.overshields<this.maxovershields-25&&(this.hit(.1),this.overshields+=25):this.overstun--,this.shields>0){for(const t of h.World.enemies)if(this.distanceCircle(t)<200){const e=new i.Circle({circle:t});e.myR+=10;for(const t of h.World.shots){if(this.shields<=0){this.shields=0;break}e.intersects(t).theBool&&!h.World.removeShots.includes(t)&&t.movingTo(e)&&(this.shields-=t.myDamage(),this.shields<0&&(this.shields=0),t.hit(),t.vec.scale(1-Math.sqrt(this.shields/this.maxshields)),t.vec.length<1&&(t.die(),h.World.removeShot(t)),this.stun=100)}}}else this.shields=0;if(this.overshields>0){const t=new i.Circle({circle:this});t.myR=200;for(const e of h.World.shots){if(this.overshields<=0){this.overshields=0;break}t.intersects(e).theBool&&!h.World.removeShots.includes(e)&&e.movingTo(t)&&(this.overshields-=e.myDamage()/10,this.overshields<0&&(this.overshields=0),e.hit(),e.vec.scale(1-Math.pow(this.overshields/(2.5*this.maxovershields),2)/2),e.vec.length<1&&(e.die(),h.World.removeShot(e)),this.overstun=100)}}}paint(t){if(super.paint(t),this.shields>0)for(const e of h.World.enemies)if(this.distanceCircle(e)<200){const a=new i.Circle({circle:e});if(a.myR+=10,a.myBorder=r.Color.WHITE,n.GamePanel.graphics>=2)a.myO=this.shields/this.maxshields;else{const t=this.shields/this.maxshields;a.myBorder=r.Color.fromRGBA(t,t,t)}a.paint(t)}if(this.overshields>0){const e=new i.Circle({circle:this});if(e.myR+=200,e.myBorder=r.Color.WHITE,n.GamePanel.graphics>=2)e.myO=this.overshields/this.maxovershields;else{const t=this.overshields/this.maxovershields;e.myBorder=r.Color.fromRGBA(t,t,t)}e.paint(t)}}}e.EnemyShielder=l},229:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyShooter=void 0;const i=a(4610),s=a(5362),n=a(7620),r=a(7169),o=a(8524),h=a(5059),l=a(9988),m=a(4888);class d extends i.Enemy{constructor(t){super(t),this.cooldown=0,this.myFill=null,this.myBorder=o.Color.MAGENTA,this.motion=l.Vector.fromXyxy(this.myX,this.myY,n.GamePanel.player.myX,n.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=Math.max(3*Math.random()+.01,.1)}number(){return 10}act(){if(this.cautious(),this.cooldown<=0){let t=!1;const e=new s.Line(this.myX,this.myY,n.GamePanel.player.myX,n.GamePanel.player.myY);for(const a of m.World.enemies)if(a!==this&&a.intersectsLine(e)){t=!0;break}t||this.fire()}else this.cooldown--}fire(){const t=l.Vector.fromXyxy(this.myX,this.myY,n.GamePanel.player.myX,n.GamePanel.player.myY);t.length=this.myR+4,t.direction=t.direction-5+10*Math.random(),t.updateCartesian();const e=new h.Point(this.myX+t.dx,this.myY+t.dy);t.length=4,t.updateCartesian(),t.add(this.motion),m.World.addShot(new r.EnemyShot({point:e,v:t,r:2})),this.cooldown+=10/this.myR*40,n.GamePanel.player.reduceArea(.3)}}e.EnemyShooter=d},5098:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemySwarm=void 0;const i=a(4610),s=a(7620),n=a(8524),r=a(5059),o=a(9988),h=a(4888),l=a(7498);class m extends i.Enemy{constructor(t){super(t),this.swarm=0,this.dead=!1,this.startHealth=0,this.startHealth=t.area,this.myFill=null,this.myBorder=n.Color.ORANGE,this.motion=o.Vector.fromXyxy(this.myX,this.myY,s.GamePanel.player.myX,s.GamePanel.player.myY),this.speed=1,this.motion.length=this.speed,this.motion.updateCartesian()}number(){return 11}act(){if(this.cautious(),this.swarm<2)for(;this.swarm<5;this.swarm++)h.World.addEnemy(new l.EnemySwarmer({area:50,point:new r.Point(this.myX+30-30*Math.random()/2,this.myY+30-30*Math.random()/2),home:this})),this.startHealth-=5;Math.random()<.05&&this.swarm<30&&(this.swarm++,this.startHealth-=5,h.World.addEnemy(new l.EnemySwarmer({area:50,point:new r.Point(this.myX+30-30*Math.random()/2,this.myY+30-30*Math.random()/2),home:this})))}die(){this.dead=!0}}e.EnemySwarm=m},7498:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemySwarmer=void 0;const i=a(4610),s=a(7620),n=a(8524),r=a(9988),o=a(4888),h=a(5098);class l extends i.Enemy{constructor(t){super(t),this.home=null,this.home=t.home,this.myFill=null,this.myBorder=n.Color.YELLOW,this.motion=r.Vector.fromXyxy(this.myX,this.myY,s.GamePanel.player.myX,s.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian(),this.speed=5}number(){return 12}act(){let t=s.GamePanel.player;null!==this.home&&(this.home.dead?this.home=null:(this.distanceCircle(this.home)<50&&this.home.area()<this.home.startHealth&&(this.hit(.5),this.home.reduceArea(-.5)),t=this.home)),this.flagged>0&&this.flagged--,this.chained&&(this.chained=!1),this.myX+=this.motion.dx,this.myY+=this.motion.dy;for(const t of o.World.enemies)if((t instanceof l||t instanceof h.EnemySwarm)&&this.intersects(t).theBool&&t!==this){const e=r.Vector.fromXyxy(t.myX,t.myY,this.myX,this.myY);e.length=t.myR+this.myR+1,e.updateCartesian(),this.myX=t.myX+e.dx,this.myY=t.myY+e.dy;break}this.distanceCircle(s.GamePanel.player)<100&&(t=s.GamePanel.player);const e=r.Vector.fromXyxy(this.myX,this.myY,t.myX+Math.random()*this.myR-this.myR/2,t.myY+Math.random()*this.myR-this.myR/2);if(e.length=.5,e.updateCartesian(),this.motion.add(e),this.motion.length>this.speed&&(this.motion.length=this.speed),this.motion.updateCartesian(),this.intersects(s.GamePanel.player).theBool){s.GamePanel.player.hit(this.myDamage());const t=r.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,this.myX,this.myY);t.length=s.GamePanel.player.myR+this.myR,t.updateCartesian(),this.myX=s.GamePanel.player.myX+t.dx,this.myY=s.GamePanel.player.myY+t.dy}}die(){null!==this.home&&this.home.swarm--}}e.EnemySwarmer=l},8626:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Absorb=void 0;const i=a(7620),s=a(8524),n=a(9988),r=a(4888),o=a(5569),h=a(6817);class l extends o.Circle{constructor(t){super(t),this.setArea(200*Math.random()+20),this.myBorder=s.Color.GREEN;for(let t=Math.ceil(Math.random()*(10*this.myR));t>0;t--)r.World.addParticle(new h.Particle({x:this.myX,y:this.myY,color:s.Color.GREEN,r:5}))}toParticles(){const t=360/this.area()+1,e=n.Vector.fromDirectionLength(0,this.myR);e.length=this.myR;for(let a=0;a<360;a+=t){e.direction=a,e.updateCartesian();const t=new h.Particle({x:this.myX+e.dx,y:this.myY+e.dy,color:s.Color.GREEN,start:e});t.gravitate=!0,t.gravitateTo=i.GamePanel.player,t.gravityStrength=.4,t.heal=!0,t.fade=.005,t.destroy=!0,r.World.addParticle(t)}}}e.Absorb=l},8408:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Actor=void 0,e.Actor=class{constructor({x:t=0,y:e=0,r:a=0,w:i=0,h:s=0,o:n=1,area:r=-1,point:o=null,circle:h=null}){this.myO=1,this.myX=t,this.myY=e,this.myR=a,this.myW=i,this.myH=s,this.myO=n,null!==o&&(this.myX+=o.myX,this.myY+=o.myY),null!==h&&(this.myX+=h.myX,this.myY+=h.myY,this.myR+=h.myR),r>0&&this.setArea(r)}act(){}paint(t){}setArea(t){this.myR=Math.sqrt(t/Math.PI)}}},5569:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const i=a(7620),s=a(7458),n=a(8321),r=a(5059),o=a(9988),h=a(4888),l=a(8408),m=a(6817);class d extends l.Actor{constructor(){super(...arguments),this.myFill=null,this.myBorder=null,this.myFO=1,this.myBO=1,this.linkOne=null,this.linkTwo=null}myPoint(){return new r.Point(this.myX,this.myY)}area(){return Math.PI*(this.myR*this.myR)}static toArea(t){return Math.PI*(t*t)}static toRadius(t){return Math.sqrt(t/Math.PI)}reduceArea(t){this.area()-t>0?this.myR=Math.sqrt((this.area()-t)/Math.PI):this.myR=0}scaleArea(t){this.myR=Math.sqrt(this.area()*t/Math.PI)}toParticles(){this.toParticlesColor(this.myBorder,!1)}toParticlesColor(t,e){const a=360/this.area()*Math.PI+1,s=o.Vector.fromDirectionLength(0,this.myR);s.length=this.myR;for(let n=0;n<360;n+=a){s.direction=n,s.updateCartesian();const a=new m.Particle({x:this.myX+s.dx,y:this.myY+s.dy,color:t,start:s,r:1});e&&(a.gravitate=!0,a.gravitateTo=i.GamePanel.player,a.gravityStrength=.4),h.World.addParticle(a)}}intersects(t){const e=Math.sqrt(Math.pow(this.myX-t.myX,2)+Math.pow(this.myY-t.myY,2));return e<this.myR+t.myR?new s.DataBox(!0,e):new s.DataBox(!1,e)}intersectsLine(t){return this.distanceLine(t)<=0}intersectsLineWithinCircle(t,e){return this.distanceLine(t)<=e.myR}intersectsPoint(t){return this.distancePoint(t)<=this.myR}lineIntersects(t){const e=Math.sqrt(Math.pow(this.myX-t.myX,2)+Math.pow(this.myY-t.myY,2));return e<this.myR+t.myR&&e>Math.abs(this.myR-t.myR)}centerDistance(t){return Math.sqrt(Math.pow(t.myX-this.myX,2)+Math.pow(t.myY-this.myY,2))}distancePoint(t){return Math.sqrt(Math.pow(t.myX-this.myX,2)+Math.pow(t.myY-this.myY,2))-this.myR}distanceCircle(t){return Math.sqrt(Math.pow(t.myX-this.myX,2)+Math.pow(t.myY-this.myY,2))-this.myR-t.myR}distanceLine(t){return n.ptSegDist(t.x1,t.y1,t.x2,t.y2,this.myX,this.myY)-this.myR}containsPoint(t){return this.distancePoint(t)<=this.myR}containsCircle(t){return this.centerDistance(t)<=this.myR-t.myR}angleToCircle(t){return o.Vector.fromPoints(this.myPoint(),t.myPoint()).direction}angleToPoint(t){return o.Vector.fromPoints(this.myPoint(),t).direction}act(){}paintBorder(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR);null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}paintFill(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR);null!==this.myFill&&(t.setColorA(this.myFill,this.myO),t.fillOval(e,a,i))}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR);null!==this.myFill&&(t.setColorA(this.myFill,this.myO),t.fillOval(e,a,i)),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}paintScale(t,e){const a=Math.round(this.myX-this.myR*e),i=Math.round(this.myY-this.myR*e),s=Math.round(2*this.myR*e);null!==this.myFill&&(t.setColorA(this.myFill,this.myO),t.fillOval(a,i,s)),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(a,i,s))}paintGradient(t,e,a){const i=this.myO;this.myO=i*a;for(let a=e;a>0;a--)this.paintScale(t,a/e);this.myO=i}}e.Circle=d},2426:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ElectricFence=void 0;const i=a(4686),s=a(8524),n=a(9988),r=a(4888),o=a(5362);class h extends i.TestShot{constructor(t){super(t),this.shotVec=null,this.cooldown=0,this.ammunition=1e4,this.rapidity=3,this.useAmmo=1,this.zap=null;const{target:e=null}=t;this.target=e,null!==e&&(this.shotVec=n.Vector.fromXyxyLength(this.myX,this.myY,e.myX,e.myY,30),this.target.target=this,this.rapidity=Math.pow(this.distanceCircle(e),.5)/4,this.useAmmo=Math.max(Math.pow(this.distanceCircle(e),2)/2e4,.1)),this.myR=5,this.myFill=null,this.myBorder=s.Color.YELLOW,this.ghostShot=!0,this.notShot=!0}act(){if(null!==this.target)if(this.cooldown--,this.cooldown<=0){this.zap=new o.Line(this.myX,this.myY,this.target.myX,this.target.myY),this.zap.myColor=s.Color.YELLOW;for(const t of r.World.enemies)t.intersectsLine(this.zap)&&t.hit(20);this.ammunition-=this.useAmmo,this.cooldown+=this.rapidity}else this.zap=null;this.ammunition<=1&&(r.World.removeShot(this),null===this.target.target&&r.World.removeShot(this.target))}paint(t){this.myO=this.ammunition/1e4,super.paint(t),null!==this.zap&&this.zap.paint(t)}}e.ElectricFence=h},4610:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Enemy=void 0;const i=a(7620),s=a(8524),n=a(9988),r=a(4888),o=a(5569);class h extends o.Circle{constructor(t){super(t),this.speed=1,this.flagged=0,this.chained=!1,this.spawnrate=1e-5,this.speed=t.nspeed??Math.max(2*Math.random()+.01,.1),this.myBorder=s.Color.RED,this.motion=n.Vector.fromXyxy(this.myX,this.myY,i.GamePanel.player.myX,i.GamePanel.player.myY),this.motion.length=this.speed,this.motion.updateCartesian()}static calcChance(t,e){return(Math.pow((e+30)/10,i.GamePanel.difficulty/2)+1)/(3*e+t)}number(){return 1}isAlive(){return this.myR>2.5}act(){this.flagged>0&&this.flagged--,this.chained&&(this.chained=!1),this.myX+=this.motion.dx,this.myY+=this.motion.dy;const t=n.Vector.fromXyxy(this.myX,this.myY,i.GamePanel.player.myX,i.GamePanel.player.myY);if(t.length=.1,t.updateCartesian(),this.motion.add(t),this.motion.length>this.speed&&(this.motion.length=this.speed),this.motion.updateCartesian(),this.intersects(i.GamePanel.player).theBool){i.GamePanel.player.hit(this.myDamage());const t=n.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,this.myX,this.myY);t.length=i.GamePanel.player.myR+this.myR,t.updateCartesian(),this.myX=i.GamePanel.player.myX+t.dx,this.myY=i.GamePanel.player.myY+t.dy}}cautious(){if(this.flagged>0&&this.flagged--,this.chained&&(this.chained=!1),this.myX+=this.motion.dx,this.myY+=this.motion.dy,this.distanceCircle(i.GamePanel.player)>200){const t=n.Vector.fromXyxy(this.myX,this.myY,i.GamePanel.player.myX,i.GamePanel.player.myY);t.length=.1,t.updateCartesian(),this.motion.add(t)}else if(this.distanceCircle(i.GamePanel.player)<150){const t=n.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,this.myX,this.myY);t.length=.1,t.direction+=90,t.direction%=360,t.updateCartesian(),this.motion.add(t)}if(this.motion.length>this.speed&&(this.motion.length=this.speed),this.motion.updateCartesian(),this.intersects(i.GamePanel.player).theBool){i.GamePanel.player.hit(this.myDamage());const t=n.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,this.myX,this.myY);t.length=i.GamePanel.player.myR+this.myR,t.updateCartesian(),this.myX=i.GamePanel.player.myX+t.dx,this.myY=i.GamePanel.player.myY+t.dy}this.motion.scale(.99)}myDamage(){return Math.pow(this.area(),.2)-1}hit(t){if(this.isAlive()){const e=this.area()-t;(o.Circle.toRadius(e)<=2.5||e<0)&&this.particles(),this.reduceArea(t),i.GamePanel.damageDealt+=t,e<0&&(i.GamePanel.damageDealt+=e),this.myR<=2.5&&(r.World.removeEnemy(this),i.GamePanel.enemiesKilled++,this.die())}}particles(){this.toParticles()}die(){}paint(t){const e=this.area(),a=Math.pow(e,.8);if(i.GamePanel.graphics>2)for(let i=a;i<e;i+=a){const e=new o.Circle({x:this.myX,y:this.myY,area:i});if(e.myBorder=this.myBorder.darker().darker(),e.paint(t),i>1e4)break}super.paint(t)}}e.Enemy=h},141:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FlameTurret=void 0;const i=a(7620),s=a(7169),n=a(6956),r=a(8524),o=a(5059),h=a(9988),l=a(4888),m=a(2651);class d extends m.Turret{constructor(t){super(t),this.range=100,this.health=750,this.cooldown=0,this.maxAmmo=5e3,this.ammunition=this.maxAmmo,this.myR=8,this.myFill=r.Color.DARK_GRAY,this.myBorder=r.Color.fromRGBA(.6,0,0),this.vec=h.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of l.World.shots)t.isTurret&&this.intersects(t).theBool&&l.World.removeShot(t)}act(){let t=this.range,e=null;this.cooldown>0&&this.cooldown--,this.reload();for(const t of l.World.shots)t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&(l.World.removeShot(t),this.health-=t.vec.length*t.myR,this.health<=0&&l.World.removeShot(this));for(const a of l.World.enemies)if(this.ammunition>0&&this.distanceCircle(a)<=this.range&&this.cooldown<=0&&this.distanceCircle(a)<t&&(t=this.distanceCircle(a),e=a),this.intersects(a).theBool){this.health-=a.myDamage(),a.hit(1);const t=a.motion;a.motion.subtract(t),a.motion.subtract(t),this.health<=0&&l.World.removeShot(this)}null!==e&&this.shoot(e.myX,e.myY)}reloadBy(){return 100}reloadCost(){return.3}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo))}shoot(t,e){for(let a=3*Math.random()|0;0!==a;a=3*Math.random()|0){const a=h.Vector.fromXyxy(this.myX,this.myY,t,e);a.length=this.myR+2,a.direction=a.direction-15+30*Math.random(),a.updateCartesian();const i=new o.Point(this.myX+a.dx,this.myY+a.dy);a.length=4,a.updateCartesian();const s=new n.SparkShot(i,a,1.5,!0);l.World.addShot(s),this.ammunition--}}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),s=this.health/750*.7,n=r.Color.fromRGBA(Math.min(Math.max(s/2,0),.5),Math.min(Math.max(s/2,0),.5),0),o=r.Color.fromRGBA(Math.min(Math.max(s,0),1),0,0);this.drawAmmo(t,n,o),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}}e.FlameTurret=d},1385:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GravityTurret=void 0;const i=a(7620),s=a(4686),n=a(8524),r=a(9988),o=a(4888),h=a(6817);class l extends s.TestShot{constructor(t){super(t),this.range=0,this.maxHealth=1500,this.health=this.maxHealth,this.maxAmmo=Math.ceil(Math.random()*(3e3+Math.pow(i.GamePanel.enemiesKilled/2,2)))+500,this.ammunition=this.maxAmmo,this.cooldown=0,this.topspeed=3,this.type2=!1,this.myR=10,this.myFill=n.Color.DARK_GRAY,this.range=6*i.GamePanel.player.baseSpread,this.notShot=!0,this.vec=r.Vector.fromDirectionLength(90,0),this.ghostShot=!0}act(){if(this.ammunition>0){for(const t of o.World.enemies){if(null!==t.motion){const e=r.Vector.fromXyxy(t.myX,t.myY,this.myX,this.myY);e.length=(this.myR*this.myR/2-t.myR)/(e.length*e.length*4*Math.PI*5e-4),e.length>0&&(e.length>this.topspeed&&(e.length=this.topspeed),e.updateCartesian(),t.motion.add(e))}this.intersects(t).theBool&&(this.type2||t.hit(1))}for(const t of o.World.shots){if(null!==t.vec){const e=r.Vector.fromXyxy(t.myX,t.myY,this.myX,this.myY);e.length=(this.myR*this.myR/2-t.myR)/(e.length*e.length*4*Math.PI*5e-4),e.length>0&&(e.length>this.topspeed&&(e.length=this.topspeed),e.updateCartesian(),t.vec.add(e))}this.intersects(t).theBool&&t.hit()}for(const t of o.World.actors)if(t instanceof h.Particle){const e=t;if(null!==e.motion){const t=r.Vector.fromXyxy(e.myX,e.myY,this.myX,this.myY);t.length=(this.myR*this.myR/2-e.myR)/(t.length*t.length*4*Math.PI*5e-4),t.length>0&&(t.length>this.topspeed&&(t.length=this.topspeed),t.updateCartesian(),e.motion.add(t))}}}this.type2||this.reduceArea(.1),this.myR<1&&o.World.removeShot(this)}shoot(t,e){}}e.GravityTurret=l},2750:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KnockbackTurret=void 0;const i=a(7620),s=a(7169),n=a(2366),r=a(8524),o=a(5059),h=a(9988),l=a(4888),m=a(2651);class d extends m.Turret{constructor(t){super(t),this.range=0,this.maxHealth=1e3,this.health=this.maxHealth,this.cooldown=0,this.maxAmmo=300,this.ammunition=this.maxAmmo,this.myR=10,this.myFill=r.Color.DARK_GRAY,this.myBorder=r.Color.CYAN,this.range=3*(Math.max(25,i.GamePanel.player.baseSpread)+3),this.vec=h.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of l.World.shots)t.isTurret&&this.intersects(t).theBool&&l.World.removeShot(t)}act(){let t=this.range,e=null;this.cooldown>0&&this.cooldown--,this.reload();for(const t of l.World.shots)t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&(l.World.removeShot(t),this.health--,this.health<=0&&l.World.removeShot(this));const a=this.ammunition>0&&this.cooldown<=0;for(const i of l.World.enemies)if(a&&this.distanceCircle(i)<=this.range&&this.cooldown<=0&&this.distanceCircle(i)<t&&(t=this.distanceCircle(i),e=i),this.intersects(i).theBool){this.health-=i.myDamage(),i.hit(1);const t=i.motion;i.motion.subtract(t),i.motion.subtract(t),this.health<=0&&l.World.removeShot(this)}if(a&&null!==e){const t=this.distanceCircle(e);this.shoot(e.myX+e.motion.dx*t/3.5,e.myY+e.motion.dy*t/3.5)}}reloadBy(){return 10}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo))}shoot(t,e){const a=h.Vector.fromXyxy(this.myX,this.myY,t,e);a.length=this.myR+2,a.direction=a.direction-1+2*Math.random(),a.updateCartesian();const i=new o.Point(this.myX+a.dx,this.myY+a.dy);a.length=3.5,a.updateCartesian();const s=new n.KnockBackShot(i,a,2);s.damMod=2,l.World.addShot(s),this.cooldown+=10,this.ammunition--}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),s=this.health/this.maxHealth*.55+.005,n=r.Color.fromRGBA(2*s,.5*s,.5*s),o=r.Color.fromRGBA(s,s,s);this.drawAmmo(t,n,o),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}}e.KnockbackTurret=d},1611:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LifeTurret=void 0;const i=a(7620),s=a(8524),n=a(9988),r=a(4888),o=a(5569),h=a(6817),l=a(2651);class m extends l.Turret{constructor(t){super(t),this.range=75,this.maxHealth=1e3,this.health=this.maxHealth,this.cooldown=0,this.maxAmmo=25e3,this.ammunition=this.maxAmmo,this.myR=7,this.myFill=s.Color.WHITE,this.myBorder=s.Color.RED,this.vec=n.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of r.World.shots)t.isTurret&&this.intersects(t).theBool&&r.World.removeShot(t)}act(){if(this.ammunition>0){const t=new o.Circle({x:this.myX,y:this.myY,r:this.range});for(const e of r.World.shots)if(e.isTurret&&!(e instanceof m)&&e.intersects(t).theBool){const t=e;t.ammunition<t.maxAmmo-t.reloadBy()*(1/t.reloadCost())&&(t.ammunition+=t.reloadBy()*(1/t.reloadCost()),this.ammunition--)}if(i.GamePanel.player.intersects(t).theBool&&i.GamePanel.using){const t=n.Vector.fromDirectionLength(0,this.myR);t.length=this.myR,t.direction=360*Math.random(),t.updateCartesian();const e=new h.Particle({x:this.myX+t.dx,y:this.myY+t.dy,color:s.Color.GREEN,start:t,r:1});e.gravitate=!0,e.gravitateTo=i.GamePanel.player,e.gravityStrength=.4,e.heal=!0,e.fade=.005,e.destroy=!0,r.World.addParticle(e),this.ammunition-=30}}for(const t of r.World.enemies){const e=new o.Circle({circle:this});if(this.ammunition<=0&&(e.myR=this.range),e.intersects(t).theBool){this.health-=t.myDamage(),t.hit(1);const e=t.motion;t.motion.subtract(e),t.motion.subtract(e),this.health<=0&&r.World.removeShot(this)}}}reloadBy(){return 100}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo))}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),n=this.health/this.maxHealth*.995+.005,r=s.Color.fromRGBA(2*n,.5*n,.5*n),h=s.Color.fromRGBA(n,n,n);this.drawAmmo(t,r,h),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i)),t.drawLine(e+7,a+7-3,e+7,a+7+3),t.drawLine(e+7-3,a+7,e+7+3,a+7);const l=new o.Circle({x:this.myX,y:this.myY,r:75});l.myBorder=s.Color.GREEN,this.ammunition<=0&&(l.myBorder=s.Color.WHITE),l.myO=.2,l.paintBorder(t)}}e.LifeTurret=m},5362:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const i=a(1528),s=a(8408);class n extends s.Actor{constructor(t,e,a,i){super({}),this.myColor=null,this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.x1=t,this.y1=e,this.x2=a,this.y2=i}static fromPoints(t,e){return new n(t.myX,t.myY,e.myX,e.myY)}set(t,e,a,i){this.myX=(this.x1+this.x2)/2,this.myY=(this.y1+this.y2)/2,this.myR=Math.max(this.x2-this.x1,this.y2-this.y1),this.x1=t,this.y1=e,this.x2=a,this.y2=i}setPoints(t,e){this.myX=(this.x1+this.x2)/2,this.myY=(this.y1+this.y2)/2,this.myR=Math.max(this.x2-this.x1,this.y2-this.y1),this.x1=t.myX,this.y1=t.myY,this.x2=e.myX,this.y2=e.myY}length(){return Math.pow(Math.pow(this.x2-this.x1,2)+Math.pow(this.y2-this.y1,2),.5)}intersects(t){return!!i.segIntersects(this.x1,this.y1,this.x2,this.y2,t.x1,t.y1,t.x2,t.y2)}paint(t){null!==this.myColor&&(t.setColorA(this.myColor,this.myO),t.drawLine(this.x1,this.y1,this.x2,this.y2))}}e.Line=n},7614:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MiniGunTurret=void 0;const i=a(7620),s=a(7169),n=a(4686),r=a(8053),o=a(8524),h=a(8321),l=a(5059),m=a(9988),d=a(4888),c=a(2651);class y extends c.Turret{constructor(t){super(t),this.facing=0,this.faceDest=0,this.spread=55,this.following=!1,this.used=!1,this.shots=0,this.speedlimit=3,this.maxAmmo=5e3,this.ammunition=this.maxAmmo,this.myR=25,this.myFill=o.Color.DARK_GRAY,this.myBorder=o.Color.ORANGE;const e=m.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,this.myX,this.myY);this.facing=e.direction,this.faceDest=this.facing,this.vec=m.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of d.World.shots)t.isTurret&&this.intersects(t).theBool&&d.World.removeShot(t)}act(){let t=1600,e=null;this.facing!==this.faceDest&&(this.facing+=Math.max(Math.min(h.angleDirection(this.facing,this.faceDest)/20,this.speedlimit),-this.speedlimit)),this.cooldown>0&&this.cooldown--,this.reload();for(const t of d.World.shots)t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&(d.World.removeShot(t),this.health--,this.health<=0&&d.World.removeShot(this));const a=this.ammunition>0&&this.cooldown<=0;for(const i of d.World.enemies)if(a&&m.Vector.fromPoints(this.myPoint(),i.myPoint()).angleDifference(this.facing)<this.spread&&this.cooldown<=0&&this.distanceCircle(i)<t&&(t=this.distanceCircle(i),e=i),this.intersects(i).theBool){this.health-=i.myDamage(),i.hit(1);const t=i.motion;i.motion.subtract(t),i.motion.subtract(t),this.health<=0&&d.World.removeShot(this)}if(a&&null!==e){const t=this.distanceCircle(e);this.shoot(e.myX+e.motion.dx*t/20,e.myY+e.motion.dy*t/20)}}reloadBy(){return 10}reload(){if(this.following){const t=m.Vector.fromXyxy(this.myX,this.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY);this.faceDest=t.direction}i.GamePanel.using?this.intersects(i.GamePanel.player).theBool&&(this.used||(this.following=!this.following),this.used=!0,this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo)):this.used=!1}shoot(t,e){for(let a=4*Math.random();a>0;a--)this.pew(1,t,e)}pew(t,e,a){if(this.ammunition>0){const i=m.Vector.fromXyxy(this.myX,this.myY,e,a);let s=10;s*=2*Math.random(),i.length=this.myR+5*t,i.direction=i.direction-s/2+Math.random()*s,i.updateCartesian();const h=new l.Point(this.myX+i.dx,this.myY+i.dy);let c;i.length=1,i.updateCartesian(),i.length=20,i.updateCartesian(),this.shots++,this.shots>=6?(c=new r.TracerRound({point:h,v:i,r:.5}),this.shots=0):c=new n.TestShot({point:h,v:i,r:1}),c.myFill=o.Color.fromRGBA(.5,.5,0),c.path.myColor=o.Color.YELLOW,c.ghostShot=!0,d.World.addShot(c),this.ammunition-=1,this.cooldown=3}}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),s=m.Vector.fromDirectionLength(this.facing-this.spread,this.myR),n=m.Vector.fromDirectionLength(this.facing+this.spread,this.myR),r=this.health/this.maxHealth,h=o.Color.fromRGBA(1.75*r,.5*r,.25*r),l=o.Color.fromRGBA(r,r,.5*r);this.drawAmmo(t,h,l),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i)),s.toLineColor(this.myX,this.myY,o.Color.GRAY).paint(t),n.toLineColor(this.myX,this.myY,o.Color.GRAY).paint(t)}}e.MiniGunTurret=y},6817:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Particle=void 0;const i=a(7620),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(8408);class l extends h.Actor{constructor(t){super(t),this.motion=new r.Vector,this.oX=0,this.oY=0,this.friction=.95,this.direction=!0,this.fadeIn=!1,this.bounceEnemy=!0,this.gravitate=!1,this.heal=!1,this.destroy=!1,this.gravitateTo=null,this.gravityStrength=.1,this.dieEnemy=!1,this.hurtEnemy=!1,this.misc=!0,this.teleport=!1,this.fade=.01,this.myOpacity=1,this.myColor=null;const{color:e=null,start:a=null,angle:i=null,length:s=null,spread:n=0,opacity:o=1,friction:h=.95,fade:l=.01}=t;this.myColor=e,this.motion.direction=i||a?(i||a.direction)-n/2+Math.random()*n:360*Math.random(),this.motion.length=s||10*Math.random(),this.motion.updateCartesian(),this.myOpacity=o,this.friction=h,this.fade=l}plzFadeIn(){this.fadeIn=!0}act(){if(i.GamePanel.graphics<=0&&this.misc&&o.World.removeParticle(this),this.myX+=this.motion.dx,this.myY+=this.motion.dy,this.motion.scale(this.friction),this.bounceEnemy||this.dieEnemy)for(const t of o.World.enemies)if(t.intersectsLine(this.motion.toLine(this.myX,this.myY)))if(this.hurtEnemy&&t.hit(.5),this.dieEnemy)o.World.removeParticle(this);else if(this.bounceEnemy&&t.isAlive()){const e=r.Vector.fromXyxyLength(t.myX,t.myY,this.myX,this.myY,new n.Point(this.myX,this.myY).distanceCircle(t));e.length-=t.myR,this.myX-=e.dx,this.myY-=e.dy,e.length=this.motion.length,e.updateCartesian(),this.motion.add(e)}if(this.gravitate){const t=r.Vector.fromXyxy(this.myX,this.myY,this.gravitateTo.myX,this.gravitateTo.myY);t.length=this.gravityStrength,t.updateCartesian(),this.motion.add(t),this.destroy&&this.gravitateTo.intersectsLine(this.motion.toLine(this.myX,this.myY))&&(o.World.removeParticle(this),o.World.addParticle(new l({x:this.myX,y:this.myY,color:s.Color.GREEN,r:1})),this.heal&&this.gravitateTo.reduceArea(-1/3),this.teleport&&this.gravitateTo.fill())}this.fadeIn?(this.myOpacity+=this.fade,this.myOpacity>=1&&(this.fadeIn=!1,this.myOpacity=1)):0!==this.fade&&(this.myOpacity-=this.fade),this.myOpacity<=0&&o.World.removeParticle(this),this.myOpacity>1&&o.World.removeParticle(this),!this.gravitate&&(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&o.World.removeParticle(this)}paint(t){const e=Math.min(Math.max(this.myOpacity,0),1);this.motion.toLineColor(this.myX,this.myY,this.myColor,e).paint(t)}}e.Particle=l},1374:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleBloom=void 0;const i=a(5569),s=a(6817);class n extends s.Particle{constructor(t){super(t),this.motion.direction=360*Math.random(),this.motion.length=Math.random()*+t.length,this.motion.updateCartesian(),this.myCircle=new i.Circle({x:this.myX,y:this.myY,r:this.myR}),this.myCircle.myFill=this.myColor}act(){super.act(),this.myCircle.myX=this.myX,this.myCircle.myY=this.myY}paint(t){this.myCircle.myO=Math.min(Math.max(this.myOpacity,0),1),this.myCircle.paint(t)}}e.ParticleBloom=n},5983:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;const i=a(7620),s=a(8524),n=a(5059),r=a(9988),o=a(4694),h=a(9771),l=a(4490),m=a(4888),d=a(5569);class c extends d.Circle{constructor(t){super(t),this.motion=new r.Vector,this.baseA=!1,this.specA=!1,this.quikA=!1,this.speed=2,this.target=new n.Point(0,0),this.reduced=0,this.lastUsed=0,this.damaged=0,this.irradamage=0,this.taken=0,this.absorbed=0,this.healed=0,this.still=0,this.stillfor=0,this.BUTTON1=1,this.BUTTON2=2,this.BUTTON3=3,this.cooldownB=0,this.cooldownS=0,this.cooldownQ=0,this.maxBammo=500,this.maxSammo=30,this.maxQammo=150,this.baseAmmo=500,this.specAmmo=30,this.quikAmmo=150,this.baseSpread=15,this.activeWeapon=0,this.equipped=[new h.PistolOne,new o.Weap,new l.Spraygun,new o.Weap,new o.Weap],this.cooldowns=[0,0,0,0,0],this.shooting=[!1,!1,!1],this.percentL=0,this.canMove=!0,this.mouseX=0,this.mouseY=0,this.myFill=s.Color.fromRGBA(0,1,0,1),this.myBorder=s.Color.fromRGBA(0,.45,0,1)}getSpeed(){return Math.sqrt(this.myR)/4}setWeapon(t){i.GamePanel.weaponSlot>=0&&(this.equipped[i.GamePanel.weaponSlot]=t)}reduceArea(t){i.GamePanel.godMode||super.reduceArea(t)}hit(t){i.GamePanel.godMode||(super.reduceArea(t),this.damaged+=t,this.taken+=t)}irrad(t){i.GamePanel.godMode||(super.reduceArea(t),this.damaged+=t,this.irradamage+=t,this.taken+=t)}absorb(t){i.GamePanel.godMode||(super.reduceArea(-t),this.absorbed+=t)}heal(t){i.GamePanel.godMode||(super.reduceArea(-t),this.healed+=t)}act(){this.motion.scale(m.World.friction),this.myX+=this.motion.dx,this.myY+=this.motion.dy,this.equipped[0].tick(),this.equipped[1].tick(),this.equipped[2].tick(),this.equipped[3].tick(),this.equipped[4].tick();for(const t of m.World.absorbs)this.distanceCircle(t)<=30&&(t.toParticles(),m.World.removeAbsorb(t));this.motion.length<1?(this.still++,this.stillfor++):this.still=0;const t=Math.max(100,this.area());if(this.still>t){const e=.05/(t/40);Math.random()<e&&this.reduceArea(-1),this.stillfor>=1/e&&(this.reduceArea(-1),this.stillfor=0)}}reload(){-1===this.activeWeapon?(this.equipped[0].reload(),this.equipped[1].reload(),this.equipped[2].reload(),this.equipped[3].reload(),this.equipped[4].reload()):this.equipped[this.activeWeapon].reload()}finisher(){this.equipped[this.activeWeapon].finisher()}setActive(t){this.activeWeapon=t}spread(t){this.baseSpread+=-1*t,this.baseSpread<=0&&(this.baseSpread=0),this.baseSpread>=360&&(this.baseSpread=360)}startAttack(t,e,a){this.target.myX=t,this.target.myY=e,this.lastUsed=a,this.equipped[a].startFiring(),this.activeWeapon=a}endAttack(t,e,a){this.target.myX=t,this.target.myY=e,this.equipped[a].stopFiring(),this.activeWeapon=a}moveAttack(t,e){this.target.myX=t,this.target.myY=e}move(t,e,a,i){this.canMove?(t&&this.motion.add(r.Vector.fromDirectionLength(270,this.getSpeed())),e&&this.motion.add(r.Vector.fromDirectionLength(180,this.getSpeed())),a&&this.motion.add(r.Vector.fromDirectionLength(90,this.getSpeed())),i&&this.motion.add(r.Vector.fromDirectionLength(0,this.getSpeed())),this.motion.length>m.World.speedLimit&&(this.motion.length=m.World.speedLimit,this.motion.updateCartesian()),this.myX-this.myR<0&&(this.myX=this.myR),this.myY-this.myR<0&&(this.myY=this.myR),this.myX+this.myR>800&&(this.myX=800-this.myR),this.myY+this.myR>600&&(this.myY=600-this.myR)):this.canMove=!0}paintMouse(t,e,a){this.mouseX=e,this.mouseY=a,this.paint(t)}paint(t){super.paintFill(t);const e=this.mouseX,a=this.mouseY,i=this.area(),n=Math.pow(i,.8);for(let e=n;e<i;e+=n){const a=new d.Circle({x:this.myX,y:this.myY,area:e});a.myBorder=s.Color.fromRGBA(0,.45,0,1),a.paint(t)}super.paintBorder(t);const o=r.Vector.fromXyxy(this.myX,this.myY,e,a);o.length=this.myR,o.direction+=this.baseSpread/2,o.updateCartesian(),t.setColor(s.Color.BLACK),t.drawLine(Math.round(this.myX),Math.round(this.myY),Math.round(this.myX+o.dx),Math.round(this.myY+o.dy)),o.direction-=this.baseSpread,o.updateCartesian(),t.drawLine(Math.round(this.myX),Math.round(this.myY),Math.round(this.myX+o.dx),Math.round(this.myY+o.dy))}}e.Player=c},2849:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PortalA=void 0;const i=a(7620),s=a(4686),n=a(8524),r=a(9988),o=a(4888),h=a(6817);class l extends s.TestShot{constructor(t,e,a){super({x:t,y:e}),this.friend=null,this.content=null,this.tempDont=null,this.waitingFor=0,this.friend=a,this.notShot=!0,this.ghostShot=!0,this.myR=20,this.myFill=null,this.myBorder=n.Color.BLUE}act(){if(Math.random()<.5){const t=r.Vector.fromDirectionLength(360*Math.random(),Math.random()*this.myR);o.World.addParticle(new h.Particle({x:this.myX+t.dx,y:this.myY+t.dy,color:this.myBorder}))}if(null!==this.friend)if(null===this.content){let t=null;if(this.containsCircle(i.GamePanel.player))t=i.GamePanel.player;else for(const e of o.World.enemies)this.containsCircle(e)&&(t=e);null!==t&&t!==this.tempDont&&this.transport(t),null===this.tempDont||this.containsCircle(this.tempDont)||(this.tempDont=null)}else{this.content.myX=this.myX,this.content.myY=this.myY;for(const t of o.World.enemies)if(this.intersects(t).theBool&&t!==this.tempDont){const e=t.motion;t.motion.subtract(e),t.motion.subtract(e)}}}transport(t){if(t.myR<this.myR){this.content=t;const e=360/t.area()+1,a=r.Vector.fromDirectionLength(0,t.myR);let i=0;a.length=t.myR;for(let s=0;s<360;s+=e){a.direction=s,a.updateCartesian();const e=new h.Particle({x:t.myX+a.dx,y:t.myY+a.dy,color:t.myBorder,start:a});e.gravitate=!0,e.gravitateTo=this.friend,e.gravityStrength=.4,e.bounceEnemy=!1,e.destroy=!0,e.fade=0,e.teleport=!0,o.World.addParticle(e),i++}this.friend.waitingFor=i}}fill(){this.waitingFor--,0===this.waitingFor&&(this.friend.content.myO=1,this.friend.content.myX=this.myX,this.friend.content.myY=this.myY,this.tempDont=this.friend.content,this.friend.content=null)}}e.PortalA=l},3434:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shell=void 0;const i=a(7620),s=a(7169),n=a(4686),r=a(8524),o=a(9988),h=a(4888);class l extends n.TestShot{constructor(t){super({point:t}),this.maxHealth=5e3,this.health=this.maxHealth,this.myR=60,this.myFill=null,this.myBorder=r.Color.fromRGBA(.05,.05,1),this.vec=o.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0}act(){this.reload();for(const t of h.World.shots)if(t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&t.movingTo(this)){this.health-=t.myDamage()/3;const e=o.Vector.fromPoints(this.myPoint(),t.myPoint());e.length=this.myR+t.myR-this.centerDistance(t),e.updateCartesian(),t.myX+=e.dx,t.myY+=e.dy,e.length=t.vec.length,e.updateCartesian(),e.scale(1.5),t.vec.add(e),this.health<=0&&h.World.removeShot(this)}for(const t of h.World.enemies)if(this.lineIntersects(t)){this.health-=t.myDamage(),t.hit(1);const e=t.motion.copy();e.length=.15,e.updateCartesian(),t.motion.subtract(e),this.health<=0&&h.World.removeShot(this)}}reloadBy(){return 20}reloadCost(){return.01}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.health+this.reloadBy()<=this.maxHealth?(this.health+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxHealth-this.health)/this.reloadBy()),this.health=this.maxHealth))}paint(t){const e=this.health/this.maxHealth*.8+.2;this.myBorder=r.Color.fromRGBA(e/2,e/2,e),super.paint(t)}}e.Shell=l},8972:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SniperTurret=void 0;const i=a(7620),s=a(7169),n=a(1899),r=a(5273),o=a(8524),h=a(5059),l=a(9988),m=a(4888),d=a(2651);class c extends d.Turret{constructor(t){super({point:t}),this.range=0,this.health=60,this.shealth=5e3,this.maxshealth=5e3,this.cooldown=0,this.maxAmmo=200,this.ammunition=this.maxAmmo,this.myR=5,this.myFill=o.Color.fromRGBA(0,.65,0),this.myBorder=this.myFill,this.range=1e3,this.vec=l.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of m.World.shots)t.isTurret&&this.intersects(t).theBool&&m.World.removeShot(t)}act(){let t=this.range,e=null;this.cooldown>0&&this.cooldown--,this.reload();for(const t of m.World.shots)t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&(m.World.removeShot(t),this.health-=t.vec.length*t.myR,this.health<=0&&m.World.removeShot(this));for(const a of m.World.enemies)if(this.ammunition>0&&(this.distanceCircle(a)<=this.range&&(1!==a.number()||a.area()>1e3)&&this.distanceCircle(a)>60&&this.cooldown<=0?a.flagged<=0&&this.distanceCircle(a)<t&&(t=this.distanceCircle(a),e=a):this.distanceCircle(a)<=30&&this.cooldown<=0&&(t=this.distanceCircle(a),e=a)),this.intersects(a).theBool){this.health-=a.myDamage(),e=a,t=0,a.hit(1);const i=a.motion;a.motion.subtract(i),a.motion.subtract(i),this.health<=0&&m.World.removeShot(this)}null!==e&&(1!==e.number()||e.area()>1e3?this.shoot(e.myX,e.myY):this.secondshoot(e.myX+e.motion.dx*(t/6),e.myY+e.motion.dy*(t/6)))}shoot(t,e){const a=l.Vector.fromXyxy(this.myX,this.myY,t,e);a.length=this.myR+2,a.updateCartesian();const i=new h.Point(this.myX+a.dx,this.myY+a.dy);a.length=100,a.updateCartesian();const s=new r.Laser(i,a,.5);s.damMod=8,m.World.addShot(s),this.cooldown+=15,this.ammunition--}secondshoot(t,e){const a=l.Vector.fromXyxy(this.myX,this.myY,t,e),i=1+3*Math.random();a.length=this.myR+2,a.direction=a.direction-i+Math.random()*i*2,a.updateCartesian();const s=new h.Point(this.myX+a.dx,this.myY+a.dy);a.length=12,a.updateCartesian();const r=new n.GhostShot({point:s,v:a,r:.5});m.World.addShot(r),this.cooldown=0,this.ammunition--}reloadBy(){return 10}reloadCost(){return.5}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo))}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),s=this.health/60*.85,n=o.Color.fromRGBA(s,.5*s,0),r=o.Color.fromRGBA(0,s,0);this.drawAmmo(t,n,r),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}}e.SniperTurret=c},2651:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Turret=void 0;const i=a(7620),s=a(7169),n=a(1899),r=a(4686),o=a(8524),h=a(5059),l=a(9988),m=a(4888);class d extends r.TestShot{constructor(t){super({r:13,...t}),this.range=0,this.maxHealth=3e3,this.health=this.maxHealth,this.maxAmmo=1300,this.ammunition=this.maxAmmo,this.cooldown=0,this.myFill=o.Color.DARK_GRAY,this.myBorder=o.Color.GRAY,this.range=3*(Math.max(50,i.GamePanel.player.baseSpread)+3),this.vec=l.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,this.isTurret=!0;for(const t of m.World.shots)t.isTurret&&this.intersects(t).theBool&&m.World.removeShot(t)}act(){let t=this.range,e=null;this.cooldown>0&&this.cooldown--,this.reload();for(const t of m.World.shots)t instanceof s.EnemyShot&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&(m.World.removeShot(t),this.health--,this.health<=0&&m.World.removeShot(this));for(const a of m.World.enemies)if(this.ammunition>0&&this.distanceCircle(a)<=t&&this.cooldown<=0&&(t=this.distanceCircle(a),e=a),this.intersects(a).theBool){this.health-=a.myDamage(),a.hit(1);const t=a.motion;a.motion.subtract(t),a.motion.subtract(t),this.health<=0&&m.World.removeShot(this)}if(null!==e){const t=this.distanceCircle(e);this.shoot(e.myX+e.motion.dx*(t/8),e.myY+e.motion.dy*(t/8))}}reloadBy(){return 20}reloadCost(){return.5}reload(){i.GamePanel.using&&this.intersects(i.GamePanel.player).theBool&&(this.ammunition+this.reloadBy()<=this.maxAmmo?(this.ammunition+=this.reloadBy(),i.GamePanel.player.reduceArea(this.reloadCost())):(i.GamePanel.player.reduceArea(this.reloadCost()*(this.maxAmmo-this.ammunition)/this.reloadBy()),this.ammunition=this.maxAmmo))}shoot(t,e){const a=l.Vector.fromXyxy(this.myX,this.myY,t,e),i=1+3*Math.random();a.length=this.myR+2,a.direction=a.direction-i+Math.random()*i*2,a.updateCartesian();const s=new h.Point(this.myX+a.dx,this.myY+a.dy);a.length=8,a.updateCartesian();const r=new n.GhostShot({point:s,v:a,r:1});m.World.addShot(r),this.cooldown+=6,this.ammunition--}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR),s=o.Color.BLACK,n=this.health/this.maxHealth*.6+1,r=o.Color.fromRGBA(n,n,n);this.drawAmmo(t,s,r),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColorA(this.myBorder,this.myO),t.drawOval(e,a,i))}drawAmmo(t,e,a){this.ammunition/this.maxAmmo<.5?t.setColor(e):this.ammunition<=0?t.setColor(o.Color.BLACK):t.setColor(a)}}e.Turret=d},4306:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WallShot=void 0;const i=a(7169),s=a(4686),n=a(8524),r=a(9988),o=a(4888),h=a(5362);class l extends s.TestShot{constructor(t,e=null){super({point:t}),this.health=400,this.maxhealth=400,this.friend=null,this.wall=null,this.myR=3,this.myFill=null,this.myBorder=n.Color.WHITE,this.vec=r.Vector.fromDirectionLength(90,0),this.ghostShot=!0,this.notShot=!0,e&&(this.friend=e,this.wall=new h.Line(this.myX,this.myY,this.friend.myX,this.friend.myY),this.wall.myColor=n.Color.WHITE,this.health=100*this.wall.length(),this.maxhealth=this.health,console.log(this.wall.length()))}act(){if(null!==this.wall){for(const t of o.World.enemies)if(t.intersectsLine(this.wall)){this.health-=t.myDamage(),t.hit(1);const e=t.motion;t.motion.subtract(e),t.motion.subtract(e)}for(const t of o.World.shots)t instanceof i.EnemyShot&&(this.path.intersects(this.wall)||t.intersectsLine(this.wall))&&(this.health-=t.myR*t.vec.length,o.World.removeShot(t))}this.health<=0&&(o.World.removeShot(this),o.World.removeShot(this.friend))}paint(t){super.paint(t),null!==this.wall&&(this.wall.myO=this.health/this.maxhealth,this.wall.paint(t))}}e.WallShot=l},2250:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Weapon=void 0;const i=a(7620),s=a(8524),n=a(4694),r=a(8169),o=a(2198),h=a(8645),l=a(9447),m=a(1900),d=a(6102),c=a(92),y=a(5991),u=a(8755),p=a(8227),f=a(5441),g=a(962),P=a(5980),M=a(5249),v=a(1434),w=a(5589),G=a(4435),x=a(1287),C=a(9530),b=a(2631),S=a(2573),X=a(4104),Y=a(9346),W=a(8223),R=a(9841),A=a(6829),k=a(1242),B=a(4829),E=a(8123),L=a(1236),O=a(9771),T=a(6326),V=a(221),_=a(1307),D=a(2217),F=a(758),q=a(8647),N=a(8254),j=a(8286),I=a(2867),H=a(325),K=a(1366),z=a(7585),$=a(7337),U=a(4490),Z=a(9024),Q=a(1766),J=a(9491),tt=a(1269),et=a(5641),at=a(7354),it=a(3344),st=a(9531),nt=a(4182),rt=a(4888),ot=a(5569),ht=a(6817);class lt extends ot.Circle{constructor(t){super({r:8,...t}),this.myVal=0,this.cheated=!1;const{num:e=null}=t;null===e?this.myVal=Math.ceil(Math.random()*lt.weapons):(e<=lt.weapons&&e>=1&&(this.myVal=e),this.cheated=!0),this.myWeap=lt.getWeaponClass(this.myVal),this.myBorder=s.Color.DARK_GRAY,this.myFill=s.Color.WHITE;for(let t=Math.ceil(Math.random()*(3*this.myR));t>0;t--)rt.World.addParticle(new ht.Particle({x:this.myX,y:this.myY,color:s.Color.WHITE,spread:5}))}act(){if((i.GamePanel.using||!i.GamePanel.weaponLock)&&this.intersects(i.GamePanel.player).theBool){if(i.GamePanel.player.setWeapon(this.myWeap),this.myWeap.created(),rt.World.removeWeapon(this),!this.cheated){const t=this.myVal;rt.World.unlocked.delete(t),rt.World.unlocked.add(t)}this.toParticlesColor(s.Color.WHITE,!1)}}name(){return this.myWeap.name()}static getWeaponClass(t){switch(t){case 1:return new U.Spraygun;case 2:return new H.Sniper;case 3:return new f.FragRocket;case 4:return new $.Sparkgun;case 5:return new O.PistolOne;case 6:return new T.PistolTwo;case 7:return new F.ReboundGun;case 8:return new o.Bowcaster;case 9:return new I.Shotgun;case 10:return new u.Floater;case 11:return new at.Uzi;case 12:return new et.Triangulator;case 13:return new C.LaserRifle;case 14:return new w.Homer;case 15:return new b.LaserSniper;case 16:return new h.BurstGun;case 17:return new W.Mine;case 18:return new D.RapidLaser;case 19:return new r.AutoGun;case 20:return new v.HealBot;case 21:return new M.GunTurret;case 22:return new y.FlameTurretConstruct;case 23:return new m.Chain;case 24:return new it.Wall;case 25:return new J.TitanKiller;case 26:return new K.SniperTurretConstruct;case 27:return new k.MissileLauncher;case 28:return new B.Newton;case 29:return new Q.Tesla;case 30:return new c.ElectricFenceConstruct;case 31:return new _.RailGun;case 32:return new Y.LineGun;case 33:return new g.GravityTurretConstruct;case 34:return new x.KnockbackTurretConstruct;case 35:return new S.LeechGun;case 36:return new p.ForcePush;case 37:return new G.JetBooster;case 38:return new j.ShieldBot;case 39:return new Z.Taser;case 40:return new E.Nuke;case 41:return new st.Wing;case 42:return new l.BustGun;case 43:return new N.ShellBuilder;case 44:return new d.Chaingun;case 45:return new q.RemoteExplosive;case 46:return new P.Grenades;case 47:return new nt.ZetaGun;case 48:return new z.Sparkball;case 49:return new R.Minigun;case 50:return new tt.Tremor;case 51:return new X.LifeTurretConstruct;case 52:return new L.ParticleGun;case 53:return new V.PortalGun;case 54:return new A.MiniGunTurretConstruct;default:return new n.Weap}}static getNum(t){let e=1;for(const a of rt.World.weapNames){if(t===a)return e;e++}return 0}static getName(t){return t>0?rt.World.weapNames[t-1]:"0"}static getDesc(t){return t>0?rt.World.descNames[t-1]:"0"}getDesc(t){let e=1;for(const a of rt.World.weapNames){if(t===a)return lt.getDesc(e);e++}return"0"}paint(t){super.paint(t),t.setColor(s.Color.YELLOW),t.drawString(this.myVal+"",this.myX+this.myR,this.myY+this.myR-2),this.myWeap.paintDot(t,this.myX,this.myY)}}e.Weapon=lt,lt.weapons=54},5428:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameFrame=void 0;const i=a(667);e.GameFrame=class{constructor(t){this.myPanel=null,this.myGraphics=null,this.abrupt=!1,this.reDrawTimer=0,this.frame=0,this.paused=!1,this.lastTime=0,this.lastRTime=0,this.oneSecond=1e3,this.fPS=64,this.lFPS=64,this.rFPS=64,this.lrFPS=64,this.skipFrames=0,this.skippedFrames=0,this.startTime=0,this.cPS=64,this.lCPS=64,this.name=t}windowClosing(){this.myPanel.setSettings()}init(t){this.myPanel=t,t.myFrame=this,this.myGraphics=new i.Graphics,this.myGraphics.init(),this.startTime=Date.now();const e=()=>{const a=Date.now();this.lFPS=this.oneSecond/(Date.now()-this.lastTime+1),this.lastTime=a;const i=.06*(a-this.startTime)-this.skippedFrames|0,s=i-this.frame;if(this.paused)this.skippedFrames+=s;else for(;this.frame<i;)t.calcFrame(),this.frame++,Date.now()-a>1e3&&(this.skippedFrames+=i-this.frame);s>0&&(t.paintComponent(this.myGraphics),this.lrFPS=this.oneSecond/(Date.now()-this.lastRTime+1),this.lastRTime=Date.now()),this.reDrawTimer=window.requestAnimationFrame(e)};this.reDrawTimer=window.requestAnimationFrame(e),this.lastTime=Date.now(),this.myPanel.init()}listen({mousePressed:t,mouseReleased:e,mouseMoved:a,mouseDragged:i,mouseWheelMoved:s,keyTyped:n,keyPressed:r,keyReleased:o,pointerLock:h}){const l=this.myGraphics.canvas,m=()=>{l.requestPointerLock(),l.removeEventListener("click",m)};l.addEventListener("mousemove",(t=>{0!==t.buttons?i(t):a(t)})),l.addEventListener("contextmenu",(t=>t.preventDefault())),l.addEventListener("mousedown",t),l.addEventListener("mouseup",e),l.addEventListener("wheel",s),window.addEventListener("keydown",r),window.addEventListener("keyup",o),window.addEventListener("keypress",n),l.addEventListener("click",m),document.addEventListener("pointerlockchange",(()=>{const t=document.pointerLockElement===l;t?l.removeEventListener("click",m):l.addEventListener("click",m),h(t)})),document.addEventListener("pointerlockerror",(t=>{console.log("Pointer lock failed",t)}),!1)}windowGainedFocus(){this.abrupt&&(this.abrupt=!1,this.paused=!1)}windowLostFocus(){this.paused||(this.abrupt=!0,this.paused=!0)}}},7620:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GamePanel=e.GameInstance=e.GameAction=void 0;const i=a(9072),s=a(4143),n=a(523),r=a(4658),o=a(22),h=a(229),l=a(5098),m=a(8626),d=a(5569),c=a(4610),y=a(4602),u=a(6817),p=a(1374),f=a(5983),g=a(2250),P=a(1528),M=a(8524),v=a(8321),w=a(5059),G=a(9667),x=a(5991),C=a(5249),b=a(1434),S=a(2631),X=a(1307),Y=a(8286),W=a(2867),R=a(7354),A=a(3344),k=a(4888),B=a(6142);var E;!function(t){t[t.up=0]="up",t[t.left=1]="left",t[t.down=2]="down",t[t.right=3]="right",t[t.select1=4]="select1",t[t.select2=5]="select2",t[t.select3=6]="select3",t[t.select4=7]="select4",t[t.select5=8]="select5",t[t.swap=9]="swap",t[t.qswitch=10]="qswitch",t[t.cycleLeft=11]="cycleLeft",t[t.cycleRight=12]="cycleRight",t[t.reload=13]="reload",t[t.attack=14]="attack",t[t.secondary=15]="secondary",t[t.use=16]="use",t[t.pause=17]="pause",t[t.menu=18]="menu",t[t.lock=19]="lock",t[t.cheat=20]="cheat",t[t.heal=21]="heal",t[t.enem=22]="enem"}(E=e.GameAction||(e.GameAction={}));const L=[E.select1,E.select2,E.select3,E.select4,E.select5];class O{constructor(){this.graphics=3,this.player=new f.Player({x:400,y:300,r:10}),this.lastClick=new w.Point(0,0),this.mousePos=new w.Point(0,0),this.popBox=new G.PopBox,this.repaintFull=0,this.weaponSlot=0,this.starCount=10,this.framesOn=!1,this.healthOn=!0,this.godMode=!1,this.weaponLock=!0,this.efficient=!0,this.nickname="Player",this.highscore=0,this.leaderboards=[{name:"AAAAAA",value:42e3},{name:"BBBBBB",value:14500},{name:"CCCCCC",value:1e4},{name:"DDDDDD",value:3e3},{name:"EEEEEE",value:100}],this.bindings={KeyW:[E.up],KeyD:[E.right],KeyS:[E.down],KeyA:[E.left],Digit1:[E.select1],Digit2:[E.select2],Digit3:[E.select3],Digit4:[E.select4],Digit5:[E.select5],Tab:[E.swap],KeyQ:[E.cycleLeft],KeyE:[E.cycleRight],KeyT:[E.qswitch],KeyR:[E.reload],KeyF:[E.attack],ShiftLeft:[E.secondary],Space:[E.use],KeyP:[E.pause],Escape:[E.menu],KeyL:[E.lock],Backquote:[E.cheat],KeyI:[E.heal],KeyO:[E.enem]},this.upd=!1,this.leftd=!1,this.downd=!1,this.rightd=!1,this.using=!1,this.oneButton=!1,this.twoButton=!0,this.keycheats=!1,this.details=!1,this.nospawn=!1,this.resize=!1,this.debug=!1,this.shiftdown=!1,this.onCursor=!1,this.rainbowsyay=!1,this.cheated=!1,this.helpme=!0,this.noweapons=!1,this.nohealth=!1,this.nobackground=!1,this.testspawn=!1,this.enemiesKilled=0,this.totalKillsEver=0,this.damageDealt=0,this.totalDamageEver=0,this.totalTakenEver=0,this.whatDebug="",this.setting=0,this.weaponsBuyable=2,this.difficulty=1,this.saveKey=0,this.loadKey=0,this.myFrame=null,this.saveKey=65535*Math.random()+255|0,k.World.loadNames(),this.keys=new Map;for(const t of Object.getOwnPropertyNames(this.bindings))this.keys.set(t,this.bindings[t]);const t=new g.Weapon({point:new w.Point(Math.ceil(800*Math.random()),Math.ceil(600*Math.random()))});t.cheated=!0,this.noweapons||k.World.addWeapon(t),this.cheat("unlock 1"),this.cheat("unlock 5"),this.loadSettings(),this.helpme&&setTimeout((()=>this.popBox.upPop(new w.Point(400,20),this.helpText(),3)),10)}helpText(){return`Welcome to Survival Shooter, where the goal is to survive.\nUnfortunately, you will not do that forever.\n\nTo move, use WASD.\nTo shoot, use the left mouse button.\nTo cycle weapons, use the q and e keys. Notice that it highlights your active weapon in the lower-left.\nWeapons that have a hollow green circle in the upper-right of their box have secondary fire modes.\nPress the right mouse button to use the secondary fire.\nThe Space bar is the use key. Press it to pick up weapons, which are the white dots with numbers.\nThe numbers indicate which weapon they are. Hover to see their names.\nThe numbers in the upper left are score (difficulty), and below that your health (314.16).\n\nCheck out readme.txt for a better guide.\n\nHigh score: ${this.highscore}\n\nLeaderboards:\n${this.leaderboards.map((t=>`  ${t.name} ${"-".repeat(11-t.name.length)} ${t.value}`)).join("\n")}\n\nClick or press the Enter key to dismiss this dialog.\nTo disable the help box in the future,  open the console with c and type 'nohelp'.`.split("\n")}init(){let t=!1,e=0,a=0;const i={mousePressed:i=>{t?(e=B.addMinMax(e,i.movementX,0,800),a=B.addMinMax(a,i.movementY,0,600)):(e=i.offsetX,a=i.offsetY),this.popBox.close(3),this.myFrame.paused||(this.oneButton&&!this.player.equipped[this.weaponSlot].firing?this.player.startAttack(e,a,this.weaponSlot):this.twoButton&&!this.player.equipped[this.weaponSlot].firing?(2===i.button?this.player.equipped[this.weaponSlot].hasSecondary()&&(this.player.equipped[this.weaponSlot].primary=!1):this.player.equipped[this.weaponSlot].hasSecondary()&&(this.player.equipped[this.weaponSlot].primary=!0),this.player.startAttack(e,a,this.weaponSlot),this.player.equipped[this.weaponSlot].semiAuto()&&this.player.endAttack(e,a,this.weaponSlot)):this.oneButton||this.twoButton||this.player.startAttack(e,a,i.button))},mouseReleased:i=>{t?(e=B.addMinMax(e,i.movementX,0,800),a=B.addMinMax(a,i.movementY,0,600)):(e=i.offsetX,a=i.offsetY),this.myFrame.paused||(this.oneButton||this.twoButton?this.player.endAttack(e,a,this.weaponSlot):this.oneButton||this.twoButton||this.player.endAttack(e,a,i.button))},mouseMoved:i=>{t?(e=B.addMinMax(e,i.movementX,0,800),a=B.addMinMax(a,i.movementY,0,600)):(e=i.offsetX,a=i.offsetY),this.popBox.close(0),this.mousePos.myX=e,this.mousePos.myY=a,this.popBox.clicked(this.mousePos);for(let t=0;t<=4;t++)P.inRect(this.mousePos.myX,this.mousePos.myY,10+42*t,550,42,42)&&"undefined"!==this.player.equipped[t].name()&&this.popBox.upPop(this.mousePos,[this.player.equipped[t].name()],0)},mouseDragged:i=>{t?(e=B.addMinMax(e,i.movementX,0,800),a=B.addMinMax(a,i.movementY,0,600)):(e=i.offsetX,a=i.offsetY),this.popBox.close(0),this.mousePos.myX=e,this.mousePos.myY=a,this.myFrame.paused||this.player.moveAttack(e,a)},mouseWheelMoved:t=>{this.player.spread(.25*t.deltaY)},pointerLock:e=>{t=e,console.log("lock changed to",e),e||this.myFrame.paused||(this.myFrame.paused=!0)},keyTyped:t=>{this.popBox.enter(t.key)},keyPressed:t=>{if(this.popBox.keyPress(t.code),!(this.setting>0||(this.popBox.close(1),this.popBox.open&&4===this.popBox.priority))){const e=this.keys.has(t.code)?this.keys.get(t.code):[];e.length>0&&t.preventDefault();for(const a of e){let e=0;switch(this.myFrame.paused||this.player.equipped[this.weaponSlot].key(a),a){case E.up:this.upd=!0;break;case E.left:this.leftd=!0;break;case E.down:this.downd=!0;break;case E.right:this.rightd=!0;break;case E.select1:case E.select2:case E.select3:case E.select4:case E.select5:e=L.indexOf(a),this.player.activeWeapon!==e&&((this.oneButton||this.twoButton)&&this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=e,this.player.setActive(this.weaponSlot));break;case E.use:this.using=!0;break;case E.qswitch:this.shiftdown||(this.shiftdown=!0,this.player.equipped[this.weaponSlot].hasSecondary()&&(this.player.equipped[this.weaponSlot].primary?this.player.equipped[this.weaponSlot].primary=!1:this.player.equipped[this.weaponSlot].primary=!0));break;case E.enem:this.keycheats&&this.spawn(1);break;case E.cycleLeft:(this.oneButton||this.twoButton)&&this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot--,-1===this.weaponSlot&&(this.weaponSlot=4),this.player.setActive(this.weaponSlot);break;case E.cycleRight:(this.oneButton||this.twoButton)&&this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot++,this.weaponSlot%=5,this.player.setActive(this.weaponSlot);break;case E.reload:this.player.reload();break;case E.secondary:this.player.equipped[this.weaponSlot].hasSecondary()&&(this.player.equipped[this.weaponSlot].primary?this.player.equipped[this.weaponSlot].primary=!1:this.player.equipped[this.weaponSlot].primary=!0);break;case E.cheat:this.popBox.upPop(new w.Point(400,300),[""],4);break;case E.pause:this.myFrame.paused?this.myFrame.paused=!1:this.myFrame.paused=!0;break;default:console.log(t.key+" "+t.keyCode+" "+t.code);break;case 49:this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=0,this.player.setActive(0);break;case 50:this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=1,this.player.setActive(1);break;case 51:this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=2,this.player.setActive(2);break;case 52:this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=3,this.player.setActive(3);break;case 53:this.player.endAttack(0,0,this.weaponSlot),this.weaponSlot=4,this.player.setActive(4)}}}},keyReleased:t=>{if(this.setting>0)return;const e=this.keys.has(t.code)?this.keys.get(t.code):[];for(const t of e)switch(t){case E.up:this.upd=!1;break;case E.left:this.leftd=!1;break;case E.down:this.downd=!1;break;case E.right:this.rightd=!1;break;case E.use:this.using=!1;break;case E.qswitch:this.shiftdown=!1,this.player.equipped[this.weaponSlot].hasSecondary()&&(this.player.equipped[this.weaponSlot].primary?this.player.equipped[this.weaponSlot].primary=!1:this.player.equipped[this.weaponSlot].primary=!0)}}};this.myFrame.listen(i)}calcFrame(){if(this.player.myR<=1){console.log("death");const t=this.player.taken;this.totalTakenEver+=this.player.taken,this.player=new f.Player({x:400,y:300,r:10}),k.World.shots.length=0,k.World.actors.length=0,k.World.weapons.length=0,k.World.absorbs.length=0,k.World.enemies.length=0,this.totalKillsEver+=this.enemiesKilled,this.totalDamageEver+=this.damageDealt;const e=this.calcScore();e>this.highscore&&(this.highscore=0|e);for(let t=0;t<this.leaderboards.length;t++)if(this.leaderboards[t].value<e){this.leaderboards.splice(t,0,{name:this.nickname,value:0|e}),this.leaderboards.pop();break}this.setSettings(),this.popBox.upPop(new w.Point(400,300),`You destroyed ${this.enemiesKilled} enemies,\nand dealt ${this.damageDealt.toFixed(0)} damage.\nYou took ${t.toFixed(0)} damage.\n\nScore: ${e.toFixed(0)}\nHigh score: ${this.highscore}\n\nLeaderboards:\n${this.leaderboards.map((t=>`  ${t.name} ${"-".repeat(11-t.name.length)} ${t.value}`)).join("\n")}\n\nClick or press Enter to continue`.split("\n"),3),this.enemiesKilled=0,this.damageDealt=0,this.weaponsBuyable=2;const a=new g.Weapon({point:new w.Point(Math.ceil(800*Math.random()),Math.ceil(600*Math.random()))});a.cheated=!0,this.noweapons||k.World.addWeapon(a)}if(this.testspawn){const t=this.calcScore();if(Math.random()<c.Enemy.calcChance(1e3,t)&&this.spawn(1),Math.random()<c.Enemy.calcChance(15e4,t)&&this.spawn(2),Math.random()<c.Enemy.calcChance(2e4,t)&&this.spawn(3),Math.random()<c.Enemy.calcChance(3e4,t)&&this.spawn(4),Math.random()<c.Enemy.calcChance(25e3,t)&&this.spawn(5),Math.random()<c.Enemy.calcChance(3e4,t)&&this.spawn(6),Math.random()<c.Enemy.calcChance(5e4,t)&&this.spawn(7),Math.random()<c.Enemy.calcChance(25e3,t)&&this.spawn(8),Math.random()<c.Enemy.calcChance(25e3,t)&&this.spawn(9),Math.random()<c.Enemy.calcChance(6e3,t)&&this.spawn(10),Math.random()<c.Enemy.calcChance(25e3,t))for(let t=1;t<=Math.min(Math.random()*(this.enemiesKilled/10),150);t++)this.spawn(1)}else if(Math.random()*(2*this.enemiesKilled+600*this.difficulty)<=Math.sqrt(this.enemiesKilled)+1&&this.spawn(1),Math.random()*(2*this.enemiesKilled+48e3)<=Math.sqrt(this.enemiesKilled/100)+1&&this.spawn(2),Math.random()*(2*this.enemiesKilled+2e4*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(3),Math.random()*(2*this.enemiesKilled+3e4*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(4),Math.random()*(2*this.enemiesKilled+25e3*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(5),Math.random()*(2*this.enemiesKilled+3e4*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(6),Math.random()*(2*this.enemiesKilled+5e4*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(7),Math.random()*(2*this.enemiesKilled+25e3*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(8),Math.random()*(2*this.enemiesKilled+25e3*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(9),Math.random()*(2*this.enemiesKilled+5e3*this.difficulty)<=Math.sqrt(this.enemiesKilled/4)+1&&this.spawn(10),Math.random()*(2*this.enemiesKilled+2e4)<=Math.sqrt(this.enemiesKilled/3)+1)for(let t=1;t<=Math.min(Math.random()*(this.enemiesKilled/10),150);t++)this.spawn(1);if(!this.nohealth)for(let t=Math.ceil(1250*Math.random());1===t;t=Math.ceil(10*Math.random()))k.World.addAbsorb(new m.Absorb({point:new w.Point(Math.ceil(800*Math.random()),Math.ceil(600*Math.random()))}));if(!this.noweapons)for(let t=Math.ceil(3e3*Math.random());1===t;t=Math.ceil(10*Math.random()))k.World.addWeapon(new g.Weapon({point:new w.Point(Math.ceil(770*Math.random())+10,Math.ceil(580*Math.random())+10)}));if(this.nobackground||this.starCount--,this.starCount<=0){let t=M.Color.WHITE;this.starCount=25*Math.random()+1,this.rainbowsyay&&(t=M.Color.fromRGBA(256*Math.random(),256*Math.random(),256*Math.random()),this.starCount=5*Math.random());let e=new u.Particle({x:800*Math.random(),y:600*Math.random(),color:t,length:5,opacity:.5});e.bounceEnemy=!1,this.rainbowsyay&&(e=new p.ParticleBloom({x:800*Math.random(),y:600*Math.random(),color:t,length:5,opacity:.5,r:1e3*Math.random()+100}),e.myOpacity=1,e.fade=.01,e.friction=.97,e.motion.length*=2,e.motion.updateCartesian(),e.plzFadeIn()),k.World.addParticle(e)}this.player.move(this.upd,this.leftd,this.downd,this.rightd),this.player.act(),this.player.damaged=0,this.player.irradamage=0;for(const t of k.World.shots)t.act();for(const t of k.World.enemies)t.act();for(const t of k.World.weapons)t.act();for(const t of k.World.actors)t.act();v.removeItems(k.World.actors,k.World.removeActors);for(const t of k.World.addActors)k.World.actors.push(t);v.removeItems(k.World.shots,k.World.removeShots);for(const t of k.World.addShots)k.World.shots.push(t);v.removeItems(k.World.absorbs,k.World.removeAbsorbs);for(const t of k.World.addAbsorbs)k.World.absorbs.push(t);v.removeItems(k.World.enemies,k.World.removeEnemies);for(const t of k.World.addEnemies)k.World.enemies.push(t);v.removeItems(k.World.weapons,k.World.removeWeapons);for(const t of k.World.addWeapons)k.World.weapons.push(t);k.World.addShots.length=0,k.World.removeShots.length=0,k.World.addAbsorbs.length=0,k.World.removeAbsorbs.length=0,k.World.addEnemies.length=0,k.World.removeEnemies.length=0,k.World.addWeapons.length=0,k.World.removeWeapons.length=0,k.World.addActors.length=0,k.World.removeActors.length=0}calcScore(){return 10*this.enemiesKilled/Math.pow(this.difficulty,2)+this.damageDealt/40/(this.difficulty*this.difficulty)}spawn(t){if(this.nospawn)return;let e=new w.Point(Math.floor(840*Math.random()-20),640*Math.floor(2*Math.random())-20);Math.random()>.5&&(e=new w.Point(840*Math.floor(2*Math.random())-20,Math.floor(640*Math.random()-20)));let a=1,m=1;switch(t){case 1:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new c.Enemy({area:a,point:e}));break;case 2:a=Math.random()*(Math.random()*(5e3+100*this.enemiesKilled))+1e4+this.enemiesKilled*this.enemiesKilled,a=Math.min(a,1e5),m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new c.Enemy({area:a,point:e,nspeed:.5}));break;case 3:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new h.EnemyShooter({area:a,point:e}));break;case 4:e=new w.Point(Math.ceil(770*Math.random())+10,Math.ceil(580*Math.random())+10),k.World.addEnemy(new i.BurstSprout({point:e}));break;case 5:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new o.EnemyShielder({area:a,point:e}));break;case 6:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new y.EnemyShell({area:a,point:e}));break;case 7:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new l.EnemySwarm({area:a,point:e}));break;case 8:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new r.EnemyNom({area:a,point:e}));break;case 9:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new n.EnemyNinja({area:a,point:e}));break;case 10:a=Math.random()*(400+Math.pow(255*Math.pow(1*this.enemiesKilled/this.difficulty+50,2),1/3))+100,m=d.Circle.toRadius(a),e=new w.Point(Math.floor(Math.random()*(800+2*m)-m),Math.floor(2*Math.random())*(600+2*m)-m),Math.random()>.5&&(e=new w.Point(Math.floor(2*Math.random())*(800+2*m)-m,Math.floor(Math.random()*(600+2*m)-m))),k.World.addEnemy(new s.EnemyImpostor({area:a,point:e}))}}cheat(t){const e=t.trim();if(!e.startsWith("//"))if(parseInt(e).toString()===e){const t=parseInt(e);k.World.unlocked.has(t)&&this.weaponsBuyable>0&&(k.World.addWeapon(new g.Weapon({point:new w.Point(Math.ceil(700*Math.random())+10,Math.ceil(580*Math.random())+10),num:t})),this.weaponsBuyable--)}else{"healme"===e&&(this.player.reduceArea(-200),this.cheated=!0);const t=e.split(" ");let a=-1;if(t.length>1&&(a=parseInt(t[1])),"b"===t[0]||"buy"===t[0]){let a=0;const i=+t[1];if(Number.isInteger(i))a=parseInt(t[1]);else{const i=e.substring(t[0].length+1);a=g.Weapon.getNum(i)}a>0&&k.World.unlocked.has(a)&&this.weaponsBuyable>0&&(k.World.addWeapon(new g.Weapon({point:new w.Point(Math.ceil(700*Math.random())+10,Math.ceil(580*Math.random())+10),num:a})),this.weaponsBuyable--)}if("e"===t[0]){const e=parseInt(t[1])||0,a=parseInt(t[2])||1;for(let t=1;t<=a;t++)this.spawn(e)}if("nick"===t[0]&&(this.nickname=t.slice(1).join(" ").replace(/[=,]/g,"").slice(0,10).trim(),this.nickname||(this.nickname="Player")),"weaponset"===e&&console.log("unsupported"),"wwssadadba"===e){this.cheated=!0,this.player.reduceArea(-500);const t=new R.Uzi;t.ammunition=1e4,this.player.equipped[0]=t;const e=new S.LaserSniper;e.ammunition=1e5,this.player.equipped[1]=e;const a=new W.Shotgun;a.ammunition=1e3,this.player.equipped[2]=a;const i=new X.RailGun;i.cooldown=-5e4,i.ammunition=1e7,this.player.equipped[3]=i,this.player.equipped[4]=new b.HealBot(1e4)}if("abdadassww"===e){this.cheated=!0;const t=new A.Wall;t.ammunition=1e5,this.player.equipped[0]=t;const e=new x.FlameTurretConstruct;e.ammunition=1e3,this.player.equipped[1]=e;const a=new C.GunTurret;a.ammunition=1e3,this.player.equipped[2]=a;const i=new Y.ShieldBot;i.ammunition=5e4,i.health=5e4,this.player.equipped[3]=i,this.player.equipped[4]=new b.HealBot(1e4)}if("rainbowparty"===e&&(this.rainbowsyay=!0),"gOdMoDe"===e&&(this.cheated=!0,this.godMode?this.godMode=!1:this.godMode=!0),"lock"===e&&(this.weaponLock?this.weaponLock=!1:this.weaponLock=!0),"heal"===e&&(this.cheated=!0,k.World.addAbsorb(new m.Absorb({point:new w.Point(Math.ceil(800*Math.random()),Math.ceil(600*Math.random()))}))),"fps"===e&&(this.framesOn?this.framesOn=!1:this.framesOn=!0),"health"===e&&(this.healthOn?this.healthOn=!1:this.healthOn=!0),"one"===e&&(this.oneButton=!0,this.twoButton=!1),"two"===e&&(this.twoButton=!0,this.oneButton=!1),"three"===e&&(this.oneButton=!1,this.twoButton=!1),"help"===e&&this.displayText(this.helpText().join("\n")),"efficient"===e&&(this.efficient?this.efficient=!1:this.efficient=!0),"keycheats"===e&&(this.keycheats?this.keycheats=!1:this.keycheats=!0),"details"===e&&(this.details?this.details=!1:this.details=!0),"nospawn"===e&&(this.cheated=!0,this.nospawn?this.nospawn=!1:this.nospawn=!0),"steal"===t[0]){this.cheated=!0;let a=0;if(1===t.length)k.World.addWeapon(new g.Weapon({point:new w.Point(Math.ceil(700*Math.random())+10,Math.ceil(580*Math.random())+10),num:Math.random()*g.Weapon.weapons+1}));else{const i=+t[1];if(Number.isInteger(i))a=parseInt(t[1]);else{const i=e.substring(t[0].length+1);a=g.Weapon.getNum(i)}a>0&&k.World.addWeapon(new g.Weapon({point:new w.Point(Math.ceil(700*Math.random())+10,Math.ceil(580*Math.random())+10),num:a}))}}if("difficulty"===t[0]){this.cheat("die");let e=1;e="easy"===t[1]?3:"normal"===t[1]?1.5:"tough"===t[1]?1:"hard"===t[1]?.6:"insane"===t[1]?.5:"madness"===t[1]?.4:"ludicrous"===t[1]?.3:"youwilldie"===t[1]?.2:parseFloat(t[1]),this.difficulty=e}if("setrecordsto"===t[0]&&(parseInt(t[1])===this.loadKey?(this.totalDamageEver=parseFloat(t[2])||0,this.totalKillsEver=parseInt(t[3])||0,this.totalTakenEver=parseFloat(t[4])||0):this.displayText("Error in loading records.")),"secretkey"===t[0]&&(this.loadKey=parseInt(t[1])||0),"u"===t[0]&&parseInt(t[1])===this.loadKey){const e=parseInt(t[2]);if(e>0){const t=e;k.World.unlocked.add(t)}}if("reset"===t[0]&&("keys"===t[1]&&this.keys.clear(),"stats"===t[1]&&(this.totalDamageEver=0,this.totalKillsEver=0,this.totalTakenEver=0)),"remove"===t[0]&&(this.cheated=!0,"unlocked"===t[1]?k.World.unlocked.clear():"enemies"===t[1]?k.World.enemies.length=0:"shots"===t[1]?k.World.shots.length=0:"absorbs"===t[1]?k.World.absorbs.length=0:"actors"===t[1]?k.World.actors.length=0:"weapons"===t[1]?k.World.weapons.length=0:"other"===t[1]?(k.World.absorbs.length=0,k.World.actors.length=0,k.World.weapons.length=0):"settings"===t[1]?(this.oneButton=!0,this.twoButton=!1,this.efficient=!1,this.framesOn=!1,this.details=!1,this.healthOn=!0,this.keycheats=!1,this.resize=!1,this.debug=!1,this.difficulty=1):"all"===t[1]&&(k.World.unlocked.clear(),k.World.enemies.length=0,k.World.shots.length=0,k.World.absorbs.length=0,k.World.actors.length=0,k.World.weapons.length=0,this.oneButton=!1,this.efficient=!0,this.framesOn=!1,this.details=!1,this.healthOn=!0,this.keycheats=!1,this.resize=!1,this.debug=!1,this.difficulty=1)),"highscore"===t[0]&&parseInt(t[1])===this.loadKey&&(this.highscore=parseInt(t[2])),"leaderboards"===t[0]&&parseInt(t[1])===this.loadKey){const e=t.slice(2).join(" ").split(",");for(let t=0;t<Math.min(e.length,5);t++)console.log("trying to load a leaderboards"),this.leaderboards[t]={name:e[t].split("=")[0].trim(),value:parseInt(e[t].split("=")[1].trim())}}if("die"===e&&(this.player.myR=0),"unlocked"===t[0]){let e="",a=0;if(1===t.length){for(const t of k.World.sortedWeapons())e+=t+"-"+g.Weapon.getName(t)+",  ",e.length-a>90&&(a=e.length,e+="/n"),console.log(t+"-"+g.Weapon.getName(t));e.length>2&&(e=e.substring(0,e.length-2))}else for(const t of k.World.sortedWeapons())e+=" "+t,e.length-a>90&&(a=e.length,e+="/n"),console.log(t);this.displayText(e)}if("moveammo"===e&&(this.onCursor?this.onCursor=!1:this.onCursor=!0),"nohelp"===e&&(this.helpme=!this.helpme),"resize"===e&&(this.resize?this.resize=!1:this.resize=!0),"debug"===e&&(this.debug?this.debug=!1:this.debug=!0),"noweapons"===e&&(this.noweapons=!this.noweapons),"nohealth"===e&&(this.nohealth=!this.nohealth),"nobackground"===e&&(this.nobackground=!this.nobackground),"bindings"===e){let t="";for(const e of this.keys.keys())t+=",  "+e+" to "+this.keys.get(e).map((t=>E[t])).join(", ");t.length>0&&(t=t.substring(2)),this.displayText(t)}if("unbind"===t[0]&&("all"===t[1]?this.keys.clear():this.keys.delete(t[1])),"rebind"===t[0]||"bind"===t[0])if("default"===t[1]){this.keys.clear();for(const t of Object.getOwnPropertyNames(this.bindings))this.keys.set(t,this.bindings[t])}else if(3===t.length){const e=t[1],a=t[2];"bind"===t[0]&&this.keys.has(e)?this.keys.get(e).push(E[a]):this.keys.set(e,[E[a]])}else{const e=parseInt(t[1]);this.popBox.rebindfrom=e,setInterval((()=>{this.popBox.upPop(new w.Point(400,300),["Press a Key to bind to action (nonfunctional, sorry)"],5)}),100)}if("graphics"===t[0]&&a>=0&&a<=3&&(this.graphics=a),"stats"===e&&this.displayText("Total kills: "+this.totalKillsEver+"/nDamage dealt: "+this.totalDamageEver+"/nDamage taken: "+this.totalTakenEver),"weaponlock"===e&&(this.weaponLock?this.weaponLock=!1:this.weaponLock=!0),"testspawn"===e&&(this.testspawn=!this.testspawn),"s"===t[0]||"search"===t[0]){let a="none";const i=+t[1];if(Number.isInteger(i)){const e=parseInt(t[1]);a=g.Weapon.getName(e)+" - #"+e+"/nDesc: "+g.Weapon.getDesc(e)}else{const i=e.substring(t[0].length+1),s=g.Weapon.getNum(i);a=i+" - #"+s+"/nDesc: "+g.Weapon.getDesc(s)}"0"!==a&&this.displayText(a)}}}displayText(t){setInterval((()=>{this.popBox.upPop(new w.Point(400,20),t.split("\n"),3)}),10)}setKey(t){}loadSettings(){const t=v.getContents("ocellidata");for(const e of t)this.cheat(e)}setSettings(){const t=["// Save data uses built-in cheat console, accessible with ` (backtick)"];this.oneButton&&t.push("one"),this.twoButton&&t.push("two"),this.oneButton||this.twoButton||t.push("three"),this.efficient||t.push("efficient"),this.framesOn&&t.push("fps"),this.details&&t.push("details"),this.healthOn||t.push("health"),this.keycheats&&t.push("keycheats"),this.resize&&t.push("resize"),this.debug&&t.push("debug"),this.onCursor&&t.push("moveammo"),this.weaponLock||t.push("weaponlock"),this.helpme||t.push("nohelp"),this.testspawn||t.push("testspawn"),t.push(`nick ${this.nickname}`),t.push(`secretkey ${this.saveKey}`),t.push(`setrecordsto ${this.saveKey} ${this.totalDamageEver} ${this.totalKillsEver} ${this.totalTakenEver}`),t.push(`graphics ${this.graphics}`);for(const e of k.World.unlocked)t.push(`u ${this.saveKey} ${e}`);t.push("unbind all");for(const e of this.keys.keys())t.push(`bind ${e.toString()} ${this.keys.get(e).map((t=>E[t]))}`);t.push(`highscore ${this.saveKey} ${this.highscore}`),t.push(`leaderboards ${this.saveKey} ${this.leaderboards.map((t=>`${t.name}=${t.value}`)).join(",")}`),v.setContents("ocellidata",t)}paintComponent(t){t.setColor(M.Color.BLACK),t.fillRect(0,0,820,620),this.player.paintMouse(t,this.mousePos.myX,this.mousePos.myY);for(const e of k.World.actors)e.paint(t);for(const e of k.World.shots)e.paint(t);for(const e of k.World.enemies)e.paint(t);for(const e of k.World.absorbs)e.paint(t);for(const e of k.World.weapons)e.paint(t);t.setColor(M.Color.fromRGBA(1,0,0));let e=this.player.equipped[this.player.lastUsed];(this.oneButton||this.twoButton)&&(e=this.player.equipped[this.weaponSlot]),this.onCursor?e.paint(t,this.mousePos.myX,this.mousePos.myY+6):e.paint(t,this.player.myX,this.player.myY+this.player.myR+3),t.setColor(M.Color.WHITE),t.drawString(this.calcScore().toFixed(0)+" (d"+this.difficulty+")",5,12),this.framesOn&&t.drawString(this.myFrame.lrFPS+"/"+this.myFrame.lFPS+" - "+(1/this.myFrame.skipFrames).toFixed(2),5,24),this.healthOn&&t.drawString(this.player.area().toFixed(2),5,36),this.details&&t.drawString("Shots:"+k.World.shots.length+" Enemies:"+k.World.enemies.length+" Other:"+(k.World.actors.length+k.World.absorbs.length+k.World.weapons.length),5,48),t.drawString(this.whatDebug,0,80);let a=2;(this.oneButton||this.twoButton)&&(a=4);for(let e=0;e<=a;e++)this.player.equipped[e].primary?t.setColorA(M.Color.WHITE,.6):t.setColorA(M.Color.GREEN,.6),this.player.equipped[e].paintBar(t,10+42*e,550),this.player.equipped[e].hasSecondary()&&(t.setColorA(M.Color.GREEN,.6),t.drawOval(10+42*e+32,555,3));this.oneButton||this.twoButton||(t.setColorA(M.Color.MAGENTA,.6),this.player.equipped[3].paintBar(t,136,550),t.setColorA(M.Color.MAGENTA,.6),this.player.equipped[4].paintBar(t,178,550)),t.setColorA(M.Color.YELLOW,.6),t.draw3DRect(42*this.weaponSlot+9,549,42,42),this.weaponLock&&(t.setColorA(M.Color.GRAY,.6),t.draw3DRect(8,548,212,44)),t.setColor(M.Color.WHITE),this.popBox.open&&this.popBox.paint(t);const i=this.mousePos.myX+.5,s=this.mousePos.myY+.5;t.setColor(M.Color.BLACK),t.drawLine(i-1,s-1,i+3,s+3),t.drawLine(i-1,s+3,i+3,s-1),t.setColor(M.Color.WHITE),t.drawLine(i-2,s-2,i+2,s+2),t.drawLine(i-2,s+2,i+2,s-2),this.myFrame.paused&&(t.setAlpha(.6),t.drawString("p to unpause",700,30),t.drawString("-- Paused --",704,20),t.setAlpha(1)),this.debug&&(t.setAlpha(.6),t.drawString("-- Debug Enabled --",70,24),t.setAlpha(1))}}e.GameInstance=O,console.log("Loaded game panel"),e.GamePanel=new O,console.log(!!e.GamePanel)},2142:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Main=void 0;const i=a(5428),s=a(7620);e.Main=class{main(){this.createAndShowGUI()}createAndShowGUI(){new i.GameFrame("Survival Shooter").init(s.GamePanel)}}},7194:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyAntiShot=void 0;const i=a(6817),s=a(8524),n=a(4888),r=a(7169);class o extends r.EnemyShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.myFill=null,this.myBorder=s.Color.WHITE,this.damMod=0}act(){super.act();for(const t of n.World.shots)if(t!==this&&(this.path.intersects(t.path)||t.intersects(this).theBool)&&!(t instanceof o)&&!t.notShot){t.hit();for(let t=Math.ceil(10*Math.random());t>0;t--)n.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.myBorder,spread:5}));n.World.removeShot(t),n.World.removeShot(this)}}hit(){}hitShot(t,e){if(!e.notShot){e.hit();for(let t=Math.ceil(10*Math.random());t>0;t--)new i.Particle({x:this.myX,y:this.myY,color:this.myBorder,spread:5});n.World.removeShot(e),n.World.removeShot(this)}}}e.EnemyAntiShot=o},7169:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyShot=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(4888),o=a(4686);class h extends o.TestShot{constructor(t){super(t),this.myFill=null,this.myBorder=n.Color.PINK,this.damMod=.5,t.shrink&&(this.speedLimit=4)}die(){for(let t=3;t>0;t--)r.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.myBorder}))}act(){if(!r.World.removeShots.includes(this)){this.vec.length>this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of r.World.enemies)if((this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&t.isAlive()){this.invuln||r.World.removeShot(this),this.tracer&&(this.setArea(.97*this.area()),this.vec.scale(.75)),-1===this.damage?t.hit(this.area()*this.vec.length*this.damMod):t.hit(this.damage);for(let t=3;t>0;t--)r.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.myBorder}));this.hitEnemy(t);break}if(this.intersects(s.GamePanel.player).theBool||s.GamePanel.player.intersectsLineWithinCircle(this.path,this)){r.World.removeShot(this);for(let t=3;t>0;t--)r.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.myBorder}));s.GamePanel.player.hit(this.area()*this.vec.length*this.damMod)}this.shrink&&this.setArea(.95*this.area()),(this.myX<=0||this.myX>=800||this.myY<=0||this.myY>=600||this.myR<=.5&&this.shrink)&&r.World.removeShot(this)}}}e.EnemyShot=h},3955:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExplosionA=void 0;const i=a(7620),s=a(8524),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a,i,r){super({x:t,y:e,r:a}),this.deathRate=.1,this.damage=25,this.startR=a,this.myFill=s.Color.RED,this.deathRate=i,this.damage=r;for(const t of n.World.enemies)this.intersects(t).theBool&&t.hit(7*this.damage*(1-(this.centerDistance(t)-t.myR)/this.startR))}act(){this.reduceArea(1),this.setArea(this.area()*this.deathRate),this.myR<=this.startR/2&&(this.notShot=!0,this.ghostShot=!0);for(const t of n.World.enemies)this.intersects(t).theBool&&t.hit(this.damage*(this.myR/this.startR)*(1-(this.centerDistance(t)-t.myR)/this.startR));i.GamePanel.player.intersects(this).theBool&&i.GamePanel.player.hit(this.damage*(this.myR/this.startR)*(1-(this.centerDistance(i.GamePanel.player)-i.GamePanel.player.myR)/this.startR)/4),this.area()<=1&&n.World.removeShot(this)}paint(t){super.paintGradient(t,5,.05)}}e.ExplosionA=o},3119:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FloatShot=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(9988),o=a(4888),h=a(4686);class l extends h.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.health=3,this.myFill=null,this.myBorder=n.Color.CYAN,this.speedLimit=14}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);let t=12*this.distanceCircle(s.GamePanel.player),e=s.GamePanel.player;for(const a of o.World.enemies){if((a.intersectsLineWithinCircle(this.path,this)||this.intersects(a).theBool)&&a.isAlive()&&(this.health--,-1===this.damage?a.hit(this.area()*this.vec.length*3):a.hit(this.damage),this.health<=0))break;this.distanceCircle(a)<t&&(t=this.distanceCircle(a),e=a)}if(this.health<=0){o.World.removeShot(this);for(let t=0;t<4;t++)o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.CYAN}))}const a=r.Vector.fromXyxy(this.myX,this.myY,e.myX,e.myY);a.length=.5,a.updateCartesian(),this.vec.add(a),this.myX<0?(this.myX=0,this.vec.dx=-this.vec.dx):this.myX>800&&(this.myX=800,this.vec.dx=-this.vec.dx),this.myY<0?(this.myY=0,this.vec.dy=-this.vec.dy):this.myY>600&&(this.myY=600,this.vec.dy=-this.vec.dy),this.vec.length>=this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian())}paint(t){this.myO=this.health/3,super.paint(t)}}e.FloatShot=l},1899:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GhostShot=void 0;const i=a(4686);class s extends i.TestShot{constructor(t){super(t),this.ghostShot=!0}}e.GhostShot=s},3857:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Grenade=void 0;const i=a(8524),s=a(9988),n=a(4888),r=a(3955),o=a(2056);class h extends o.RC4{constructor(t,e,a){super(t,new s.Vector,e,a),this.timer=180,this.myFill=null,this.myBorder=i.Color.ORANGE,this.shrapnel=a}toss(t){this.vec=t}act(){this.timer--,this.myX+=this.vec.dx,this.myY+=this.vec.dy,this.vec.scale(.96);for(const t of n.World.enemies)if(this.intersects(t).theBool){const e=s.Vector.fromPoints(this.myPoint(),t.myPoint());e.length=this.myR+t.myR-this.centerDistance(t),e.updateCartesian(),this.myX-=e.dx,this.myY-=e.dy,e.length=this.vec.length,e.updateCartesian(),e.scale(.5),this.vec.subtract(e),this.vec.scale(.7),t.hit(this.myDamage())}for(const t of n.World.shots)t instanceof r.ExplosionA&&this.intersects(t).theBool&&this.explode();this.timer<1&&this.explode()}}e.Grenade=h},7230:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HomerShot=void 0;const i=a(7620),s=a(8524),n=a(9988),r=a(4888),o=a(4686);class h extends o.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.myFill=s.Color.GREEN,this.damMod=.1}act(){this.setArea(this.area()-.1),this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);let t=1e3,e=i.GamePanel.player;for(const a of r.World.enemies)(a.intersectsLineWithinCircle(this.path,this)||this.intersects(a).theBool)&&a.isAlive()&&(r.World.removeShot(this),-1===this.damage?a.hit(this.area()*this.vec.length*2):a.hit(this.damage)),this.distanceCircle(a)<t&&(t=this.distanceCircle(a),e=a);this.myR<.4&&r.World.removeShot(this),this.vec=n.Vector.fromXyxy(this.myX,this.myY,e.myX,e.myY),this.vec.length=8,this.vec.updateCartesian()}}e.HomerShot=h},2366:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KnockBackShot=void 0;const i=a(8524),s=a(9988),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.myFill=i.Color.GREEN}act(){this.vec.length>this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of n.World.enemies)if((this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&t.isAlive()){if(null!==t.motion){const e=s.Vector.fromPoints(this.myPoint(),t.myPoint());e.length=this.vec.length/2,e.updateCartesian(),this.vec.subtract(e),t.motion.add(e)}-1===this.damage?t.hit(this.area()*this.vec.length):t.hit(this.damage),n.World.removeShot(this)}(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700||this.myR<=1.5)&&n.World.removeShot(this)}}e.KnockBackShot=o},5273:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Laser=void 0;const i=a(8524),s=a(4888),n=a(4686);class r extends n.TestShot{constructor(t,e,a,s=!1){super({point:t,v:e,r:a,ghostShot:s}),this.dieTomorrow=!1,this.myFill=i.Color.RED,this.path.myColor=i.Color.RED}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of s.World.enemies)if(t.intersectsLineWithinCircle(this.path,this)&&t.isAlive()){const e=this.hitLength(t);-1===this.damage?t.hit(this.area()*e*this.damMod):t.hit(this.damage)}this.shrink&&this.setArea(.95*this.area()),this.dieTomorrow&&s.World.removeShot(this),(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&(this.dieTomorrow=!0)}paint(t){super.paint(t),this.path.paint(t)}hitShot(t,e){s.World.removeShot(e)}}e.Laser=r},4137:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LeechShot=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(9988),o=a(4888),h=a(4686);class l extends h.TestShot{constructor(t,e,a,i){super({point:t,v:e,r:a}),this.collides=1,this.myFill=null,this.myBorder=n.Color.CYAN,this.speedLimit=14,this.myGun=i}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy),this.distanceCircle(s.GamePanel.player);const t=s.GamePanel.player;this.myR*=.99,this.collides=1;for(const t of o.World.enemies)(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&t.isAlive()&&(this.reduceArea(-10),t.hit(10),this.collides=.2);if(this.intersects(s.GamePanel.player).theBool&&(this.myGun.health+=this.area()/15,o.World.removeShot(this)),this.myR<=1){o.World.removeShot(this);for(let t=0;t<4;t++)o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.CYAN}))}const e=r.Vector.fromXyxy(this.myX,this.myY,t.myX,t.myY);e.length=this.myR/8*this.collides,e.updateCartesian(),this.vec.add(e),this.vec.length>=this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian())}hitShot(t,e){}}e.LeechShot=l},7070:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(9988),o=a(4888),h=a(7169),l=a(4686);class m extends l.TestShot{constructor(t,e,a){super({point:t,v:e}),this.pull=4,this.friction=0,this.myR=5,this.myFill=null,this.myBorder=n.Color.GRAY,this.damMod=4,this.ghostShot=!0,this.myChain=a,this.notShot=!0}act(){this.myX+=this.vec.dx,this.myY+=this.vec.dy,this.vec.scale(this.friction);let t=null,e=s.GamePanel.player;const a=this.myChain.links.indexOf(this);if(a>0&&(e=this.myChain.links[a-1]),t=e,!this.intersects(t).theBool){const e=r.Vector.fromXyxyLength(this.myX,this.myY,t.myX,t.myY,this.distanceCircle(t));this.vec.add(e),s.GamePanel.player.motion.scale(1-.001*e.length)}for(const t of o.World.shots)t instanceof h.EnemyShot&&(!this.intersects(t).theBool&&!t.intersectsLineWithinCircle(this.path,this)||o.World.removeShots.includes(t)||(o.World.removeShot(t),o.World.removeShot(this),o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.GRAY}))));for(const t of o.World.enemies)if((this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&t.isAlive()){o.World.removeShot(this);do{o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.GRAY}))}while(Math.random()<.7);t.hit(100);const e=t.motion.copy();t.motion.subtract(e),t.myX-=e.dx,t.myY-=e.dy}}hitShot(t,e){this.vec.add(t)}}e.Link=m},2230:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MissileShot=void 0;const i=a(6817),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(3955),l=a(4686);class m extends l.TestShot{constructor(t,e,a,i){super({point:t,v:e,r:a}),this.accel=0,this.gravitate=!0,this.target=new n.Point(0,0),this.myFill=null,this.myBorder=s.Color.GRAY,this.speedLimit=45,this.target=i,this.path.myColor=s.Color.RED,this.path.myO=.8,this.damMod=2}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of o.World.enemies)if((t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&t.isAlive()){t.hit(this.area()*this.vec.length*this.damMod),o.World.addShot(new h.ExplosionA(this.myX,this.myY,10,.99,0)),o.World.removeShot(this);for(let t=1;t<=10;t++)o.World.addParticle(new i.Particle({x:this.myX,y:this.myY}))}if(this.gravitate){this.vec.scale(.95),this.accel<25&&(this.accel+=.05);const t=r.Vector.fromXyxy(this.myX,this.myY,this.target.myX,this.target.myY);t.length=this.accel,t.updateCartesian(),this.vec.add(t),this.distancePoint(this.target)<this.vec.length&&(this.gravitate=!1)}this.vec.length>=this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),!this.gravitate&&(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&o.World.removeShot(this)}hitShot(t,e){}paint(t){super.paint(t),this.path.paint(t)}}e.MissileShot=m},294:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NewtonShot=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(5059),o=a(9988),h=a(4888),l=a(4686);class m extends l.TestShot{constructor(t,e,a,i){super({point:t,v:e,r:a}),this.accel=0,this.target=new r.Point(0,0),this.life=300,this.myFill=null,this.myBorder=n.Color.GREEN,this.speedLimit=45,this.target=i,this.path.myColor=n.Color.GREEN,this.path.myO=.8,this.damMod=.5}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy),this.vec.scale(.95),this.accel<5&&(this.accel+=.02),this.distanceCircle(s.GamePanel.player);for(const t of h.World.enemies)(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&t.isAlive()&&(-1===this.damage?t.hit(this.area()*this.vec.length*3):t.hit(this.damage),h.World.removeShot(this),h.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.GREEN})));const t=o.Vector.fromXyxy(this.myX,this.myY,this.target.myX,this.target.myY);t.length=this.accel,t.updateCartesian(),this.vec.add(t),this.vec.length>=this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.life--,this.life%60==0&&h.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.GREEN})),this.life<0&&(h.World.removeShot(this),h.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:n.Color.GREEN})))}hitShot(t,e){}paint(t){super.paint(t),this.path.paint(t)}}e.NewtonShot=m},5805:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NuclearShot=void 0;const i=a(6817),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(3955),l=a(4074),m=a(7998),d=a(4686);class c extends d.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.myBorder=s.Color.GREEN,this.myFill=s.Color.CYAN}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of o.World.shots)t!==this&&(t.notShot||(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&(t.hit(),this.explode()));for(const t of o.World.enemies)(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&(t.hit(this.myR*this.vec.length*20),this.explode());(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&o.World.removeShot(this)}hit(){this.explode()}explode(){o.World.addShot(new l.Radiation(this.myX,this.myY,70)),o.World.addShot(new h.ExplosionA(this.myX,this.myY,200,.1,50));for(let t=Math.ceil(15*Math.random());t>0;t--)new i.Particle({x:this.myX,y:this.myY,color:this.myBorder,spread:5});let t;for(let e=5+Math.ceil(10*Math.random());e>=0;e--)t=r.Vector.fromDirectionLength(360*Math.random(),4),o.World.addShot(new m.Shrapnel(new n.Point(this.myX+t.dx,this.myY+t.dy),t));for(;this.area()>5;this.scaleArea(.6))Math.random()>.5?this.myBorder=s.Color.GREEN:this.myBorder=s.Color.fromRGBA(1,0,1),this.toParticles();o.World.removeShot(this)}paint(t){const e=Math.round(this.myX-this.myR),a=Math.round(this.myY-this.myR),i=Math.round(2*this.myR);s.Color.fromRGBA(.5,0,.5),s.Color.fromRGBA(0,.5,0),null!==this.myFill&&t.fillOval(e,a,i),null!==this.myBorder&&(t.setColor(this.myBorder),t.drawOval(e,a,i))}}e.NuclearShot=c},2056:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RC4=void 0;const i=a(2673);class s extends i.SpecShot{constructor(t,e,a,i){super({point:t,v:e,r:a,explode:i})}act(){}}e.RC4=s},4074:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Radiation=void 0;const i=a(7620),s=a(8524),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a){super({x:t,y:e,r:a}),this.oldR=0,this.oldR=a,this.notShot=!0,this.ghostShot=!0,this.myFill=s.Color.GREEN}act(){this.reduceArea(5);for(const t of n.World.enemies)this.intersects(t).theBool&&t.hit(30*(1-this.centerDistance(t)/this.oldR));i.GamePanel.player.intersects(this).theBool&&i.GamePanel.player.irrad(2*(1-this.centerDistance(i.GamePanel.player)/this.oldR)),this.area()<=0&&n.World.removeShot(this)}paint(t){super.paintGradient(t,5,.05)}}e.Radiation=o},5466:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RailShot=void 0;const i=a(6817),s=a(8524),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a,i){super({point:t,v:e,r:a}),this.myFill=null,this.myBorder=s.Color.RED,this.invuln=!0,this.ghostShot=!0,this.damMod=i}act(){super.act();const t=Math.round(this.vec.direction-180);for(let e=8;e>0;e--){const e=new i.Particle({x:this.myX,y:this.myY,color:s.Color.RED,angle:t,spread:50});e.fade=.025,n.World.addParticle(e)}}}e.RailShot=o},6256:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ReboundBullet=void 0;const i=a(8524),s=a(9988),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a,s){super({point:t,v:e,r:a}),this.maxSpeed=0,this.dying=!1,this.maxSpeed=this.vec.length,this.myFill=i.Color.GREEN,this.myGun=s}die(){this.dying=!0}act(){this.dying&&(this.myO-=.01),this.vec.length>this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of n.World.shots)if(t instanceof o&&(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)){const e=s.Vector.fromPoints(this.myPoint(),t.myPoint());e.length=this.vec.length,e.updateCartesian(),this.vec.subtract(e),t.hitShot(e,this),t.hit()}for(const t of n.World.enemies)if((this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))&&t.isAlive()){if(null!==t.motion){const e=s.Vector.fromPoints(this.myPoint(),t.myPoint());e.length=this.vec.length,e.updateCartesian(),this.vec.subtract(e),t.motion.add(e),this.myO-=.05}-1===this.damage?t.hit(this.area()*this.vec.length):t.hit(this.damage)}this.vec.length>this.maxSpeed&&(this.vec.length=this.maxSpeed,this.vec.updateCartesian()),this.myX<0?(this.myX=0,this.vec.dx=-this.vec.dx,this.myO-=.05):this.myX>800&&(this.myX=800,this.vec.dx=-this.vec.dx,this.myO-=.05),this.myY<0?(this.myY=0,this.vec.dy=-this.vec.dy,this.myO-=.05):this.myY>600&&(this.myY=600,this.vec.dy=-this.vec.dy,this.myO-=.05),this.myO<=.1&&(n.World.removeShot(this),this.myGun.died(this))}}e.ReboundBullet=o},7998:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shrapnel=void 0;const i=a(8524),s=a(4686);class n extends s.TestShot{constructor(t,e,a=3){super({point:t,v:e,r:a}),this.myFill=i.Color.GREEN,this.speedLimit=25,this.shrink=!0,this.myO=.3}paint(t){super.paint(t)}}e.Shrapnel=n},6956:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparkShot=void 0;const i=a(8524),s=a(4686);class n extends s.TestShot{constructor(t,e,a,s){super({point:t,v:e,r:a,shrink:s}),this.myBorder=null,this.myFill=i.Color.RED,this.ghostShot=!0,this.myO=.5}}e.SparkShot=n},4299:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sparkblade=void 0;const i=a(5362),s=a(8524),n=a(4888),r=a(7918),o=a(4686);class h extends o.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.flagged=!1,this.range=400,this.myFill=null,this.myBorder=s.Color.YELLOW}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of n.World.shots)if((t instanceof h||t instanceof r.Sparkbud)&&this.distanceCircle(t)<this.range){const e=new i.Line(this.myX,this.myY,t.myX,t.myY);for(const t of n.World.enemies)t.intersectsLine(e)&&t.hit(30*(1-e.length()/400))}(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&n.World.removeShot(this)}hit(){}paint(t){super.paint(t),t.setColor(s.Color.YELLOW);for(const e of n.World.shots)(e instanceof h||e instanceof r.Sparkbud)&&this.distanceCircle(e)<this.range&&t.drawLine(.5+this.myX,.5+this.myY,.5+e.myX,.5+e.myY)}}e.Sparkblade=h},7918:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sparkbud=void 0;const i=a(523),s=a(8524),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.myFill=null,this.myBorder=s.Color.YELLOW}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy);for(const t of n.World.enemies)this.distanceCircle(t)<200&&t.isAlive()&&!(t instanceof i.EnemyNinja)&&this.shoot(t,200);(this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700)&&n.World.removeShot(this)}shoot(t,e){t.hit(e/200*2);for(const a of n.World.enemies)t!==a&&t.isAlive()&&t.flagged<=0&&t.distanceCircle(a)<e&&(a.flagged=1,this.shoot(a,e/1.5),a.flagged=0)}hit(){}paint(t){super.paint(t),t.setColor(s.Color.YELLOW);for(const e of n.World.enemies)this.distanceCircle(e)<200&&!(e instanceof i.EnemyNinja)&&this.draw(this,e,200,t)}draw(t,e,a,i){i.drawLine(.5+t.myX,.5+t.myY,.5+e.myX,.5+e.myY);for(const t of n.World.enemies)e!==t&&e.isAlive()&&e.flagged<=0&&e.distanceCircle(t)<a&&(e.flagged=1,this.draw(e,t,a/1.5,i),t.flagged=0)}}e.Sparkbud=o},2673:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SpecShot=void 0;const i=a(6817),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(3955),l=a(1899),m=a(7998),d=a(4686);class c extends d.TestShot{constructor(t){super(t),this.burst=5,this.rad=10,this.shrapnel=!0,this.explosion=100,this.decay=.9,this.damage=25,this.alive=!0,this.epic=!1;const{explode:e=!1}=t;this.myFill=null,this.myBorder=s.Color.ORANGE,this.shrapnel=e}act(){if(this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy),!l.GhostShot)for(const t of o.World.shots)t!==this&&(t.notShot||(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&(t.hit(),this.explode()));for(const t of o.World.enemies)(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&t.isAlive()&&(t.hit(this.myR*this.vec.length*2),this.explode());(this.myX<=0||this.myX>=800||this.myY<=0||this.myY>=600)&&o.World.removeShot(this)}hit(){this.explode()}explode(){if(this.alive){o.World.addShot(new h.ExplosionA(this.myX,this.myY,this.explosion,this.decay,this.damage));for(let t=Math.ceil(Math.random()*(10*this.myR));t>0;t--)o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.RED,spread:5}));if(this.shrapnel){for(let t=2*this.burst+Math.ceil(Math.random()*this.burst*4);t>=0;t--){const t=r.Vector.fromDirectionLength(360*Math.random(),4);o.World.addShot(new m.Shrapnel(new n.Point(this.myX+t.dx,this.myY+t.dy),t))}for(let t=0;t!==this.burst;t=Math.ceil(Math.random()*(this.burst+1))){const t=r.Vector.fromDirectionLength(360*Math.random(),4);o.World.addShot(new m.Shrapnel(new n.Point(this.myX+t.dx,this.myY+t.dy),t,this.rad))}}if(this.toParticles(),this.epic)for(;this.area()>5;this.scaleArea(.6))this.toParticles();o.World.removeShot(this),this.alive=!1}}}e.SpecShot=c},8931:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TaserShot=void 0;const i=a(6817),s=a(8524),n=a(9988),r=a(4888),o=a(4686);class h extends o.TestShot{constructor(t,e){super({point:t,r:e}),this.oneFrame=!1,this.myFill=s.Color.YELLOW,this.vec=new n.Vector}act(){if(this.oneFrame)r.World.removeShot(this);else{for(const t of r.World.enemies)if(this.intersects(t).theBool&&t.isAlive()){const e=t.area();t.myR-=2;const a=e-t.area();t.myR+=2,t.hit(a)}Math.random()<.2&&r.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.YELLOW})),this.oneFrame=!0}}}e.TaserShot=h},6731:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TeslaShot=void 0;const i=a(6817),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(4686);class l extends h.TestShot{constructor(t,e,a,i){super({point:t,v:e,r:a}),this.accel=0,this.target=new n.Point(0,0),this.life=200,this.myFill=s.Color.YELLOW,this.myBorder=s.Color.YELLOW,this.myO=.8,this.speedLimit=30,this.target=i,this.path.myColor=s.Color.BLUE,this.path.myO=.8,this.damMod=.3}act(){this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy),this.vec.scale(.99),this.accel<25&&(this.accel+=.1);for(const t of o.World.enemies)(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)&&t.isAlive()&&(-1===this.damage?t.hit(this.area()*this.vec.length*3):t.hit(this.damage),o.World.removeShot(this),o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.BLUE})));const t=r.Vector.fromXyxy(this.myX,this.myY,this.target.myX,this.target.myY);t.length=this.accel,t.updateCartesian(),this.vec.add(t),this.vec.length>=this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.life--,this.life%50==0&&o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.YELLOW})),this.life<0&&(o.World.removeShot(this),o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.BLUE})))}hitShot(t,e){}paint(t){super.paint(t),this.path.paint(t)}}e.TeslaShot=l},4686:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestShot=void 0;const i=a(5569),s=a(5362),n=a(8524),r=a(5059),o=a(9988),h=a(4888);class l extends i.Circle{constructor(t){super(t),this.vec=null,this.shrink=!1,this.tracer=!1,this.invuln=!1,this.slow=.3,this.damage=-1,this.ghostShot=!1,this.IgnoreShot=!1,this.notShot=!1,this.path=new s.Line(this.myX,this.myY,this.myX,this.myY),this.damMod=1,this.speedLimit=100,this.isTurret=!1,this.accurate=!1;const{v:e=new o.Vector,damg:a=-1,shrink:i=!1,ghostShot:r=!1}=t;this.myFill=n.Color.GREEN,this.vec=e,this.shrink=i,this.damage=a,this.ghostShot=r}act(){if(this.vec.length>this.speedLimit&&(this.vec.length=this.speedLimit,this.vec.updateCartesian()),this.path.set(this.myX,this.myY,this.myX+=this.vec.dx,this.myY+=this.vec.dy),!this.IgnoreShot)for(const t of h.World.shots)if(t!==this&&!t.ghostShot&&!t.notShot&&(t.intersectsLineWithinCircle(this.path,this)||this.intersects(t).theBool)){const e=o.Vector.fromPoints(this.myPoint(),t.myPoint());e.length-=this.vec.length,e.updateCartesian(),this.vec.subtract(e),t.hit(),t.hitShot(e,this)}for(const t of h.World.enemies)if(t.isAlive()&&(this.intersects(t).theBool||t.intersectsLineWithinCircle(this.path,this))){if(this.invuln||h.World.removeShot(this),this.tracer){const e=this.hitLength(t);t.hit(this.area()*e*this.damMod),this.accurate&&this.hitAccurate(t),this.vec.length-=e*this.slow,this.vec.updateCartesian()}else-1===this.damage?t.hit(this.area()*this.vec.length*this.damMod):t.hit(this.damage);this.hitEnemy(t)}this.shrink&&this.setArea(.95*this.area()),this.myX<=-100||this.myX>=900||this.myY<=-100||this.myY>=700?h.World.removeShot(this):this.myR<.5&&(this.shrink||this.tracer)&&(this.die(),h.World.removeShot(this)),this.tracer&&this.vec.length<.1&&(this.die(),h.World.removeShot(this))}myDamage(){return this.area()*this.vec.length*this.damMod}movingTo(t){const e=new r.Point(this.myX-this.vec.dx,this.myY-this.vec.dy);return this.centerDistance(t)<t.centerDistance(e)}hitLength(t){const e=this.myX,a=this.myY;this.myX-=this.vec.dx,this.myY-=this.vec.dy;const i=this.vec.length/3;let s=0;for(let e=0;e<=i;e++)this.myX+=this.vec.dx/i,this.myY+=this.vec.dy/i,this.intersects(t).theBool&&(s+=this.vec.length/i);return this.myX=e,this.myY=a,s}hitAccurate(t){this.myX-=this.vec.dx,this.myY-=this.vec.dy;const e=this.vec.length/3;for(let a=0;a<=e&&(this.myX+=this.vec.dx/e,this.myY+=this.vec.dy/e,!this.intersects(t).theBool);a++);}hit(){}hitShot(t,e){this.vec.add(t)}die(){}hitEnemy(t){}}e.TestShot=l},5277:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TracerBoom=void 0;const i=a(6817),s=a(8524),n=a(5059),r=a(9988),o=a(4888),h=a(3955),l=a(7998),m=a(4686);class d extends m.TestShot{constructor(t,e,a){super({point:t,v:e,r:a}),this.burst=5,this.rad=10,this.shrapnel=!1,this.explosion=100,this.decay=.9,this.alive=!0,this.myFill=s.Color.YELLOW,this.path.myColor=s.Color.YELLOW,this.path.myO=.8,this.damMod=3,this.tracer=!0,this.slow=3,this.invuln=!0,this.ghostShot=!0,this.explosion=50,this.decay=.5,this.damage=20,this.accurate=!0}act(){super.act()}die(){this.explode()}explode(){if(this.alive){let t;o.World.addShot(new h.ExplosionA(this.myX,this.myY,this.explosion,this.decay,this.damage));for(let t=Math.ceil(Math.random()*(10*this.myR));t>0;t--)o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:s.Color.RED,spread:5}));if(this.shrapnel){for(let e=2*this.burst+Math.ceil(Math.random()*this.burst*4);e>=0;e--)t=r.Vector.fromDirectionLength(360*Math.random(),4),o.World.addShot(new l.Shrapnel(new n.Point(this.myX+t.dx,this.myY+t.dy),t));for(let e=0;e!==this.burst;e=Math.ceil(Math.random()*(this.burst+1)))t=r.Vector.fromDirectionLength(360*Math.random(),4),o.World.addShot(new l.Shrapnel(new n.Point(this.myX+t.dx,this.myY+t.dy),t,this.rad))}o.World.removeShot(this),this.alive=!1}}hitEnemy(t){this.vec.length>=3&&o.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.path.myColor}))}paint(t){super.paint(t),this.path.paint(t)}}e.TracerBoom=d},8053:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TracerRound=void 0;const i=a(6817),s=a(8524),n=a(4888),r=a(4686);class o extends r.TestShot{constructor(t){super(t),this.myFill=s.Color.YELLOW,this.path.myColor=s.Color.YELLOW,this.path.myO=.8,this.damMod=3,this.tracer=!0,this.invuln=!0}hitEnemy(t){this.vec.length>=3&&n.World.addParticle(new i.Particle({x:this.myX,y:this.myY,color:this.path.myColor,r:1}))}paint(t){super.paint(t),this.path.paint(t)}}e.TracerRound=o},1528:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.polygonCollision=e.getIntervalDistance=e.project=e.PolygonCollisionResult=e.Polygon=e.resolveCollision=e.raySegment=e.capsuleCollision=e.absoluteRectangleCollision=e.inRect=e.distance=e.dist2=e.segIntersectsPoint=e.segIntersects=void 0;const i=a(887);e.segIntersects=(t,e,a,i,s,n,r,o)=>{const h=a-t,l=i-e,m=r-s,d=o-n,c=h*d-l*m;if(0===c)return!1;{const a=s-t,i=n-e,r=(a*d-i*m)/c;if(r<0||r>1)return!1;{const t=(a*l-i*h)/c;return!(t<0||t>1)}}},e.segIntersectsPoint=(t,e,a,i,s,n,r,o,h)=>{const l=i-e,m=s-a,d=o-n,c=h-r,y=l*c-m*d;if(0===y)return!1;{const i=n-e,s=r-a,o=(i*c-s*d)/y;if(o<0||o>1)return!1;{const n=(i*m-s*l)/y;return!(n<0||n>1||(t[0]=e+o*l,t[1]=a+o*m,0))}}},e.dist2=(t,e,a,i)=>(t-a)*(t-a)+(e-i)*(e-i),e.distance=(t,a,i,s,n,r)=>{const o=e.dist2(i,s,n,r);if(0===o)return Math.sqrt(e.dist2(t,a,i,s));{const h=((t-i)*(n-i)+(a-s)*(r-s))/o;return h<0?Math.sqrt(e.dist2(t,a,i,s)):h>1?Math.sqrt(e.dist2(t,a,n,r)):Math.sqrt(e.dist2(t,a,i+h*(n-i),s+h*(r-s)))}},e.inRect=(t,e,a,i,s,n)=>t>=a&&t<a+s&&e>=i&&e<=i+n,e.absoluteRectangleCollision=(t,e,a,i,s,n,r,o)=>r>=t&&o>=e&&s<=a&&n<=i,e.capsuleCollision=(t,a,i,s,n,r,o,h,l,m)=>{if(e.absoluteRectangleCollision(Math.min(t,i)-n,Math.min(a,s)-n,Math.max(t,i)+n,Math.max(a,s)+n,Math.min(r,h)-m,Math.min(o,l)-m,Math.max(r,h)+m,Math.max(o,l)+m)){const d=n+m;if(e.segIntersects(t,a,i,s,r,o,h,l))return!0;if(e.distance(t,a,r,o,h,l)<=d)return!0;if(e.distance(i,s,r,o,h,l)<=d)return!0;if(e.distance(r,o,t,a,i,s)<=d)return!0;if(e.distance(h,l,t,a,i,s)<=d)return!0}return!1};const s=i.vec2.create(),n=i.vec2.create();e.raySegment=(t,e,a,r)=>{i.vec2.sub(s,t,a),i.vec2.sub(n,r,a);const o=i.vec2.dot(n,e);if(Math.abs(o)<1e-6)return-1;const h=(n[0]*s[1]-n[1]*s[0])/o,l=i.vec2.dot(s,e)/o;return h>=0&&l>=0&&l<=1?h:-1};const r=i.vec2.create(),o=i.vec2.create(),h=i.vec2.create(),l=i.vec2.create(),m=i.vec2.create();e.resolveCollision=(t,a,s,n,d,c,y,u)=>{let p=-1,f=0;i.vec2.set(r,-n[1],n[0]),i.vec2.set(l,d,c),i.vec2.set(m,y,u);for(let t=0;t<a.length;t+=2)i.vec2.set(o,a[t]+s[0],a[t+1]+s[1]),f=e.raySegment(o,r,l,m),f>p&&(p=f);i.vec2.set(r,n[1],-n[0]),i.vec2.set(o,d,c),i.vec2.set(h,y,u);for(let t=0;t<a.length;t+=2)i.vec2.set(l,a[t]+s[0],a[t+1]+s[1]),i.vec2.set(m,a[(t+2)%a.length]+s[0],a[(t+3)%a.length]+s[1]),f=e.raySegment(o,r,l,m),f>p&&(p=f),f=e.raySegment(h,r,l,m),f>p&&(p=f);return i.vec2.set(t,-n[0]*p,-n[1]*p),p},e.Polygon=class{constructor(t){this.center=i.vec2.create(),this.centerOffset=i.vec2.create(),this.highlight=0;let e=0,a=0,s=0,n=0;this.model=new Float64Array(t),this.vertices=new Float64Array(this.model),this.normals=new Float64Array(t.length),this.length=.5*t.length;for(let r=0;r<t.length;r+=2)c[0]=-t[r+1]+t[(r+3)%t.length],c[1]=t[r]-t[(r+2)%t.length],i.vec2.normalize(c,c),this.normals[r]=c[0],this.normals[r+1]=c[1],t[r]<e?e=t[r]:t[r]>a&&(a=t[r]),t[r+1]<s?s=t[r+1]:t[r+1]>n&&(n=t[r+1]);this.center[0]=.5*(a+e),this.center[1]=.5*(n+s)}update(t,e){for(let a=0;a<this.model.length;a+=2)this.vertices[a]=this.model[a]+t,this.vertices[a+1]=this.model[a+1]+e}static translate(t,e,a){if(t.length<e.length)throw Error("translate: out has insufficient length");for(let i=0;i<e.length;i+=2)t[i]=e[i]+a[0],t[i+1]=e[i+1]+a[1]}};class d{constructor(){this.willIntersect=!0,this.intersect=!0,this.responseVector=i.vec2.create(),this.intersectionTime=0,this.edge=i.vec2.create()}}e.PolygonCollisionResult=d;const c=i.vec2.create(),y=i.vec2.create();e.project=(t,e,a)=>{let s=i.vec2.dot(e,i.vec2.set(c,a[0],a[1])),n=s,r=s;for(let t=2;t<a.length;t+=2)c[0]=a[t],c[1]=a[t+1],s=i.vec2.dot(c,e),s<n?n=s:s>r&&(r=s);return i.vec2.set(t,n,r)},e.getIntervalDistance=(t,e,a,i)=>t<a?a-e:t-i;const u=i.vec2.create(),p=i.vec2.create();e.polygonCollision=(t,a,s)=>{const n=new d,r=t.normals.length,o=a.normals.length;let h=1/0,l=1/0;for(let m=0;m<r+o;m+=2){let o=0,d=0,f=0,g=0,P=0,M=0,v=0,w=1/0;if(m<r?(p[0]=t.normals[m],p[1]=t.normals[m+1]):(p[0]=a.normals[m-r],p[1]=a.normals[m-r+1]),[o,d]=e.project(c,p,t.vertices),[f,g]=e.project(y,p,a.vertices),P=e.getIntervalDistance(o,d,f,g),P>0?n.intersect=!1:w=0,v=i.vec2.dot(p,s),v<0?o+=v:d+=v,M=e.getIntervalDistance(o,d,f,g),M>0?n.willIntersect=!1:w=Math.abs((P-M)/v),!n.intersect&&!n.willIntersect)return n;M=Math.abs(M),w<h&&(h=w),M<l&&(l=M,i.vec2.copy(u,p))}return n.intersectionTime=h,n.willIntersect&&i.vec2.scale(n.responseVector,u,l),i.vec2.copy(n.edge,u),n}},8524:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPalette=e.Color=e.rgb2hsl=e.hsla2rgba=e.hsl2rgb=void 0;const i=a(887),s=a(6142),n=a(1955);e.hsl2rgb=(t,e,a,i)=>{const s=(1-Math.abs(2*i-1))*a,n=6*e,r=s*(1-Math.abs(n%2-1)),o=i-.5*s;let h=0,l=0,m=0;n>=0&&n<1?(h=s,l=r):n>=1&&n<2?(h=r,l=s):n>=2&&n<3?(l=s,m=r):n>=3&&n<4?(l=r,m=s):n>=4&&n<5?(h=r,m=s):(h=s,m=r),t[0]=h+o,t[1]=l+o,t[2]=m+o},e.hsla2rgba=(t,a,i,s,n)=>{e.hsl2rgb(t,a,i,s),t[3]=n},e.rgb2hsl=(t,e,a,i)=>{const s=e/255,n=a/255,r=i/255,o=Math.max(s,n,r),h=Math.min(s,n,r),l=.5*(o+h);let m=0,d=0;if(o===h)m=d=0;else{const t=o-h;switch(d=l>.5?t/(2-o-h):t/(o+h),o){case s:m=(n-r)/t+(n<r?6:0);break;case n:m=(r-s)/t+2;break;case r:m=(s-n)/t+4}m/=6}t[0]=m,t[1]=d,t[2]=l};class r{constructor(t){this.hsla=i.vec4.create(),this.rgba=i.vec4.create(),i.vec4.copy(this.hsla,t),this.update()}static fromRGBA(t,e,a,s=1){const n=new r(i.vec4.fromValues(0,0,0,0));return n.setRGBA(i.vec4.fromValues(t,e,a,s)),n}static fromHSLA(t,e=1,a=.5,s=1){return new r(i.vec4.fromValues(t,e,a,s))}static random(){return new r(i.vec4.fromValues(s.lqrandomSync(),.3*s.lqrandomSync()+.3,.4+.15*s.lqrandomSync(),1))}setHSLA(t){i.vec4.copy(this.hsla,t),this.update()}setRGBA(t){i.vec4.copy(this.rgba,t),e.rgb2hsl(this.hsla,t[0],t[1],t[2]),this.hsla[3]=this.rgba[3]}set(t){i.vec4.copy(this.hsla,t.hsla),i.vec4.copy(this.rgba,t.rgba)}setAlpha(t,e){i.vec4.copy(this.hsla,t.hsla),i.vec4.copy(this.rgba,t.rgba),this.hsla[3]=e,this.rgba[3]=e}h(t){this.hsla[0]=t,this.update()}s(t){this.hsla[0]=t,this.update()}l(t){this.hsla[0]=t,this.update()}a(t){this.hsla[3]=t,this.rgba[3]=t}update(){const[t,a,i,s]=this.hsla;e.hsl2rgb(this.rgba,t,a,i),this.rgba[3]=s}lighter(t,e){return i.vec4.copy(t,this.hsla),t[2]=s.addClamp(t[2],e),t}darker(t=.25){const e=i.vec4.clone(this.hsla);return e[2]=s.addClamp(e[2],-t),new r(e)}brighter(t=.25){const e=i.vec4.clone(this.hsla);return e[2]=s.addClamp(e[2],t),new r(e)}lighterRGBA(t,a){return i.vec4.copy(t,this.hsla),t[2]=s.addClamp(t[2],a),e.hsla2rgba(t,t[0],t[1],t[2],t[3]),t}shift(t){this.hsla[0]=s.addClamp(this.hsla[0],t),this.update()}saturate(t){this.hsla[1]=s.addClamp(this.hsla[1],t),this.update()}lighten(t){this.hsla[2]=s.addClamp(this.hsla[2],t),this.update()}clone(){return new r(this.hsla)}equals(t){return i.vec4.equals(this.hsla,t.hsla)}toCss(){return`rgba(${255*this.rgba[0]|0}, ${255*this.rgba[1]|0}, ${255*this.rgba[2]|0}, ${this.rgba[3]})`}toCssA(t){return`rgba(${255*this.rgba[0]|0}, ${255*this.rgba[1]|0}, ${255*this.rgba[2]|0}, ${this.rgba[3]*t})`}}e.Color=r,r.WHITE=new r(i.vec4.fromValues(0,0,1,1)),r.GRAY=new r(i.vec4.fromValues(0,0,.5,1)),r.DARK_GRAY=new r(i.vec4.fromValues(0,0,1,1)),r.BLACK=new r(i.vec4.fromValues(0,0,0,1)),r.RED=new r(i.vec4.fromValues(0,1,.5,1)),r.GREEN=new r(i.vec4.fromValues(1/3,1,.5,1)),r.BLUE=new r(i.vec4.fromValues(2/3,1,.5,1)),r.PINK=new r(i.vec4.fromValues(5.5/6,.9,.5,1)),r.YELLOW=new r(i.vec4.fromValues(5/36,.9,.5,1)),r.ORANGE=new r(i.vec4.fromValues(.5/6,1,.5,1)),r.MAGENTA=new r(i.vec4.fromValues(5/6,1,.5,1)),r.CYAN=new r(i.vec4.fromValues(.5,1,.5,1));const o=n.MathScript.parse("\nlighter() => {\n  s += 0~0.1;\n  l += 0.3~0.4\n}\ndarker() => {\n  s -= 0~0.1;\n  l -= 0.1~0.15\n}\n");class h{constructor(t){this.seed=null,this.colors=[],this.lighter=[],this.darker=[],this.base=t}static random(t=null){const e=s.generateSeed(),a=new h(null!==t?t:r.random());return a.seed=e,a}static fromColorSeed(t,e,a){const i=new h(t);return i.seed=e,i.randomize(a),i}randomize(t){const e=i.vec4.clone(this.base.hsla);e[3]=1,this.colors.length=0,s.setSeed(this.seed);const a=new Map,h=new Map;var l;o.run([],{h:e[0],s:e[1],l:e[2]},a,h,s.lqrandomSeed),l=t,Object.prototype.hasOwnProperty.call(l,"init")&&a.set("init",n.MathScript.parse(t.init).run([],{h:e[0],s:e[1],l:e[2]},a,h,s.lqrandomSeed));for(let o=0;o<t.rules.length;o++){const l=n.MathScript.parse(t.rules[o]);i.vec4.copy(e,this.base.hsla),l.run([],{h:e[0],s:e[1],l:e[2]},a,h,s.lqrandomSeed),e[0]=a.get("h"),e[0]=e[0]%1,e[0]<0&&(e[0]=e[0]+1),e[1]=Math.max(Math.min(a.get("s"),1),0),e[2]=Math.max(Math.min(a.get("l"),1),0),this.colors.push(new r(e))}this.shade(.15,.15)}shade(t,e){const a=i.vec4.create();this.darker.length=0,this.lighter.length=0;for(let t=0;t<this.colors.length;t++)i.vec4.copy(a,this.colors[t].hsla),a[2]=.5*a[2],this.darker.push(new r(a)),i.vec4.copy(a,this.colors[t].hsla),a[2]=.5*a[2]+.5,this.lighter.push(new r(a))}}e.ColorPalette=h,h.gray=r.fromHSLA(0,0,.5,1)},7458:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataBox=void 0,e.DataBox=class{constructor(t,e){this.theBool=t,this.theDouble=e}}},4520:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Drawer=void 0;const i=a(8524);e.Drawer={cx:0,cy:0,setCoords(t,e){this.cx=t+.5,this.cy=e+.5},drawCircle(t,e,a,i){const s=e+.5-i/2,n=a+.5-i/2;t.drawOval(s+this.cx,n+this.cy,i)},fillCircle(t,e,a,i){const s=e+.5+i/2,n=a+.5+i/2;t.fillOval(s+this.cx,n+this.cy,i)},drawLine(t,e,a,i,s){const n=e+.5,r=a+.5,o=i+.5,h=s+.5;t.drawLine(n+this.cx,r+this.cy,o+this.cx,h+this.cy)},setColor(t,e){"green"===e?t.setColor(i.Color.GREEN):"red"===e&&t.setColor(i.Color.RED)}}},8321:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createSaveFile=e.setContents=e.getContents=e.filterItems=e.removeItems=e.ptSegDist=e.ptSegDistSq=e.angleDirection=e.angleDifference=e.posOnly=e.toRadians=e.toDegrees=void 0,e.toDegrees=t=>t*(180/Math.PI),e.toRadians=t=>t*(Math.PI/180),e.posOnly=t=>t>0?t:0,e.angleDifference=(t,e)=>{let a=Math.abs(t-e);return a=Math.min(a,Math.abs(t+360-e)),a=Math.min(a,Math.abs(t-360-e)),a},e.angleDirection=(t,e)=>{let a=Math.abs(e-t);return a=Math.min(a,Math.abs(e+360-t)),a=Math.min(a,Math.abs(e-360-t)),a===Math.abs(e-t)?e-t:a===Math.abs(e+360-t)?e+360-t:a},e.ptSegDistSq=(t,e,a,i,s,n)=>{const r=(t-a)*(t-a)+(e-i)*(e-i);let o=0,h=0;if(0===r)o=t,h=i;else{const l=((s-t)*(a-t)+(n-e)*(i-e))/r;l<0?(o=t,h=e):l>1?(o=a,h=i):(o=t+l*(a-t),h=e+l*(i-e))}return(o-s)*(o-s)+(h-n)*(h-n)},e.ptSegDist=(t,a,i,s,n,r)=>Math.sqrt(e.ptSegDistSq(t,a,i,s,n,r)),e.removeItems=(t,e)=>{let a=0;const i=t.length;for(let s=0;s<i;s++){const i=e.indexOf(t[s]);-1!==i?(a++,e.splice(i,1)):a>0&&(t[s-a]=t[s])}t.length-=a},e.filterItems=(t,e)=>{let a=0;const i=t.length;for(let s=0;s<i;s++)e(t[s])?a>0&&(t[s-a]=t[s]):a++;t.length-=a},e.getContents=t=>(localStorage.getItem(t)||"").split("\n"),e.setContents=(t,e)=>{localStorage.setItem(t,e.join("\n"))},e.createSaveFile=t=>{localStorage.setItem(t,"")}},667:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Graphics=void 0;const i=a(8524);e.Graphics=class{constructor(){this.color=null,this.lineHeight=12,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!1})}init(){this.color=i.Color.WHITE.clone(),this.canvas.width=800,this.canvas.height=600,this.canvas.style.width="800px",this.canvas.style.height="600px",this.canvas.style.cursor="none",document.body.appendChild(this.canvas)}measureText(t){return this.ctx.measureText(t).width}setAlpha(t){this.ctx.strokeStyle=this.color.toCssA(t),this.ctx.fillStyle=this.ctx.strokeStyle}setColor(t){this.color=t,this.ctx.strokeStyle=t.toCss(),this.ctx.fillStyle=this.ctx.strokeStyle}setColorA(t,e){this.color=t,this.ctx.strokeStyle=t.toCssA(e*t.rgba[3]),this.ctx.fillStyle=this.ctx.strokeStyle}drawString(t,e,a,i){this.ctx.fillText(t,e,a,i)}pathCircle(t,e,a,i=Math.min(33,3+(2*a>>1))){const s=this.ctx,n=1/i*Math.PI*2;let r=-Math.PI,o=0,h=0;o=t+Math.cos(r)*a,h=e+Math.sin(r)*a,s.beginPath(),s.moveTo(o,h);for(let l=0;l<i;l++)r+=n,o=t+Math.cos(r)*a,h=e+Math.sin(r)*a,s.lineTo(o,h);s.closePath()}drawOval(t,e,a){const i=this.ctx;this.pathCircle(t+a/2,e+a/2,a/2),i.stroke()}fillOval(t,e,a){const i=this.ctx;this.pathCircle(t+a/2,e+a/2,a/2),i.fill()}drawRect(t,e,a,i){this.ctx.strokeRect(t,e,a,i)}fillRect(t,e,a,i){this.ctx.fillRect(t,e,a,i)}draw3DRect(t,e,a,i){this.ctx.strokeRect(t,e,a,i)}drawLine(t,e,a,i){const s=this.ctx;s.beginPath(),s.moveTo(t,e),s.lineTo(a,i),s.stroke()}}},6142:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bround=e.btof=e.ftob=e.spherePoint=e.spherePointTrig=e.djb2=e.lqrandomSync=e.lqrandom=e.lqrandomSeed=e.setSeed=e.xorshift32=e.xorshift=e.u32toF=e.copySeed=e.lqrandomsync=e.lqrandomstore=e.generateSeed=e.quatFromRadians=e.surfaceNormal=e.dot=e.preciseAngle=e.computeRadians=e.computeAngle=e.angleY=e.angleX=e.radian=e.rad=e.degree=e.addMinMax=e.addClamp=e.addWrap=void 0;const i=a(887);e.addWrap=(t,e)=>t+e>1?t+e-1:t+e<0?t+e+1:t+e,e.addClamp=(t,e)=>t+e>1?1:t+e<0?0:t+e,e.addMinMax=(t,e,a,i)=>t+e>i?i:t+e<a?a:t+e;const s=Math.PI;e.degree=s/180,e.rad=180/s,e.radian=t=>t*e.rad,e.angleX=t=>Math.cos(t*e.degree),e.angleY=t=>Math.sin(t*e.degree),e.computeAngle=(t,a)=>(s+Math.atan2(a,t))*e.rad,e.computeRadians=(t,e)=>s+Math.atan2(e,t);const n=[0,0,0];e.preciseAngle=(t,e)=>{const a=s+Math.atan2(e,t);return n[0]=Math.cos(a),n[1]=Math.sin(a),n[2]=a,n},e.dot=(t,e,a,i)=>t*a+e*i;const r=i.vec3.create(),o=i.vec3.create();e.surfaceNormal=(t,e,a,s)=>{const n=i.vec3.subtract(r,a,e),h=i.vec3.subtract(o,s,e);return t[0]=n[1]*h[2]-n[2]*h[1],t[1]=n[2]*h[0]-n[0]*h[2],t[2]=n[0]*h[1]-n[1]*h[0],t},e.quatFromRadians=(t,e,a)=>{const n=i.quat.create();return i.quat.rotateX(n,n,t*s),i.quat.rotateY(n,n,e*s),i.quat.rotateZ(n,n,a*s),n},e.generateSeed=(t=null,a=(()=>e.xorshift(e.lqrandomsync)))=>{null===t&&(t=new Uint32Array(4));for(let e=0;e<128;e++){const i=e/32>>>0,s=e%32>>>0;t[i]=(t[i]|(a()<.5?1:0)<<s)>>>0}return t},e.lqrandomstore=new Uint32Array(4),e.lqrandomsync=new Uint32Array(4),e.generateSeed(e.lqrandomstore,Math.random),e.generateSeed(e.lqrandomsync,Math.random);const h=new Uint32Array(4);e.copySeed=(t,e)=>{t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]};const l=new DataView(new ArrayBuffer(4));e.u32toF=t=>(l.setUint32(0,t>>>9|1065353216),l.getFloat32(0)-1),e.xorshift=t=>{let e=t[3]>>>0;return e=(e^e<<11)>>>0,e=(e^e>>>8)>>>0,t[3]=t[2]>>>0,t[2]=t[1]>>>0,t[1]=t[0]>>>0,e=(e^t[0])>>>0,e=(e^t[0]>>>19)>>>0,t[0]=e>>>0,e>>>0},e.xorshift32=(t,e=1)=>{for(let a=0;a<e;a++)t=((t=((t=(t^t<<13)>>>0)^t>>17)>>>0)^t<<5)>>>0;return t>>>0},e.setSeed=t=>e.copySeed(h,t),e.lqrandomSeed=()=>e.xorshift(h)/4294967295,e.lqrandom=()=>e.xorshift(e.lqrandomstore)/4294967295,e.lqrandomSync=()=>e.xorshift(e.lqrandomsync)/4294967295,e.djb2=t=>{let e=5381;for(let a=0;a<t.length;a++)e=(e<<5)+e+(255&t.charCodeAt(a))>>>0;return e},e.spherePointTrig=t=>{const a=e.lqrandom(),i=2*e.lqrandom()*Math.PI,s=Math.acos(2*a-1),n=Math.cbrt(e.lqrandom()),r=Math.sin(i),o=Math.cos(i),h=Math.sin(s),l=Math.cos(s);t[0]=n*h*o,t[1]=n*h*r,t[2]=n*l},e.spherePoint=t=>{do{t[0]=2*e.lqrandom()-1,t[1]=2*e.lqrandom()-1,t[2]=2*e.lqrandom()-1}while(t[0]**2+t[1]**2+t[2]**2>1);return t},e.ftob=t=>127*t|0,e.btof=t=>t/127,e.bround=t=>e.btof(e.ftob(t))},1955:(t,e)=>{var a;Object.defineProperty(e,"__esModule",{value:!0}),e.runMath=e.MathScript=void 0,function(t){t[t.null=0]="null",t[t.variable=1]="variable",t[t.pointer=2]="pointer",t[t.literal=3]="literal",t[t.percent=4]="percent",t[t.literalArray=5]="literalArray",t[t.negate=6]="negate",t[t.not=7]="not",t[t.plusminus=8]="plusminus",t[t.startGroup=9]="startGroup",t[t.endGroup=10]="endGroup",t[t.functionCall=11]="functionCall",t[t.tailCall=12]="tailCall",t[t.aFunction=13]="aFunction",t[t.function=14]="function",t[t.aLambda=15]="aLambda",t[t.lambda=16]="lambda",t[t.add=17]="add",t[t.sub=18]="sub",t[t.mul=19]="mul",t[t.div=20]="div",t[t.mod=21]="mod",t[t.pow=22]="pow",t[t.range=23]="range",t[t.gt=24]="gt",t[t.lt=25]="lt",t[t.gteq=26]="gteq",t[t.lteq=27]="lteq",t[t.eq=28]="eq",t[t.neq=29]="neq",t[t.or=30]="or",t[t.and=31]="and",t[t.xor=32]="xor",t[t.ternaryTrue=33]="ternaryTrue",t[t.ternaryFalse=34]="ternaryFalse",t[t.blockStart=35]="blockStart",t[t.blockEnd=36]="blockEnd",t[t.set=37]="set",t[t.addSet=38]="addSet",t[t.subSet=39]="subSet",t[t.mulSet=40]="mulSet",t[t.divSet=41]="divSet",t[t.modSet=42]="modSet",t[t.powSet=43]="powSet",t[t.increment=44]="increment",t[t.decrement=45]="decrement",t[t.statement=46]="statement",t[t.separator=47]="separator",t[t.beep=48]="beep"}(a||(a={}));const i=[{regex:/^@[^@]*@/,kind:48},{regex:/^-/,kind:6},{regex:/^\+-/,kind:8},{regex:/^!/,kind:7},{regex:/^\(\)=>\{[^}]*\}/,kind:13},{regex:/^\(\)=>[^;]*;?/,kind:15},{regex:/^[a-zA-Z_][\w.]*\(\)=>\{[^}]*\}/,kind:14},{regex:/^[a-zA-Z_][\w.]*\(\)=>[^;]*;?/,kind:16},{regex:/^([a-zA-Z_][\w.]*)?\(\)/,kind:11},{regex:/^>([a-zA-Z_][\w.]*)?\(\)/,kind:12},{regex:/^[a-zA-Z_][\w.]*/,kind:1},{regex:/^-?[0-9.]+(\|-?[0-9.]+)+/,kind:5},{regex:/^(-?[0-9.]+%(?!%)|-?[0-9.]+%(?=%%))/,kind:4},{regex:/^-?[0-9.]+/,kind:3},{regex:/^;/,kind:46},{regex:/^\(/,kind:9},{regex:/^&/,kind:2}],s=[{regex:/^@[^@]*@/,kind:48},{regex:/^\+=/,kind:38},{regex:/^-=/,kind:39},{regex:/^\*\*=/,kind:43},{regex:/^\*=/,kind:40},{regex:/^\/=/,kind:41},{regex:/^%%=/,kind:42},{regex:/^\+\+/,kind:44},{regex:/^--/,kind:45},{regex:/^\+/,kind:17},{regex:/^-/,kind:18},{regex:/^\*\*/,kind:22},{regex:/^\*/,kind:19},{regex:/^\//,kind:20},{regex:/^%%/,kind:21},{regex:/^~/,kind:23},{regex:/^>=/,kind:26},{regex:/^<=/,kind:27},{regex:/^!=/,kind:29},{regex:/^==/,kind:28},{regex:/^</,kind:25},{regex:/^>/,kind:24},{regex:/^\|\|/,kind:30},{regex:/^&&/,kind:31},{regex:/^\^/,kind:32},{regex:/^=/,kind:37},{regex:/^\?/,kind:33},{regex:/^:/,kind:34},{regex:/^{/,kind:35},{regex:/^}/,kind:36},{regex:/^;/,kind:46},{regex:/^,/,kind:47},{regex:/^\)/,kind:10}],n=new Map;for(const t of[23])n.set(t,5);for(const t of[22])n.set(t,4);for(const t of[19,20,21])n.set(t,3);for(const t of[17,18])n.set(t,2);for(const t of[24,25,26,27,28,29])n.set(t,1);class r{constructor(t,e=0){this.value=0,this.lastValue=0,this.values=[],this.operator=17,this.ops=[],this.setOp=17,this.lastVar="",this.setVar="",this.sign=1,this.not=!1,this.ptr=!1,this.i=0,this.tokens=t,this.stack=e<=0?null:new Float64Array(e)}}const o=(t,e)=>{if(""===t.setVar)return;const a=e.has(t.setVar)?e.get(t.setVar):0;switch(t.setOp){case 37:e.set(t.setVar,t.value);break;case 38:e.set(t.setVar,a+t.value);break;case 39:e.set(t.setVar,a-t.value);break;case 40:e.set(t.setVar,a*t.value);break;case 41:e.set(t.setVar,a/t.value);break;case 42:e.set(t.setVar,a%t.value);break;case 43:e.set(t.setVar,a**t.value)}t.value=e.get(t.setVar),t.setVar=""},h=new Set([14,16,46,47,2,6,8,7,9]),l=new Map,m=new Map;class d{constructor(t,e,a,i){this.body=t,this.tokens=e,this.params=a,this.stackSize=i,this.lastRunTime=0,this.vars=null,this.functions=null,l.has(t)||l.set(t,{stackSize:i,tokens:e})}static parse(t){const e=t.replace(/#[^\n]*/g,"").replace(/\s/g,"");let a=e;const r=[];let o=!1;const m=[0];let c=0,y=0,u=[];const p=[];let f=null;if(l.has(e)){const t=l.get(e);return new d(e,t.tokens,u,t.stackSize)}if(0===a.length)return new d(e,r,u,y);for(f=/^\[((,?[a-zA-Z_][\w]*)*),?(\.\.\.)?\]/.exec(a),null!==f?(u=f[1].split(","),y="..."===f[3]?-1:u.length,a=a.substr(f[0].length)):(f=/^\[([0-9]+)\]/.exec(a),null!==f&&(y=parseInt(f[1],10),a=a.substr(f[0].length)));;){let t=0;const l=o?s:i;f=null;for(let e=0;e<l.length;e++){const i=l[e];if(f=i.regex.exec(a),null!==f){t=i.kind;break}}if(null===f)return console.error("Unexpected",o?"operator:":"operand:",a),new d(e,r,u,y);if(a=a.substr(f[0].length),48!==t){if(u.length>0&&1===t){const e=u.indexOf(f[0]);-1!==e&&(r.push({kind:2,value:NaN,string:"&"}),t=3,f[0]=(e+1).toFixed(0))}if(o&&10!==t&&46!==t&&47!==t&&44!==t&&45!==t){const e=n.has(t)?n.get(t):0;for(;c<e;)c++,r.splice(m[m.length-1],0,{kind:9,value:NaN,string:"("});for(;c>e;)c--,r.splice(r.length,0,{kind:10,value:NaN,string:")"});m[m.length-1]=r.length+1}if(10===t){for(m.pop();c>0;)c--,r.splice(r.length,0,{kind:10,value:NaN,string:")"});c=p.pop()}else if(9===t)m.push(r.length+1),p.push(c),c=0;else if(46===t||47===t){for(;c>0;)c--,r.splice(r.length,0,{kind:10,value:NaN,string:")"});m[0]=r.length+1}if(o=10===t||44===t||45===t||!h.has(t)&&!o,r.push({kind:t,value:parseFloat(f[0]),string:f[0]}),0===a.length){for(;c>0;)c--,r.splice(r.length,0,{kind:10,value:NaN,string:")"});return new d(e,r,u,y)}}else if(r.push({kind:48,value:NaN,string:f[0].substring(1,f[0].length-1)}),0===a.length){for(;c>0;)c--,r.splice(r.length,0,{kind:10,value:NaN,string:")"});return new d(e,r,u,y)}}}run(t=[],e=null,a=null,i=null,s=Math.random,n=1e3,h=performance.now()){let l=[],c="",y="",u=!1;const p=[];let f=null;const g=-1===this.stackSize?t.length+1:this.stackSize;let P=new r(this.tokens,g);g>0&&(P.stack[0]=g-1);for(let e=0;e<g&&e<t.length;e++)P.stack[e+1]=+t[e];if(p.push(P),null===a&&(null===this.vars&&(this.vars=new Map),a=this.vars),null===i&&(null===this.functions&&(this.functions=new Map(m)),i=this.functions),null!==e)for(const t of Object.getOwnPropertyNames(e))a.set(t,+e[t]);t:for(;p.length>0;){for(P=p.pop();P.i<P.tokens.length;P.i++){const t=P.tokens[P.i];let e=null;if(performance.now()-h>n)return console.error("MathScript timed out"),this.lastRunTime=performance.now()-h,0;switch(t.kind){case 48:if(t.string.startsWith("&")&&t.string.length>1)if(/[0-9]/.test(t.string[1]))console.log(`token ${P.i}:`,"&"+t.string.substring(1),P.stack[parseInt(t.string.substring(1),10)]);else{const e=a.get(t.string.substring(1));console.log(`token ${P.i}:`,"&"+e,P.stack[e])}else t.string.startsWith("=")?console.log(`token ${P.i}:`,t.string.substring(1),a.get(t.string.substring(1))):console.log(`token ${P.i}:`,t.string);continue;case 6:P.sign=-1;break;case 2:P.ptr=!0;break;case 8:P.sign=s()<.5?1:-1;break;case 7:P.not=!0;break;case 9:P.values.push(P.value),P.lastValue=0,P.value=0,P.ops.push(P.operator),P.operator=17;break;case 10:e=P.value,P.values.length>0?(P.value=P.values.pop(),P.lastValue=P.value,P.operator=P.ops.pop()):(P.value=0,P.lastValue=0,P.operator=17);break;case 1:e=a.has(t.string)?a.get(t.string):0,P.lastVar=t.string;break;case 4:e=a.has("value")?a.get("value")*(.01*t.value):0;break;case 3:e=t.value;break;case 5:l=t.string.split("|"),e=parseFloat(l[s()*l.length|0]);break;case 14:case 16:case 13:case 15:if(u=">"===t.string[0],null!==f){u||(e=f),f=null;break}if(c=t.string.substring(u?1:0,t.string.indexOf("(")),y=14===t.kind||13===t.kind?t.string.substring(t.string.indexOf("{")+1,t.string.length-1):t.string.substring(t.string.indexOf(">")+1,t.string.endsWith(";")?t.string.length-1:t.string.length),""!==c){i.set(c,d.parse(y));break}{const t=d.parse(y),e=new r(t.tokens,0);e.stack=P.stack,u||p.push(P),p.push(e);continue t}case 11:case 12:if(u=">"===t.string[0],null!==f){u||(e=f),f=null;break}if(c=t.string.substring(u?1:0,t.string.indexOf("(")),i.has(c)){const t=i.get(c);u||p.push(P),p.push(new r(t.tokens,-1===t.stackSize?0:t.stackSize));continue t}if(""===c){const t=new r(P.tokens,0);t.stack=P.stack,u||p.push(P),p.push(t);continue t}e=0;break;case 37:case 38:case 39:case 40:case 41:case 42:case 43:P.operator=17,P.setOp=t.kind,P.setVar=P.lastVar,P.value=P.lastValue;continue;case 44:a.set(P.lastVar,a.has(P.lastVar)?a.get(P.lastVar)+1:1),e=a.get(P.lastVar),P.value=P.lastValue;break;case 45:a.set(P.lastVar,a.has(P.lastVar)?a.get(P.lastVar)-1:-1),e=a.get(P.lastVar),P.value=P.lastValue;break;case 46:case 47:o(P,a),P.lastValue=0,P.value=0;break;case 33:if(P.operator=17,0===P.value){let t=0;for(;P.i<P.tokens.length;P.i++){const e=P.tokens[P.i].kind;if(34===e)break;if(46===e){P.i--;break}if(47===e){P.i--;break}if(9===e&&t++,10===e&&(t--,t<0)){P.i--;break}}continue}P.lastValue=0,P.value=0;break;case 34:{let t=0;for(;P.i<P.tokens.length;P.i++){const e=P.tokens[P.i].kind;if(46===e){P.i--;break}if(47===e){P.i--;break}if(9===e&&t++,10===e&&(t--,t<0)){P.i--;break}}continue}default:P.operator=t.kind}if(null!==e)switch(e*=P.sign,P.sign=1,P.not&&(e=0===e?1:0,P.not=!1),P.ptr&&(e=null===P.stack?0:e<P.stack.length&&e>=0?P.stack[e>>>0]:0,P.ptr=!1),P.lastValue=P.value,P.operator){case 17:P.value=P.value+e;break;case 18:P.value=P.value-e;break;case 19:P.value=P.value*e;break;case 20:P.value=P.value/e;break;case 21:P.value=P.value%e;break;case 22:P.value=P.value**e;break;case 23:P.value=P.value+s()*(e-P.value);break;case 24:P.value=P.value>e?1:0;break;case 25:P.value=P.value<e?1:0;break;case 26:P.value=P.value>=e?1:0;break;case 27:P.value=P.value<=e?1:0;break;case 28:P.value=P.value===e?1:0;break;case 29:P.value=P.value!==e?1:0;break;case 30:P.value=0!==P.value||0!==e?1:0;break;case 31:P.value=0!==P.value&&0!==e?1:0;break;case 32:P.value=0!==P.value!=(0!==e)?1:0}}o(P,a),f=P.value}return this.lastRunTime=performance.now()-h,f}}e.MathScript=d,e.runMath=(t,...e)=>d.parse(t).run(e)},5059:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;class a{constructor(t=0,e=0){this.myX=t,this.myY=e}static FromPoint(t){return new a(t.myX,t.myY)}equalsPoint(t){return t.myX===this.myX&&t.myY===this.myY}equals(t,e){return t===this.myX&&e===this.myY}toString(){return this.myX+" "+this.myY}toArray(){return[this.myX,this.myY]}distancePoint(t){return Math.sqrt(Math.pow(this.myX-t.myX,2)+Math.pow(this.myY-t.myY,2))}distanceCircle(t){return Math.sqrt(Math.pow(this.myX-t.myX,2)+Math.pow(this.myY-t.myY,2))-t.myR}copy(){return new a(this.myX,this.myY)}}e.Point=a},9667:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PopBox=void 0;const i=a(6817),s=a(7620),n=a(4888),r=a(8524),o=a(5059),h=a(9988);e.PopBox=class{constructor(){this.open=!1,this.priority=0,this.contents=[""],this.location=new o.Point(0,0),this.width=0,this.height=0,this.lineHeight=0,this.rebindfrom=0,this.pausedFrom=!1}clicked(t){for(const e of n.World.weapons)e.containsPoint(t)&&(this.location=t.copy(),this.contents=[e.name()],this.open=!0,this.priority=0,this.width=0,this.height=0,this.lineHeight=0)}toParticles(){const t=this.location.myX-(this.width+4)/2,e=this.location.myY-(this.height+4)/2;for(let a=t;a<t+(this.width+4);a++){const t=h.Vector.fromPoints(this.location,new o.Point(a,e));t.scale(.1);const s=new i.Particle({x:a,y:e,color:r.Color.WHITE,start:t});s.bounceEnemy=!1,n.World.addParticle(s)}for(let a=t;a<t+(this.width+4);a++){const t=h.Vector.fromPoints(this.location,new o.Point(a,e+this.height));t.scale(.1);const s=new i.Particle({x:a,y:e+(this.height+4),color:r.Color.WHITE,start:t});s.bounceEnemy=!1,n.World.addParticle(s)}for(let a=e;a<e+(this.height+4);a++){const e=h.Vector.fromPoints(this.location,new o.Point(t,a));e.scale(.1);const s=new i.Particle({x:t,y:a,color:r.Color.WHITE,start:e});s.bounceEnemy=!1,n.World.addParticle(s)}for(let a=e;a<e+(this.height+4);a++){const e=h.Vector.fromPoints(this.location,new o.Point(t+(this.width+4),a));e.scale(.1);const s=new i.Particle({x:t+(this.width+4),y:a,color:r.Color.WHITE,start:e});s.bounceEnemy=!1,n.World.addParticle(s)}}keyPress(t){this.open&&(3===this.priority&&("Enter"===t&&this.close(5),"Escape"===t&&this.close(5),"Backspace"===t&&this.close(5),"Space"===t&&this.close(5)),4===this.priority&&("Backspace"===t?this.contents[0].length>0&&(this.contents[0]=this.contents[0].substring(0,this.contents[0].length-1)):"Enter"===t&&(s.GamePanel.cheat(this.contents[0]),this.contents[0]="",this.close(5))),5===this.priority&&(s.GamePanel.cheat("rebind "+t+" "+this.rebindfrom),this.priority=3,this.contents[0]="rebind "+t+" "+this.rebindfrom))}enter(t){this.open&&"`"!==t&&4===this.priority&&(this.contents[0]=this.contents[0]+t)}upPop(t,e,a){this.open&&this.close(5),this.location=t,this.contents=e,this.open=!0,this.priority=a,this.width=0,this.height=0,this.lineHeight=0,this.priority>=3&&(s.GamePanel.myFrame.paused?this.pausedFrom=!1:(this.pausedFrom=!0,s.GamePanel.myFrame.paused=!0))}close(t){const e=this.open;t>=this.priority&&(this.open=!1),t>=3&&s.GamePanel.myFrame.paused&&(this.pausedFrom=!0)&&(this.pausedFrom=!1,s.GamePanel.myFrame.paused=!1),e&&!this.open&&this.priority>1&&this.toParticles()}paint(t){if(4!==this.priority){if(0===this.width){for(let e=0;e<this.contents.length;e++)this.width=Math.max(this.width,t.measureText(this.contents[e]));this.lineHeight=t.lineHeight,this.height=this.lineHeight*this.contents.length}}else this.width=t.measureText(this.contents[0]),this.lineHeight=t.lineHeight,this.height=t.lineHeight*this.contents.length;const e=Math.round(this.location.myX)-this.width/2;t.setColor(r.Color.WHITE),t.fillRect(e,Math.round(this.location.myY)-15,this.width+10,this.height+5),t.setColor(r.Color.DARK_GRAY),t.drawRect(e,Math.round(this.location.myY)-15,this.width+10,this.height+5),t.setColor(r.Color.BLACK);for(let a=0;a<this.contents.length;a++)t.drawString(this.contents[a],Math.round(e+5),Math.round(this.location.myY+(a-.25)*this.lineHeight))}}},9988:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;const i=a(5362),s=a(8321);class n{constructor(){this.dx=0,this.dy=0,this.direction=0,this.length=0}static fromDirectionLength(t,e){const a=new n;return a.setDirectionLength(t,e),a}static fromXyxy(t,e,a,i){const s=new n;return s.setDist(a-t,i-e),s}static fromXyxyLength(t,e,a,i,s){const r=new n;return r.setDist(a-t,i-e),r.setLength(s),r}static fromPoints(t,e){const a=new n;return a.setDist(e.myX-t.myX,e.myY-t.myY),a}static fromDist(t,e){const a=new n;return a.setDist(t,e),a}setDist(t,e){this.dx=t,this.dy=e,this.updatePolar()}setDirectionLength(t,e){this.length=e,this.direction=t,this.updateCartesian()}setLength(t){this.length=t,this.updateCartesian()}setDirection(t){this.direction=t,this.updateCartesian()}add(t){this.dx+=t.dx,this.dy+=t.dy,this.updatePolar()}subtract(t){this.dx-=t.dx,this.dy-=t.dy,this.updatePolar()}reduceLength(t){this.length=this.length-t,this.updateCartesian()}scale(t){this.length=this.length*t,this.updateCartesian()}setNeutral(){this.dx=0,this.dy=0,this.length=0,this.direction=0}updatePolar(){this.direction=s.toDegrees(Math.atan2(this.dy,this.dx)),this.length=Math.sqrt(this.dx*this.dx+this.dy*this.dy)}updateCartesian(){this.dx=this.length*Math.cos(s.toRadians(this.direction)),this.dy=this.length*Math.sin(s.toRadians(this.direction))}getX(){return this.dx}getY(){return this.dy}getDirection(){return this.direction}getLength(){return this.length}difference(t){return Math.max(0,s.angleDifference(this.direction,t.direction))}angleDifference(t){return Math.max(0,s.angleDifference(this.direction,t))}copy(){const t=new n;return t.dx=this.dx,t.dy=this.dy,t.direction=this.direction,t.length=this.length,t}toString(){return"["+this.direction+" "+this.length+" / "+this.dx+", "+this.dy+"]"}toLine(t,e){return new i.Line(t,e,t+this.dx,e+this.dy)}toLineColor(t,e,a,s=1){const n=new i.Line(t,e,t+this.dx,e+this.dy);return n.myColor=a,n.myO=s,n}}e.Vector=n},4694:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Weap=void 0;const i=a(8524),s=a(4520);e.Weap=class{constructor(){this.cooldown=0,this.primary=!0,this.firing=!1}created(){}myName(){return"undefined"}name(){return"undefined"}myDesc(){return"undefined"}desc(){return"undefined"}fire(){}finisher(){}key(t){}hasFinish(){return!1}twoStep(){return!1}semiAuto(){return!1}hasSecondary(){return!1}secondary(){}tick(){this.cooldown<1&&this.firing&&(this.primary?this.fire():this.secondary()),this.cooldown>0&&this.cooldown--,this.refresh()}refresh(){}startFiring(){this.semiAuto()?this.primary?this.fire():this.secondary():this.firing=!0}stopFiring(){this.firing=!1}reload(){}paint(t,e,a){}paintDot(t,e,a){}paintSecondary(t,e,a){t.setColor(i.Color.MAGENTA),t.fillOval(Math.round(e)-4,Math.round(a)-4,9)}paintOutline(t,e,a){t.draw3DRect(e,a,40,40)}paintBar(t,e,a){"undefined"===this.name()&&t.draw3DRect(e,a,40,40),s.Drawer.setCoords(e,a)}paintAmmoBar(t,e,a,i){t.drawRect(e+1,a+1+38-(38*i+.5),38,38*i+.5)}paintAmmoBar2(t,e,a,i,s){t.drawRect(e+1,a+1+38-(38*i+.5),18,38*i+.5),t.drawRect(e+21,a+1+38-(38*s+.5),18,38*s+.5)}paintOverheat(t,e,a,s){t.setColor(i.Color.fromRGBA(Math.min(s+.5,1),0,0));for(let i=1;i<5;i++)t.draw3DRect(e+i,a+i,40-2*i,40-2*i)}paintLine(t,e,a,s,n){t.setColorA(i.Color.WHITE,.3),t.drawLine(Math.round(e-25),Math.round(a),Math.round(e+25),Math.round(a));const r=Math.min(s/n*50,50);t.setColor(i.Color.RED),t.drawLine(Math.round(e-r/2),Math.round(a),Math.round(e+r/2),Math.round(a))}paintInvertLine(t,e,a,s,n){t.setColor(i.Color.RED),t.drawLine(Math.round(e-25),Math.round(a),Math.round(e+25),Math.round(a));const r=Math.min(s/n*50,50);t.setColor(i.Color.DARK_GRAY),t.drawLine(Math.round(e-r/2),Math.round(a),Math.round(e+r/2),Math.round(a))}icon(t,e,a){t.setColor(i.Color.BLACK),t.drawRect(e,a,40,40)}die(){}}},8169:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AutoGun=void 0;const i=a(7620),s=a(1899),n=a(8524),r=a(4520),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(t=400){super(),this.ammunition=400,this.atarget=!0,this.ammunition=t}name(){return"AutoGun"}fire(){this.cooldown<=0&&this.shoot(i.GamePanel.mousePos)}hasSecondary(){return!0}tick(){if(super.tick(),this.ammunition>0)if(this.primary)for(const t of m.World.enemies)i.GamePanel.player.distanceCircle(t)<=100&&this.cooldown<=0&&Math.random()>.25&&this.shootXy(t.myX,t.myY);else this.cooldown<=0&&this.shoot(i.GamePanel.mousePos)}shoot(t){this.shootXy(t.myX,t.myY)}shootXy(t,e){const a=h.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,t,e);a.length=i.GamePanel.player.myR,a.direction=a.direction-2.5+5*Math.random(),a.updateCartesian();const n=new o.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=7,a.updateCartesian(),m.World.addShot(new s.GhostShot({point:n,v:a,r:2})),this.cooldown+=7,this.ammunition--}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,400)}paintDot(t,e,a){super.paintSecondary(t,e,a)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/400*38+.5),38,this.ammunition/400*38+.5),t.setColor(n.Color.RED),r.Drawer.drawCircle(t,30,10,10),t.setColor(n.Color.GREEN),r.Drawer.fillCircle(t,10,30,3),r.Drawer.fillCircle(t,14,16,3),t.setColor(n.Color.WHITE),r.Drawer.drawLine(t,1,39,30,10)}}e.AutoGun=d},2198:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bowcaster=void 0;const i=a(7620),s=a(1899),n=a(5273),r=a(5277),o=a(4520),h=a(5059),l=a(9988),m=a(4694),d=a(4888);class c extends m.Weap{constructor(){super(...arguments),this.ammunition=1e4,this.ammo=1e4,this.reloading=!1,this.wait=0}name(){return"Bowcaster"}fire(){const t=Math.max(4,i.GamePanel.player.baseSpread);for(let e=0-t/2;e<t/2;e+=4)if(this.ammunition>0){const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction+=e+1.5+Math.floor(3*Math.random()),t.updateCartesian();const a=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=7,t.updateCartesian(),t.add(i.GamePanel.player.motion),d.World.addShot(new s.GhostShot({point:a,v:t,r:1})),this.cooldown++,this.ammunition--}this.reloading=!1,this.cooldown/=8,this.cooldown+=2}hasSecondary(){return!0}secondary(){const t=Math.min(Math.max(3,i.GamePanel.player.baseSpread),this.ammo);this.ammo-=3;for(let e=0-t/2;e<=t/2;e+=.5)if(this.ammo>0){const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction+=e,t.updateCartesian();const a=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=300,t.updateCartesian();const s=new n.Laser(a,t,.4);s.damMod=.2,d.World.addShot(s),this.ammo--}}shoot(t){const e=Math.max(4,i.GamePanel.player.baseSpread);for(let a=0-e/2;a<e/2;a+=4)if(this.ammunition>0){const e=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);e.length=i.GamePanel.player.myR,e.direction+=a+1.5+Math.floor(3*Math.random()),e.updateCartesian();const n=new h.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);e.length=7,e.updateCartesian(),e.add(i.GamePanel.player.motion),t?(this.ammunition-=2,d.World.addShot(new r.TracerBoom(n,e,1))):d.World.addShot(new s.GhostShot({point:n,v:e,r:1})),i.GamePanel.player.reduceArea(.0125),this.cooldown++,this.ammunition--}this.reloading=!1,this.cooldown/=8,this.cooldown+=2}refresh(){this.reloading&&(this.ammunition>9990?this.reloading=!1:(i.GamePanel.player.reduceArea(.1),this.ammunition+=10,this.ammunition>9990&&(this.reloading=!1))),this.ammo<9990&&(this.ammo+=10,i.GamePanel.player.reduceArea(.001))}reload(){this.reloading=!0}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e4),this.paintLine(t,e,a+5,this.ammo,1e4)}paintBar(t,e,a){super.paintBar(t,e,a),this.paintAmmoBar2(t,e,a,this.ammunition/1e4,this.ammo/1e4),o.Drawer.setColor(t,"green"),o.Drawer.fillCircle(t,3,3,3),o.Drawer.fillCircle(t,15,8,3),o.Drawer.fillCircle(t,23,13,3),o.Drawer.fillCircle(t,28,23,3),o.Drawer.fillCircle(t,33,33,3)}}e.Bowcaster=c},8645:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BurstGun=void 0;const i=a(7620),s=a(4686),n=a(8524),r=a(4520),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.shots=0,this.wait=0,this.mySpread=5,this.speed=16,this.overHeat=0,this.overHeated=!1}name(){return"BurstGun"}fire(){!this.overHeated&&this.cooldown<=0&&(this.cooldown+=5,this.shots=3,this.wait=0,this.mySpread=5,this.speed=16)}secondary(){!this.overHeated&&this.cooldown<=0&&(this.cooldown+=5,this.shots=6,this.wait=0,this.mySpread=2,this.speed=12)}reload(){this.overHeated=!0}semiAuto(){return!0}hasSecondary(){return!0}tick(){if(super.tick(),this.wait--,this.overHeat>0?(this.overHeat-=.05,this.overHeated&&(this.overHeat-=.3)):this.overHeat<0&&(this.overHeat=0),this.overHeated&&this.overHeat<=0&&(this.overHeated=!1),this.shots>0&&this.wait<=0&&!this.overHeated){const t=h.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=Math.random()*this.mySpread;t.length=i.GamePanel.player.myR,t.direction=t.direction-e+Math.random()*e*2,t.updateCartesian();const a=new o.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=16,t.updateCartesian(),t.add(i.GamePanel.player.motion),m.World.addShot(new s.TestShot({point:a,v:t,r:1.51})),i.GamePanel.player.reduceArea(.05),this.shots--,this.wait=2*Math.random(),this.overHeat+=1,this.overHeat>=50&&(this.overHeated=!0,this.shots=0)}}paint(t,e,a){this.paintInvertLine(t,e,a,this.overHeat,50)}paintBar(t,e,a){super.paintBar(t,e,a),t.setColor(n.Color.fromRGBA(Math.min(this.overHeat/50+.5,1),0,0));for(let i=1;i<5;i++)t.draw3DRect(e+i,a+i,40-2*i,40-2*i);t.setColor(n.Color.GREEN),r.Drawer.fillCircle(t,18,18,3),r.Drawer.fillCircle(t,17,13,3),r.Drawer.fillCircle(t,10,23,3)}}e.BurstGun=d},9447:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BustGun=void 0;const i=a(7620),s=a(2673),n=a(8524),r=a(4520),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.shots=0,this.wait=0,this.mySpread=5,this.speed=16,this.reloading=!1,this.ammunition=24}name(){return"BustGun"}fire(){this.cooldown<=0&&(this.cooldown+=20,this.shots=2,this.wait=0,this.mySpread=5,this.speed=30)}secondary(){this.cooldown<=0&&(this.cooldown+=20,this.shots=4,this.wait=0,this.mySpread=3,this.speed=14)}semiAuto(){return!0}hasSecondary(){return!0}tick(){if(super.tick(),this.wait>0&&this.wait--,this.shots>0&&this.wait<=0&&this.ammunition>0){const t=h.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=Math.random()*this.mySpread;t.length=i.GamePanel.player.myR,t.direction=t.direction-e+Math.random()*e*2,t.updateCartesian();const a=new o.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=3,t.updateCartesian(),i.GamePanel.player.motion.subtract(t),t.length=this.speed,t.updateCartesian(),t.add(i.GamePanel.player.motion);const n=new s.SpecShot({point:a,v:t,r:2,shrink:!1});n.ghostShot=!0,n.explosion=100,n.decay=.7,n.damage=80,n.accurate=!0,m.World.addShot(n),this.shots--,this.ammunition--,this.wait=1.5*Math.random(),this.ammunition<=0?(this.wait=20,this.reloading=!0):this.reloading=!1}this.reloading&&(this.ammunition>=24?this.reloading=!1:(this.wait--,this.wait<=0&&(i.GamePanel.player.reduceArea(1),this.ammunition++,this.firing=!1,this.wait=15,this.ammunition>=24&&(this.reloading=!1))))}reload(){this.reloading=!0,this.wait=0}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,24)}paintBar(t,e,a){super.paintBar(t,e,a),this.paintAmmoBar(t,e,a,this.ammunition/24),t.setColor(n.Color.ORANGE),r.Drawer.fillCircle(t,18,18,3),r.Drawer.fillCircle(t,10,23,3)}}e.BustGun=d},1900:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Chain=void 0;const i=a(7620),s=a(7070),n=a(8321),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.links=[]}name(){return"Chain"}fire(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);let e;t.direction=360*Math.random(),t.length=5,t.updateCartesian(),e=0!==this.links.length?this.links[this.links.length-1]:i.GamePanel.player,console.log("last link was player?",e===i.GamePanel.player);const a=new r.Point(e.myX+t.dx,e.myY+t.dy);t.length=0,t.updateCartesian();const n=new s.Link(a,t,this);this.links.push(n),l.World.addShot(n),this.cooldown+=5,i.GamePanel.player.reduceArea(.2)}refresh(){n.filterItems(this.links,(t=>l.World.shots.includes(t)||l.World.addShots.includes(t)))}paintBar(t,e,a){t.draw3DRect(e,a,40,40)}}e.Chain=m},6102:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Chaingun=void 0;const i=a(5569),s=a(7620),n=a(7169),r=a(5277),o=a(8524),h=a(5059),l=a(9988),m=a(4694),d=a(4888);class c extends m.Weap{constructor(){super(...arguments),this.ammunition=200,this.ammo=2e3,this.lastAmmo=0,this.health=1e3,this.reloading=!1}name(){return"Chaingun"}fire(){if(this.ammunition>0&&!this.reloading){const t=l.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY),e=s.GamePanel.player.motion.length*s.GamePanel.player.motion.length/2+1;t.length=s.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new h.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy);t.length=3,t.updateCartesian(),s.GamePanel.player.motion.subtract(l.Vector.fromDist(t.dx*s.GamePanel.player.motion.length,t.dy*s.GamePanel.player.motion.length)),t.length=70,t.updateCartesian(),t.add(s.GamePanel.player.motion);const i=new r.TracerBoom(a,t,1);i.explosion=50,i.decay=.6,i.damage=40,i.ghostShot=!0,i.burst=1,d.World.addShot(i),this.cooldown+=15,this.ammunition-=1}}hasSecondary(){return!0}secondary(){this.ammunition>0&&this.fire()}tick(){if(!this.primary)if(this.health<=0)this.primary=!0;else{const t=new i.Circle({circle:s.GamePanel.player});t.myR+=50;for(const e of d.World.shots)e instanceof n.EnemyShot&&t.intersects(e).theBool&&(this.health-=e.myR*e.vec.length,d.World.removeShot(e));for(const e of d.World.enemies)if(t.intersects(e).theBool){this.health-=e.myDamage(),e.hit(1);const a=l.Vector.fromXyxy(t.myX,t.myY,e.myX,e.myY);a.length=t.myR+e.myR,a.updateCartesian(),e.myX=t.myX+a.dx,e.myY=t.myY+a.dy}}super.tick(),this.reloading&&(this.ammunition+=1,this.ammunition>this.lastAmmo&&s.GamePanel.player.reduceArea(.7),this.cooldown=10,this.ammunition>=200&&(this.reloading=!1,this.ammunition=200)),this.health<=990&&this.ammo>0&&(this.health+=10,this.ammo-=10),this.primary||(s.GamePanel.player.canMove=!1),this.ammo<2e3&&(this.ammo++,s.GamePanel.player.reduceArea(.001))}reload(){this.reloading||(this.reloading=!0,this.lastAmmo=this.ammunition,this.ammunition=0)}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,200),this.paintLine(t,e,a+5,this.ammo,2e3),!this.primary&&this.health>0){const e=new i.Circle({circle:s.GamePanel.player});e.myBorder=o.Color.WHITE,e.myO=this.health/1e3,e.myR+=50,e.paint(t)}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/200*38+.5),18,this.ammunition/200*38+.5),t.drawRect(e+21,a+1+38-(this.ammo/2e3*38+.5),18,this.ammo/2e3*38+.5)}}e.Chaingun=c},92:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ElectricFenceConstruct=void 0;const i=a(5569),s=a(2426),n=a(5362),r=a(7620),o=a(8524),h=a(4520),l=a(5059),m=a(4694),d=a(4888);class c extends m.Weap{constructor(){super(...arguments),this.ThingOne=null,this.ThingTwo=null,this.which=!0,this.ammunition=10}name(){return"Electric Fence"}startFiring(){if(this.ammunition>0){const t=new l.Point(r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);this.ThingOne=new s.ElectricFence({point:t,target:null})}}stopFiring(){if(null!==this.ThingOne){const t=new l.Point(r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);d.World.addShot(this.ThingOne),d.World.addShot(new s.ElectricFence({point:t,target:this.ThingOne})),this.ThingOne=null,this.ammunition--}}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,10),null!==this.ThingOne){const e=new i.Circle({x:this.ThingOne.myX,y:this.ThingOne.myY,r:5});e.myBorder=o.Color.GREEN,e.paint(t);const a=new n.Line(this.ThingOne.myX,this.ThingOne.myY,r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);a.myColor=o.Color.GREEN,a.paint(t)}const s=new i.Circle({x:r.GamePanel.mousePos.myX,y:r.GamePanel.mousePos.myY,r:5});s.myBorder=o.Color.GREEN,s.paint(t)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/10*38+.5),38,this.ammunition/10*38+.5),h.Drawer.drawCircle(t,23,18,10)}}e.ElectricFenceConstruct=c},5991:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FlameTurretConstruct=void 0;const i=a(5569),s=a(141),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=3}name(){return"Flame Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.FlameTurret({point:e})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,3),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:8});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:100});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/3*38+.5),38,this.ammunition/3*38+.5)}}e.FlameTurretConstruct=d},8755:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Floater=void 0;const i=a(7620),s=a(3119),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.autofire=!1,this.ammunition=1e4}name(){return"Swarm Gun"}fire(){if(this.ammunition>500){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=1,t.updateCartesian(),t.add(i.GamePanel.player.motion),h.World.addShot(new s.FloatShot(e,t,2)),this.cooldown+=8,this.ammunition-=500,i.GamePanel.player.reduceArea(.75)}}secondary(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=1,t.updateCartesian(),t.add(i.GamePanel.player.motion),h.World.addShot(new s.FloatShot(e,t,2)),this.cooldown+=8,i.GamePanel.player.reduceArea(4)}reload(){this.autofire=!this.autofire}hasSecondary(){return!0}tick(){super.tick(),this.ammunition<1e4&&this.ammunition++,this.autofire&&this.ammunition>=500&&this.cooldown<=0&&this.fire()}paint(t,e,a){const i=this.ammunition/1e4*50;t.drawLine(Math.round(e-i/2),Math.round(a),Math.round(e+i/2),Math.round(a))}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e4*38+.5),38,this.ammunition/1e4*38+.5)}}e.Floater=l},8227:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ForcePush=void 0;const i=a(6817),s=a(7620),n=a(9988),r=a(4694),o=a(4888);class h extends r.Weap{constructor(){super(...arguments),this.autofire=!1}name(){return"Force Push"}fire(){const t=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.mousePos.myX,s.GamePanel.mousePos.myY);for(const e of o.World.enemies){const a=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,e.myX,e.myY),i=t.copy();let r=Math.abs(a.direction-t.direction);r=Math.min(r,Math.abs(a.direction+360-t.direction)),r=Math.min(r,Math.abs(a.direction-360-t.direction)),i.length=100/(4*a.length)/(r/10+1)/(e.area()/200),i.updateCartesian(),e.hit(i.length),e.motion.add(i)}for(const e of o.World.shots)if(null!==e.vec&&!e.notShot){const a=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,e.myX,e.myY);let i=Math.abs(a.direction-t.direction);i=Math.min(i,Math.abs(a.direction+360-t.direction)),i=Math.min(i,Math.abs(a.direction-360-t.direction)),a.length=5/(2*a.length)/(i/10+1)/(e.area()/500),a.updateCartesian(),e.vec.add(a)}for(const e of o.World.actors)if(e instanceof i.Particle){const a=e;if(null!==a.motion){const e=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,a.myX,a.myY);let i=Math.abs(e.direction-t.direction);i=Math.min(i,Math.abs(e.direction+360-t.direction)),i=Math.min(i,Math.abs(e.direction-360-t.direction)),e.length=5/(2*e.length)/(i/10+1)/.1,e.updateCartesian(),a.motion.add(e)}}s.GamePanel.player.reduceArea(.01)}secondary(){for(const t of o.World.enemies){const e=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,t.myX,t.myY);e.length=20/(e.length*e.length*4*Math.PI*5e-4)/(t.area()/200),e.updateCartesian(),t.hit(e.length),t.motion.add(e)}for(const t of o.World.shots)if(null!==t.vec&&!t.notShot){const e=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,t.myX,t.myY);e.length=2/(e.length*e.length*4*Math.PI*5e-4),e.updateCartesian(),t.vec.add(e)}for(const t of o.World.actors)if(t instanceof i.Particle){const e=t;if(null!==e.motion){const t=n.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,e.myX,e.myY);t.length=2/(t.length*t.length*4*Math.PI*5e-4),t.updateCartesian(),e.motion.add(t)}}s.GamePanel.player.reduceArea(.01)}refresh(){this.autofire&&(this.primary?this.fire():this.secondary())}hasSecondary(){return!0}reload(){this.autofire?this.autofire=!1:this.autofire=!0}}e.ForcePush=h},5441:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FragRocket=void 0;const i=a(7620),s=a(2673),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{name(){return"Frag Rocket"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=6,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.SpecShot({point:e,v:t,r:8});a.epic=!0,h.World.addShot(a),i.GamePanel.player.reduceArea(2)}semiAuto(){return!0}}e.FragRocket=l},962:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GravityTurretConstruct=void 0;const i=a(5569),s=a(1385),n=a(7620),r=a(8524),o=a(5059),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=30}name(){return"Gravity Well"}fire(){if(this.ammunition>0){const t=new o.Point(n.GamePanel.player.target.myX,n.GamePanel.player.target.myY);l.World.addShot(new s.GravityTurret({point:t})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(1)}}secondary(){if(this.ammunition>0){const t=new o.Point(n.GamePanel.player.target.myX,n.GamePanel.player.target.myY),e=new s.GravityTurret({point:t});e.type2=!0,e.myR=5,l.World.addShot(e),this.cooldown+=1,this.ammunition-=10,n.GamePanel.player.reduceArea(1)}}hasSecondary(){return!0}semiAuto(){return!0}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,30);const s=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:10});s.myBorder=r.Color.GREEN,s.paint(t)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/30*38+.5),38,this.ammunition/30*38+.5)}}e.GravityTurretConstruct=m},5980:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Grenades=void 0;const i=a(7620),s=a(3857),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.myNade=null}name(){return"Grenades"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+this.myNade.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);this.myNade.myX=e.myX,this.myNade.myY=e.myY,this.cooldown=0}startFiring(){super.startFiring();const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+3,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=14,t.updateCartesian(),t.add(i.GamePanel.player.motion),this.myNade=new s.Grenade(e,3,!1),h.World.addShot(this.myNade),i.GamePanel.player.reduceArea(2)}stopFiring(){if(super.stopFiring(),null!==this.myNade){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian(),t.length=14,t.updateCartesian(),t.add(i.GamePanel.player.motion),this.myNade.toss(t),this.myNade=null}}paint(t,e,a){null!==this.myNade&&this.paintLine(t,e,a,this.myNade.timer,180)}paintBar(t,e,a){null!==this.myNade&&(super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.myNade.timer/180*38+.5),38,this.myNade.timer/180*38+.5))}}e.Grenades=l},5249:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GunTurret=void 0;const i=a(5569),s=a(2651),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=3}name(){return"Gun Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.Turret({point:e})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,3),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:13});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:3*(Math.max(50,n.GamePanel.player.baseSpread)+3)});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t),t.drawString("mousewheel to change",a.myX-60,a.myY-a.myR+30);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/3*38+.5),38,this.ammunition/3*38+.5)}}e.GunTurret=d},1434:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HealBot=void 0;const i=a(7620),s=a(4694);class n extends s.Weap{constructor(t=2500){super(),this.ammunition=2500,this.goalRadius=0,this.ammunition=t}name(){return"HealBot"}fire(){this.ammunition>0&&i.GamePanel.player.reduceArea(-.5),this.ammunition--}tick(){super.tick(),this.ammunition>0&&(i.GamePanel.player.area()<this.goalRadius&&(i.GamePanel.player.reduceArea(-.25),this.ammunition--),i.GamePanel.player.area()>this.goalRadius&&(this.goalRadius=i.GamePanel.player.area()))}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,2500)}paintDot(t,e,a){super.paintSecondary(t,e,a)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/2500*38+.5),38,this.ammunition/2500*38+.5)}}e.HealBot=n},5589:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Homer=void 0;const i=a(7620),s=a(7230),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{name(){return"Homer"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=8,t.updateCartesian(),h.World.addShot(new s.HomerShot(e,t,3)),this.cooldown+=30,i.GamePanel.player.reduceArea(1)}}e.Homer=l},4435:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JetBooster=void 0;const i=a(7620),s=a(6956),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{name(){return"Jet Booster"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.direction=(t.direction+180)%360,t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=1.75,t.updateCartesian(),i.GamePanel.player.motion.subtract(t),t.length=15,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.SparkShot(e,t,2,!0);a.damMod=.15,h.World.addShot(a),this.cooldown+=i.GamePanel.player.baseSpread/90,i.GamePanel.player.reduceArea(.001)}secondary(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=i.GamePanel.player.myR+3,t.length=.75,t.updateCartesian(),i.GamePanel.player.motion.subtract(t),t.length=8,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.SparkShot(e,t,2,!0);a.damMod=.15,h.World.addShot(a),this.cooldown+=i.GamePanel.player.baseSpread/90,i.GamePanel.player.reduceArea(.001)}hasSecondary(){return!0}}e.JetBooster=l},1287:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KnockbackTurretConstruct=void 0;const i=a(5569),s=a(2750),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=3}name(){return"Knockback Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.KnockbackTurret({point:e})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,3),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:10});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:3*(Math.max(25,n.GamePanel.player.baseSpread)+3)});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t),t.drawString("mousewheel to change",a.myX-60,a.myY-a.myR+30);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/3*38+.5),38,this.ammunition/3*38+.5)}}e.KnockbackTurretConstruct=d},9530:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LaserRifle=void 0;const i=a(7620),s=a(5273),n=a(4520),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=1e3}name(){return"Laser Rifle"}fire(){if(this.ammunition>=25){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=3*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=100,t.updateCartesian();const n=new s.Laser(a,t,.5);n.damMod=10,l.World.addShot(n),this.cooldown+=1,this.ammunition-=25}}secondary(){for(let t=5*Math.random()+3;t>0;t--)if(this.ammunition>=15){const e=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),a=10*Math.random();e.length=i.GamePanel.player.myR+15*t,e.direction=e.direction-a/2+Math.random()*a,e.updateCartesian();const n=new r.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);e.length=100,e.updateCartesian();const h=new s.Laser(n,e,.5);h.damMod=10,l.World.addShot(h),this.ammunition-=15}}hasSecondary(){return!0}semiAuto(){return!0}tick(){super.tick(),this.ammunition<1e3&&(this.ammunition++,i.GamePanel.player.reduceArea(.001))}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e3)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e3*38+.5),38,this.ammunition/1e3*38+.5),n.Drawer.setColor(t,"red"),n.Drawer.drawLine(t,20,18,30,18),n.Drawer.drawLine(t,5,20,15,20),n.Drawer.drawLine(t,28,22,38,22)}}e.LaserRifle=m},2631:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LaserSniper=void 0;const i=a(7620),s=a(5273),n=a(4520),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=1e3}name(){return"LaserSniper"}fire(){if(this.ammunition>=125){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=100,t.updateCartesian();const a=new s.Laser(e,t,.5);a.damMod=75,l.World.addShot(a),this.cooldown+=20,this.ammunition-=125}}secondary(){if(this.ammunition>=3){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=100,t.updateCartesian();const a=new s.Laser(e,t,.5);a.damMod=2,l.World.addShot(a),this.ammunition-=3}}hasSecondary(){return!0}semiAuto(){return!!this.primary}tick(){super.tick(),this.ammunition<1e3&&(this.ammunition++,i.GamePanel.player.reduceArea(.001))}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e3)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e3*38+.5),38,this.ammunition/1e3*38+.5),n.Drawer.setColor(t,"red"),n.Drawer.drawLine(t,2,38,38,2)}}e.LaserSniper=m},2573:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LeechGun=void 0;const i=a(5569),s=a(7620),n=a(7169),r=a(4137),o=a(8524),h=a(5059),l=a(9988),m=a(4694),d=a(4888);class c extends m.Weap{constructor(){super(...arguments),this.health=0}name(){return"Leech Gun"}fire(){const t=l.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY);t.length=s.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.updateCartesian();const e=new h.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy);t.length=30,t.updateCartesian(),t.add(s.GamePanel.player.motion);const a=new r.LeechShot(e,t,2,this);d.World.addShot(a),this.cooldown+=10,s.GamePanel.player.reduceArea(.1)}refresh(){if(this.health>0){this.health-=.05,s.GamePanel.player.reduceArea(-.01);const t=new i.Circle({circle:s.GamePanel.player});t.setArea(s.GamePanel.player.area()+this.health);for(const e of d.World.shots)e instanceof n.EnemyShot&&t.intersects(e).theBool&&(this.health-=e.myR*e.vec.length,d.World.removeShot(e));for(const e of d.World.enemies)if(t.intersects(e).theBool){this.health-=e.myDamage(),e.hit(1);const a=l.Vector.fromXyxy(t.myX,t.myY,e.myX,e.myY);a.length=t.myR+e.myR,a.updateCartesian(),e.myX=t.myX+a.dx,e.myY=t.myY+a.dy}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawString(this.health.toFixed(2),e+2,a+20);const n=new i.Circle({circle:s.GamePanel.player});n.myBorder=o.Color.WHITE,n.setArea(s.GamePanel.player.area()+this.health),n.paint(t)}}e.LeechGun=c},4104:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LifeTurretConstruct=void 0;const i=a(5569),s=a(1611),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=2}name(){return"Life Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.LifeTurret({point:e})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,2),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:7});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:75});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/2*38+.5),38,this.ammunition/2*38+.5)}}e.LifeTurretConstruct=d},9346:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LineGun=void 0;const i=a(7620),s=a(5273),n=a(8053),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=1e3}name(){return"LineGun"}fire(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=9,t.updateCartesian(),t.add(i.GamePanel.player.motion);for(let e=0;e<=6;e++){const a=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);a.length=i.GamePanel.player.myR,a.direction=t.direction+(30*e-90),a.updateCartesian();const s=new r.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=16,a.updateCartesian(),a.add(i.GamePanel.player.motion);const h=new n.TracerRound({point:s,v:t.copy(),r:1,ghostShot:!0});l.World.addShot(h)}this.cooldown=20,i.GamePanel.player.area()>100&&i.GamePanel.player.reduceArea(1)}hasSecondary(){return!0}secondary(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=300,t.updateCartesian(),t.add(i.GamePanel.player.motion);for(let e=0;e<=6;e++)if((this.ammunition>=6||Math.random()<this.ammunition/18)&&this.ammunition>0){const a=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);a.length=i.GamePanel.player.myR,a.direction=t.direction+(30*e-90),a.updateCartesian();const n=new r.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=16,a.updateCartesian(),a.add(i.GamePanel.player.motion);const h=new s.Laser(n,t.copy(),.4);l.World.addShot(h),i.GamePanel.player.area()>100&&this.ammunition--}this.cooldown=0}tick(){super.tick(),this.ammunition<1e3&&(this.ammunition++,i.GamePanel.player.reduceArea(.001))}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e3)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e3*38+.5),38,this.ammunition/1e3*38+.5)}}e.LineGun=m},8223:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mine=void 0;const i=a(7620),s=a(2673),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.ammunition=25}name(){return"Mine"}fire(){if(this.ammunition>0){const t=new r.Vector,e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),a=new s.SpecShot({point:e,v:t,r:i.GamePanel.player.myR+2});a.ghostShot=!0,h.World.addShot(a),this.cooldown+=1,this.ammunition--}}semiAuto(){return!0}paint(t,e,a){const i=this.ammunition/25*50;t.drawLine(Math.round(e-i/2),Math.round(a),Math.round(e+i/2),Math.round(a))}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/25*38+.5),38,this.ammunition/25*38+.5)}}e.Mine=l},6829:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MiniGunTurretConstruct=void 0;const i=a(5569),s=a(7614),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=1}name(){return"Minigun Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.MiniGunTurret({point:e})),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,1),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:25});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:100});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1*38+.5),38,this.ammunition/1*38+.5)}}e.MiniGunTurretConstruct=d},9841:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Minigun=void 0;const i=a(5569),s=a(7620),n=a(7169),r=a(4686),o=a(8053),h=a(8524),l=a(5059),m=a(9988),d=a(4694),c=a(4888);class y extends d.Weap{constructor(){super(...arguments),this.ammunition=3e3,this.lastAmmo=0,this.speed=0,this.topspeed=200,this.slowdown=0,this.health=5e3,this.shots=0,this.reloading=!1}name(){return"Minigun"}fire(){for(let t=4*Math.random();t>0;t--)this.shoot(t)}shoot(t){if(this.ammunition>0&&!this.reloading){const e=m.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY);let a=s.GamePanel.player.motion.length*s.GamePanel.player.motion.length/2+10;a*=2*Math.random(),e.length=s.GamePanel.player.myR+5*t,e.direction=e.direction-a/2+Math.random()*a,e.updateCartesian();const i=new l.Point(s.GamePanel.player.myX+e.dx,s.GamePanel.player.myY+e.dy);let n;e.length=1,e.updateCartesian(),e.length=20,e.updateCartesian(),e.add(s.GamePanel.player.motion),this.shots++,this.shots>=6?(n=new o.TracerRound({point:i,v:e,r:.5}),this.shots=0):n=new r.TestShot({point:i,v:e,r:1}),n.myFill=h.Color.fromRGBA(.5,.5,0),n.path.myColor=h.Color.YELLOW,n.ghostShot=!0,c.World.addShot(n),this.ammunition-=1,this.cooldown=20-20*this.speed/this.topspeed+.5,this.slowdown=64}}refresh(){this.slowdown>0&&this.primary&&this.slowdown--,this.speed>0&&!this.firing&&this.slowdown<=0&&(this.speed-=1,s.GamePanel.player.reduceArea(5e-4))}hasSecondary(){return!0}secondary(){this.fire()}tick(){if(!this.primary)if(this.health<=0)this.primary=!0;else{const t=new i.Circle({circle:s.GamePanel.player});t.myR+=20;for(const e of c.World.shots)e instanceof n.EnemyShot&&t.intersects(e).theBool&&(this.health-=e.myR*e.vec.length,c.World.removeShot(e));for(const e of c.World.enemies)if(t.intersects(e).theBool){this.health-=e.myDamage(),e.hit(1);const a=m.Vector.fromXyxy(t.myX,t.myY,e.myX,e.myY);a.length=t.myR+e.myR,a.updateCartesian(),e.myX=t.myX+a.dx,e.myY=t.myY+a.dy}}super.tick(),this.reloading&&(s.GamePanel.player.canMove=!1,this.ammunition+=15,this.ammunition>this.lastAmmo&&s.GamePanel.player.reduceArea(.5),this.cooldown=10,this.ammunition>=3e3&&(this.reloading=!1,this.ammunition=3e3)),this.firing&&(this.speed+=2,this.speed>this.topspeed&&(this.speed=this.topspeed)),this.primary||(s.GamePanel.player.canMove=!1),this.slowdown>0&&s.GamePanel.player.motion.scale(.1)}reload(){this.reloading||(this.reloading=!0,this.lastAmmo=this.ammunition,this.ammunition=0)}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,3e3),this.paintLine(t,e,a+5,this.speed,this.topspeed)}paintBar(t,e,a){if(super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/3e3*38+.5),18,this.ammunition/3e3*38+.5),t.drawRect(e+21,a+1+38-(this.speed/this.topspeed*38+.5),18,this.speed/this.topspeed*38+.5),!this.primary){const e=new i.Circle({circle:s.GamePanel.player}),a=this.health/5e3+.5;e.myBorder=h.Color.fromRGBA(a,a,a),e.myR+=20,e.paint(t)}}}e.Minigun=y},1242:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MissileLauncher=void 0;const i=a(7620),s=a(2230),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{name(){return"Missile Launcher"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.scale(.94),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);let a=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);a.length=i.GamePanel.player.myR,a.direction=a.direction-90,a.updateCartesian();let o=new n.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=3,a.updateCartesian();let l=new s.MissileShot(o,a,2,e.copy());h.World.addShot(l),a=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),a.length=i.GamePanel.player.myR,a.direction=a.direction+90,a.updateCartesian(),o=new n.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy),a.length=3,a.updateCartesian(),l=new s.MissileShot(o,a,2,e.copy()),h.World.addShot(l),this.cooldown+=12,i.GamePanel.player.reduceArea(.5)}finisher(){for(let t=80;t>0;t--){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY);t.scale(.94),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),a=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY);a.length=i.GamePanel.player.myR,a.direction=a.direction-110-140*Math.random(),a.updateCartesian();const o=new n.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=8,a.updateCartesian();const l=e.copy();l.myX+=80*Math.random()-40,l.myY+=80*Math.random()-40;const m=new s.MissileShot(o,a,2,l);m.ghostShot=!0,h.World.addShot(m),this.cooldown+=3,i.GamePanel.player.reduceArea(.5)}this.die()}semiAuto(){return!!this.primary}hasSecondary(){return!0}hasFinish(){return!0}secondary(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.scale(.94),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),a=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);a.length=i.GamePanel.player.myR,a.direction=a.direction-110-140*Math.random(),a.updateCartesian();const o=new n.Point(i.GamePanel.player.myX+a.dx,i.GamePanel.player.myY+a.dy);a.length=8,a.updateCartesian();const l=e.copy();l.myX+=80*Math.random()-40,l.myY+=80*Math.random()-40;const m=new s.MissileShot(o,a,2,l);h.World.addShot(m),this.cooldown+=3,i.GamePanel.player.reduceArea(.5)}}e.MissileLauncher=l},4829:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Newton=void 0;const i=a(7620),s=a(294),n=a(6731),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.left=!1}name(){return"Newton & Tesla"}fire(){let t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=360*Math.random(),t.updateCartesian();let e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=30*Math.random(),t.updateCartesian(),t.add(i.GamePanel.player.motion);let a=new s.NewtonShot(e,t,1,i.GamePanel.mousePos);l.World.addShot(a),t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=i.GamePanel.player.myR,t.direction=360*Math.random(),t.updateCartesian(),e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),t.length=30*Math.random(),t.updateCartesian(),t.add(i.GamePanel.player.motion),a=new s.NewtonShot(e,t,1,i.GamePanel.mousePos),l.World.addShot(a),this.cooldown+=10,i.GamePanel.player.reduceArea(1)}secondary(){let t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-90,t.updateCartesian();let e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=20,t.updateCartesian(),t.add(i.GamePanel.player.motion);let a=new n.TeslaShot(e,t,1,i.GamePanel.mousePos.copy());this.left?(l.World.addShot(a),this.left=!1):(t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=i.GamePanel.player.myR,t.direction=t.direction+90,t.updateCartesian(),e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),t.length=20,t.updateCartesian(),t.add(i.GamePanel.player.motion),a=new n.TeslaShot(e,t,1,i.GamePanel.mousePos.copy()),l.World.addShot(a),this.left=!0),this.cooldown+=2,i.GamePanel.player.reduceArea(.3)}hasSecondary(){return!0}}e.Newton=m},8123:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Nuke=void 0;const i=a(7620),s=a(5805),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.showntip=!1}name(){return"Nuke"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=4,t.updateCartesian(),t.add(i.GamePanel.player.motion),h.World.addShot(new s.NuclearShot(e,t,8)),this.cooldown+=200,i.GamePanel.player.reduceArea(10)}secondary(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=4,t.updateCartesian(),t.add(i.GamePanel.player.motion),h.World.addShot(new s.NuclearShot(e,t,8)),this.cooldown+=200,i.GamePanel.player.reduceArea(10)}tick(){this.primary||(i.GamePanel.player.motion.scale(.8),i.GamePanel.player.reduceArea(-i.GamePanel.player.irradamage))}hasSecondary(){return!0}semiAuto(){return!0}}e.Nuke=l},1236:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleGun=void 0;const i=a(6817),s=a(7620),n=a(8524),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.friction=.999,this.fade=.01,this.opac=1,this.rate=8,this.spread=25,this.autocolor=!0,this.autospread=!0,this.color=n.Color.random()}name(){return"Particle Gun"}fire(){const t=o.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY);t.length=s.GamePanel.player.myR,t.updateCartesian();const e=new r.Point(s.GamePanel.player.myX,s.GamePanel.player.myY);t.length=40,t.updateCartesian(),t.add(s.GamePanel.player.motion),this.autocolor&&(this.color=n.Color.fromHSLA(s.GamePanel.player.baseSpread/360));for(let a=this.rate;a>0;a--){const a=new i.Particle({x:e.myX,y:e.myY,color:this.color,start:t,spread:s.GamePanel.player.baseSpread,r:1});a.myO=this.opac,a.fade=this.fade,a.hurtEnemy=!0,a.friction=this.friction,l.World.addParticle(a)}}secondary(){const t=s.GamePanel.player.target;this.autocolor&&(this.color=n.Color.fromHSLA(s.GamePanel.player.baseSpread/360));for(let e=this.rate;e>0;e--){const e=new i.Particle({x:t.myX,y:t.myY,color:this.color,r:1});e.myOpacity=this.opac,e.myO=1,e.fade=this.fade,e.friction=this.friction,e.hurtEnemy=!0,e.plzFadeIn(),l.World.addParticle(e)}}reload(){this.primary?this.autocolor=!this.autocolor:this.autospread=!this.autospread}key(t){switch(t){case 90:this.fade=Math.max(.003,s.GamePanel.player.baseSpread/360*.1);break;case 88:this.friction=s.GamePanel.player.baseSpread/360;break;case 86:this.opac=Math.max(.003,s.GamePanel.player.baseSpread/360*.1);break;case 84:this.rate=Math.max(1,s.GamePanel.player.baseSpread/360*30);break;case 192:this.color=n.Color.fromHSLA(s.GamePanel.player.baseSpread/360)}}hasSecondary(){return!0}}e.ParticleGun=m},9771:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PistolOne=void 0;const i=a(7620),s=a(4686),n=a(8053),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=6,this.ammunition2=6,this.reloading=!1,this.wait=0}name(){return"Revolver"}fire(){if(this.ammunition>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2+4*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=16,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.TestShot({point:e,v:t,r:1.5});l.World.addShot(a),this.ammunition--,this.ammunition<=0?this.reload():this.reloading=!1}}secondary(){if(this.ammunition2>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2+4*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=20,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new n.TracerRound({point:e,v:t,r:1});l.World.addShot(a),this.ammunition2--,this.ammunition2<=0?this.reload():this.reloading=!1}}tick(){super.tick(),this.reloading&&(this.ammunition>=6&&this.ammunition2>=6?this.reloading=!1:(this.wait--,this.wait<=0&&(this.ammunition<6&&(i.GamePanel.player.reduceArea(.004),this.ammunition++),this.ammunition2<6&&(i.GamePanel.player.reduceArea(.05),this.ammunition2++),this.wait=10,this.cooldown+=1)))}reload(){this.reloading||(this.reloading=!0,this.wait=30)}semiAuto(){return!0}hasSecondary(){return!0}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,6),this.paintLine(t,e,a+5,this.ammunition2,6)}paintBar(t,e,a){super.paintBar(t,e,a),this.paintAmmoBar2(t,e,a,this.ammunition/6,this.ammunition2/6)}}e.PistolOne=m},6326:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PistolTwo=void 0;const i=a(6817),s=a(7620),n=a(2366),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=12,this.reloading=!1,this.wait=0}name(){return"Glock"}fire(){if(!this.reloading){const t=h.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY);t.length=s.GamePanel.player.myR,t.direction=t.direction-2+4*Math.random(),t.updateCartesian();const e=new o.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy);t.length=1,t.updateCartesian(),s.GamePanel.player.motion.subtract(t),t.length=22,t.updateCartesian(),t.add(s.GamePanel.player.motion);const a=new n.KnockBackShot(e,t,2.5);a.IgnoreShot=!0,m.World.addShot(a),m.World.addParticle(new i.Particle({x:a.myX,y:a.myY,color:r.Color.GREEN,angle:Math.round(a.vec.direction),r:2})),this.cooldown+=1,this.ammunition--,this.ammunition<=0?(this.wait=5,this.reloading=!0):this.reloading=!1}}semiAuto(){return!!this.primary}hasSecondary(){return!0}secondary(){if(!this.reloading){const t=h.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.player.target.myX,s.GamePanel.player.target.myY);t.length=s.GamePanel.player.myR,t.direction=t.direction-4+8*Math.random(),t.updateCartesian();const e=new o.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy);t.length=2,t.updateCartesian(),s.GamePanel.player.motion.subtract(t),t.length=18,t.updateCartesian(),t.add(s.GamePanel.player.motion);const a=new n.KnockBackShot(e,t,2.5);m.World.addShot(a),m.World.addParticle(new i.Particle({x:a.myX,y:a.myY,color:r.Color.GREEN,angle:Math.round(a.vec.direction),r:2})),this.cooldown+=3,this.ammunition--,this.ammunition<=0?(this.wait=5,this.reloading=!0):this.reloading=!1}}tick(){super.tick(),this.reloading&&(this.ammunition>=12?this.reloading=!1:(this.wait--,this.wait<=0&&(s.GamePanel.player.reduceArea(.3),this.ammunition++,this.primary?this.wait=3:this.wait=5,this.cooldown+=1)))}reload(){this.reloading||(this.reloading=!0,s.GamePanel.player.reduceArea(-.4*this.ammunition),this.ammunition=0,this.wait=1)}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,12)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/12*38+.5),38,this.ammunition/12*38+.5)}}e.PistolTwo=d},221:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PortalGun=void 0;const i=a(2849),s=a(7620),n=a(8524),r=a(4694),o=a(4888);class h extends r.Weap{constructor(){super(...arguments),this.portal1=null,this.portal2=null}name(){return"Portal Gun"}fire(){this.oktomess()&&(null!==this.portal1&&o.World.removeShot(this.portal1),this.portal1=new i.PortalA(s.GamePanel.player.target.myX,s.GamePanel.player.target.myY,this.portal2),null!==this.portal2&&(this.portal2.friend=this.portal1),this.portal1.myBorder=n.Color.BLUE.brighter(),o.World.addShot(this.portal1))}secondary(){this.oktomess()&&(null!==this.portal2&&o.World.removeShot(this.portal2),this.portal2=new i.PortalA(s.GamePanel.player.target.myX,s.GamePanel.player.target.myY,this.portal1),null!==this.portal1&&(this.portal1.friend=this.portal2),this.portal2.myBorder=n.Color.ORANGE,o.World.addShot(this.portal2))}oktomess(){return(null===this.portal1||this.portal1.waitingFor<=0)&&(null===this.portal2||this.portal2.waitingFor<=0)}reload(){this.oktomess()&&(o.World.removeShot(this.portal1),o.World.removeShot(this.portal2),this.portal1=null,this.portal2=null)}hasSecondary(){return!0}semiAuto(){return!0}}e.PortalGun=h},1307:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RailGun=void 0;const i=a(7620),s=a(5466),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.ammunition=1e4}name(){return"Rail Gun"}fire(){if(this.ammunition>=1e3&&this.cooldown<=0){this.ammunition-=1e3;const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=i.GamePanel.player.motion.length*i.GamePanel.player.motion.length;t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=25,t.updateCartesian(),t.add(i.GamePanel.player.motion),i.GamePanel.player.motion.subtract(r.Vector.fromDist(t.dx*i.GamePanel.player.motion.length,t.dy*i.GamePanel.player.motion.length));const o=new s.RailShot(a,t,7,8);h.World.addShot(o),this.cooldown+=100,i.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}hasSecondary(){return!0}secondary(){this.fire()}tick(){super.tick(),this.ammunition<1e4&&(this.ammunition+=1),this.primary||(i.GamePanel.player.motion=new r.Vector)}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e4)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e4*38+.5),18,this.ammunition/1e4*38+.5),t.drawRect(e+21,a+1+38-(this.cooldown/100*38+.5),18,this.cooldown/100*38+.5)}}e.RailGun=l},2217:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RapidLaser=void 0;const i=a(7620),s=a(5273),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.ammunition=1e3}name(){return"Rapid Laser"}fire(){if(this.ammunition>=2){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=60*Math.random()*Math.random()*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=100,t.updateCartesian();const o=new s.Laser(a,t,.5);o.damMod=4,h.World.addShot(o),this.cooldown+=3,this.ammunition-=2}}secondary(){if(this.ammunition>=4){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=60*Math.random()*Math.random()*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=100,t.updateCartesian();const o=new s.Laser(a,t,.5);o.damMod=2,h.World.addShot(o),this.ammunition-=4}}hasSecondary(){return!0}tick(){super.tick(),this.ammunition<1e3&&!this.firing&&(this.ammunition++,i.GamePanel.player.reduceArea(.001))}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,1e3)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1e3*38+.5),38,this.ammunition/1e3*38+.5)}}e.RapidLaser=l},758:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ReboundGun=void 0;const i=a(7620),s=a(6256),n=a(8321),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.bullets=[]}name(){return"Rebound Gun"}fire(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-2.5+5*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=10,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.ReboundBullet(e,t,2.5,this);l.World.addShot(a),this.cooldown+=6,i.GamePanel.player.reduceArea(.3),this.bullets.push(a),this.bullets.length>50&&this.bullets.shift().die(),n.filterItems(this.bullets,(t=>l.World.shots.includes(t)||l.World.addShots.includes(t)))}died(t){n.removeItems(this.bullets,[t])}paint(t,e,a){this.paintLine(t,e,a,this.bullets.length,50)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.bullets.length/50*38+.5),38,this.bullets.length/50*38+.5)}}e.ReboundGun=m},8647:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteExplosive=void 0;const i=a(7620),s=a(2056),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{constructor(){super(...arguments),this.bombs=[]}name(){return"RC4"}fire(){const t=new r.Vector,e=new n.Point(i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY),a=new s.RC4(e,t,8,!1);this.bombs.push(a),h.World.addShot(a),i.GamePanel.player.reduceArea(2)}secondary(){for(const t of this.bombs)t.explode();this.bombs.length=0}reload(){for(const t of this.bombs)t.explode();this.bombs.length=0}semiAuto(){return!0}hasSecondary(){return!0}}e.RemoteExplosive=l},8254:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShellBuilder=void 0;const i=a(5569),s=a(3434),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=6}name(){return"Force Field"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.Shell(e)),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(2)}}semiAuto(){return!0}paint(t,e,a){if(this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:60});e.myBorder=r.Color.GREEN,e.paint(t)}this.paintLine(t,e,a,this.ammunition,6)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/6*38+.5),38,this.ammunition/6*38+.5)}}e.ShellBuilder=d},8286:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShieldBot=void 0;const i=a(5569),s=a(7620),n=a(7169),r=a(8524),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=500,this.health=5e3,this.maxhealth=5e3}name(){return"Shield"}refresh(){if(this.ammunition>0&&(s.GamePanel.player.damaged>0&&(s.GamePanel.player.reduceArea(0-s.GamePanel.player.damaged),this.ammunition-=s.GamePanel.player.damaged,s.GamePanel.player.damaged=0),this.health<100&&(this.health+=10,this.ammunition--)),this.health>0){const t=new i.Circle({circle:s.GamePanel.player});!this.primary&&this.ammunition>0?(t.myR+=80,this.ammunition-=.1):t.myR+=10;for(const e of l.World.shots)e instanceof n.EnemyShot&&t.intersects(e).theBool&&(this.health-=e.myR*e.vec.length,l.World.removeShot(e));for(const e of l.World.enemies)if(t.intersects(e).theBool){this.health-=e.myDamage(),e.hit(1);const a=o.Vector.fromXyxy(t.myX,t.myY,e.myX,e.myY);a.length=t.myR+e.myR,a.updateCartesian(),e.myX=t.myX+a.dx,e.myY=t.myY+a.dy}}}hasSecondary(){return!0}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,500)}paintDot(t,e,a){super.paintSecondary(t,e,a)}paintBar(t,e,a){if(super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/500*38+.5),38,this.ammunition/500*38+.5),this.health>0){const e=new i.Circle({circle:s.GamePanel.player}),a=this.health/this.maxhealth+.5;e.myBorder=r.Color.fromRGBA(a,a,a),!this.primary&&this.ammunition>0?e.myR+=80:e.myR+=10,e.paint(t)}}}e.ShieldBot=m},2867:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shotgun=void 0;const i=a(7620),s=a(1899),n=a(8053),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.reloading=!1,this.wait=0,this.ammunition=12}name(){return"Shotgun"}fire(){if(this.ammunition<=3)this.wait=40,this.reloading=!0;else{for(let t=0;t<8;t++){const t=h.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+20*Math.random(),t.direction=t.direction-9+18*Math.random(),t.updateCartesian();const e=new o.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=8+8*Math.random(),t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new n.TracerRound({point:e,v:t,r:2,shrink:!0});a.myFill=r.Color.GREEN,a.path.myColor=r.Color.GREEN,m.World.addShot(a)}this.cooldown+=1,this.ammunition-=4,this.reloading=!1}}hasSecondary(){return!0}secondary(){if(this.ammunition>0){for(let t=0;t<32;t++){const t=h.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=t.copy();e.length=i.GamePanel.player.myR+15*Math.random(),e.direction=e.direction-45+90*Math.random(),e.updateCartesian();const a=new o.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);t.length=20+20*Math.random(),t.updateCartesian(),t.add(i.GamePanel.player.motion);const n=new s.GhostShot({point:a,v:t,r:.5});m.World.addShot(n)}this.cooldown+=1,this.ammunition-=1,this.ammunition<=0?(this.wait=40,this.reloading=!0):this.reloading=!1}}tick(){super.tick(),this.reloading&&(this.ammunition>=12?(this.reloading=!1,i.GamePanel.player.reduceArea((this.ammunition-12)/4*2),this.ammunition=12):(this.wait--,this.wait<=0&&(i.GamePanel.player.reduceArea(2),this.ammunition+=4,this.cooldown+=10,this.wait=20,this.ammunition>=12&&(this.reloading=!1,i.GamePanel.player.reduceArea((this.ammunition-12)/4*2),this.ammunition=12))))}semiAuto(){return!0}reload(){this.reloading=!0,this.wait=10}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,12)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/12*38+.5),38,this.ammunition/12*38+.5)}}e.Shotgun=d},325:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sniper=void 0;const i=a(7620),s=a(4686),n=a(8524),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=8,this.spray=0,this.reloading=!1,this.wait=0}name(){return"Sniper Rifle"}fire(){if(this.ammunition>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-this.spray/20/2+Math.random()*(this.spray/20),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=35,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new s.TestShot({point:e,v:t,r:2,damg:1e3})),this.cooldown+=1,this.spray+=40,this.ammunition--,this.ammunition<=0?(this.wait=60,this.cooldown=60,this.reloading=!0):this.reloading=!1}}secondary(){if(this.ammunition>=4){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-this.spray/20/2+Math.random()*(this.spray/20),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=35,t.updateCartesian(),t.add(i.GamePanel.player.motion);const a=new s.TestShot({point:e,v:t,r:2,damg:1e3});a.invuln=!0,l.World.addShot(a),this.spray+=300,this.ammunition-=4,this.ammunition<=0?(this.wait=120,this.cooldown=120,this.reloading=!0):this.reloading=!1}else this.wait=120,this.reloading=!0}hasSecondary(){return!0}tick(){super.tick(),this.reloading&&(this.ammunition>=8?this.reloading=!1:(this.wait--,this.wait<=0&&(i.GamePanel.player.reduceArea(3),this.ammunition++,this.cooldown+=10,this.wait=10,this.ammunition>=8&&(this.reloading=!1)))),this.spray>0&&(this.spray--,this.spray*=.97)}reload(){this.reloading=!0,this.wait=120,this.cooldown=120}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,8),!this.reloading){const e=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY);e.add(i.GamePanel.player.motion);const a=n.Color.fromRGBA(.35,0,0);e.length=1e3,e.direction-=this.spray/20,e.updateCartesian(),e.toLineColor(i.GamePanel.player.myX,i.GamePanel.player.myY,a).paint(t),e.direction+=this.spray/20*2,e.updateCartesian(),e.toLineColor(i.GamePanel.player.myX,i.GamePanel.player.myY,a).paint(t)}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/8*38+.5),38,this.ammunition/8*38+.5),t.drawString(this.spray.toFixed(0),e+2,a+20)}}e.Sniper=m},1366:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SniperTurretConstruct=void 0;const i=a(5569),s=a(8972),n=a(7620),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.ammunition=2}name(){return"Sniper Turret"}fire(){if(this.ammunition>0){const t=new h.Vector,e=new o.Point(n.GamePanel.mousePos.myX+t.dx,n.GamePanel.mousePos.myY+t.dy);m.World.addShot(new s.SniperTurret(e)),this.cooldown+=1,this.ammunition--,n.GamePanel.player.reduceArea(15)}}semiAuto(){return!0}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,2),this.ammunition>0){const e=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:5});e.myBorder=r.Color.GREEN,e.paint(t);const a=new i.Circle({x:n.GamePanel.mousePos.myX,y:n.GamePanel.mousePos.myY,r:1e3});a.myFill=r.Color.GREEN,a.myBorder=r.Color.GREEN,a.paintBorder(t),a.myO=.2,a.paintFill(t);for(const a of m.World.shots)if(a.isTurret&&e.intersects(a).theBool){const e=new i.Circle({circle:a});e.myBorder=r.Color.RED,e.myFill=r.Color.RED,e.paintBorder(t),e.myO=.2,e.paintFill(t)}}}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/2*38+.5),38,this.ammunition/2*38+.5)}}e.SniperTurretConstruct=d},7585:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sparkball=void 0;const i=a(7620),s=a(4299),n=a(7918),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{name(){return"Sparkball"}fire(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=4,t.updateCartesian(),l.World.addShot(new n.Sparkbud(e,t,4)),i.GamePanel.player.reduceArea(.5)}secondary(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=2,t.updateCartesian(),l.World.addShot(new s.Sparkblade(e,t,4)),i.GamePanel.player.reduceArea(.3)}hasSecondary(){return!0}semiAuto(){return!0}}e.Sparkball=m},7337:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sparkgun=void 0;const i=a(7620),s=a(6956),n=a(8524),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.overHeat=0,this.overHeated=!1}name(){return"Flamethrower"}fire(){if(!this.overHeated){const t=Math.min(Math.max(15,i.GamePanel.player.baseSpread),75);for(let e=4*Math.random()|0;0!==e;e=2*Math.random()|0){const e=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);e.length=i.GamePanel.player.myR,e.direction=e.direction-t/2+Math.random()*t,e.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);e.length=4,e.updateCartesian(),e.add(i.GamePanel.player.motion),l.World.addShot(new s.SparkShot(a,e,2,!0)),i.GamePanel.player.reduceArea(.03),this.overHeat+=.1,this.overHeat>=50&&(this.overHeated=!0)}}}hasSecondary(){return!0}secondary(){if(!this.overHeated){const t=Math.min(Math.max(15,i.GamePanel.player.baseSpread),75)/2;for(let e=4*Math.random()|0;0!==e;e=2*Math.random()|0){const e=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);e.length=i.GamePanel.player.myR,e.direction=e.direction-t/2+Math.random()*t,e.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);e.length=10,e.updateCartesian(),e.add(i.GamePanel.player.motion),l.World.addShot(new s.SparkShot(a,e,2,!0)),i.GamePanel.player.reduceArea(.003),this.overHeat+=.4,this.overHeat>=50&&(this.overHeated=!0)}}}reload(){this.overHeated=!0}tick(){super.tick(),this.overHeat>0&&(this.overHeat-=.05,this.overHeated&&(this.overHeat-=.2)),this.overHeated&&this.overHeat<=0&&(this.overHeated=!1)}paint(t,e,a){this.paintInvertLine(t,e,a,this.overHeat,50)}paintBar(t,e,a){super.paintBar(t,e,a),t.setColor(n.Color.fromRGBA(Math.min(this.overHeat/50+.5,1),0,0));for(let i=1;i<5;i++)t.draw3DRect(e+i,a+i,40-2*i,40-2*i)}}e.Sparkgun=m},4490:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Spraygun=void 0;const i=a(7620),s=a(1899),n=a(2673),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{desc(){return"The Spraygun from Starter Weapons,  Inc is designed to be easy to use and effective in combat."}name(){return"Spraygun"}fire(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=Math.min(Math.max(15,i.GamePanel.player.baseSpread),135)*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=Math.sqrt(Math.min(Math.max(15,i.GamePanel.player.baseSpread),135)+15)/5*4,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new s.GhostShot({point:a,v:t,r:Math.max((20-t.length)/8,.5)})),this.cooldown+=(180-e)/33*2/2,i.GamePanel.player.reduceArea(.015)}secondary(){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=Math.min(Math.max(15,i.GamePanel.player.baseSpread),135)*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=4,t.updateCartesian(),t.add(i.GamePanel.player.motion);const s=new n.SpecShot({point:a,v:t,r:1.25,shrink:!1});s.explosion=50,s.decay=.6,s.damage=40,s.ghostShot=!0,s.burst=1,s.damMod=0,l.World.addShot(s),this.cooldown+=(180-e)/50*2+3,i.GamePanel.player.reduceArea(.05)}finisher(){for(let t=150;t>0;t--){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY),e=Math.min(Math.max(15,i.GamePanel.player.baseSpread),135);t.length=i.GamePanel.player.myR+50*Math.random(),t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=10,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new s.GhostShot({point:a,v:t,r:2}))}this.die()}hasFinish(){return!0}hasSecondary(){return!0}}e.Spraygun=m},9024:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Taser=void 0;const i=a(7620),s=a(8931),n=a(5059),r=a(9988),o=a(4694),h=a(4888);class l extends o.Weap{name(){return"Taser"}fire(){const t=r.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+4+6*Math.random(),t.direction=t.direction-9+18*Math.random(),t.updateCartesian();const e=new n.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),a=new s.TaserShot(e,2);h.World.addShot(a),i.GamePanel.player.reduceArea(.003)}}e.Taser=l},1766:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tesla=void 0;const i=a(7620),s=a(8053),n=a(8524),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.holding=!1,this.held=new r.Point(0,0)}name(){return"Slingshot"}fire(){this.holding||(this.holding=!0,this.held=new r.Point(i.GamePanel.player.target.myX,i.GamePanel.player.target.myY))}tick(){if(super.tick(),this.holding&&!this.firing){const t=new r.Point(i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY),e=o.Vector.fromPoints(this.held,t);e.direction+=180,e.direction%=360;const a=e.length/5;e.length=i.GamePanel.player.myR,e.updateCartesian();const n=new r.Point(i.GamePanel.player.myX+e.dx,i.GamePanel.player.myY+e.dy);e.length=a,e.updateCartesian();const h=new s.TracerRound({point:n,v:e,r:1.5});l.World.addShot(h),this.cooldown+=1,this.holding=!1}}paintBar(t,e,a){super.paintBar(t,e,a),t.setColor(n.Color.WHITE),this.holding&&t.drawLine(this.held.myX,this.held.myY,i.GamePanel.mousePos.myX,i.GamePanel.mousePos.myY)}}e.Tesla=m},9491:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TitanKiller=void 0;const i=a(7620),s=a(1899),n=a(4686),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.ammunition=10}name(){return"Titan Killer"}fire(){if(this.ammunition>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-1+2*Math.random(),t.updateCartesian();const e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=15,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new n.TestShot({point:e,v:t,r:2,damg:1e5})),this.cooldown+=30,this.ammunition--,i.GamePanel.player.reduceArea(3)}}finisher(){l.World.enemies.length=0,this.die()}hasFinish(){return!0}hasSecondary(){return!0}secondary(){if(this.ammunition>0){const t=25;for(let e=0-t/2;e<t/2;e+=4){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction+=e+1.5+Math.floor(3*Math.random()),t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=15,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new s.GhostShot({point:a,v:t,r:2,damg:15e3})),i.GamePanel.player.reduceArea(3)}this.cooldown+=30,this.ammunition--}}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,10)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/10*38+.5),38,this.ammunition/10*38+.5)}}e.TitanKiller=m},1269:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tremor=void 0;const i=a(7620),s=a(9988),n=a(4694),r=a(4888);class o extends n.Weap{name(){return"Tremor"}fire(){const t=Math.min(100/Math.max(i.GamePanel.player.distancePoint(i.GamePanel.mousePos),1),5),e=s.Vector.fromDist((Math.random()-.5)*t,(Math.random()-.5)*t);i.GamePanel.player.motion.add(e);for(const t of r.World.enemies){const e=Math.min(100/Math.max(t.distancePoint(i.GamePanel.mousePos),1),5),a=s.Vector.fromDist((Math.random()-.5)*e,(Math.random()-.5)*e);t.motion.add(a),t.hit(3*e)}for(const t of r.World.shots){const e=Math.min(100/Math.max(t.distancePoint(i.GamePanel.mousePos),1),5),a=s.Vector.fromDist((Math.random()-.5)*e,(Math.random()-.5)*e);t.vec.add(a),t.hit()}i.GamePanel.player.reduceArea(.1)}}e.Tremor=o},5641:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Triangulator=void 0;const i=a(7620),s=a(2673),n=a(8053),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{name(){return"Triangulator"}fire(){let t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-90,t.updateCartesian();let e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t=o.Vector.fromXyxy(e.myX,e.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=16,t.updateCartesian();let a=new n.TracerRound({point:e,v:t,r:.8,ghostShot:!0});l.World.addShot(a),t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=i.GamePanel.player.myR,t.direction=t.direction+90,t.updateCartesian(),e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),t=o.Vector.fromXyxy(e.myX,e.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=16,t.updateCartesian(),a=new n.TracerRound({point:e,v:t,r:.8,ghostShot:!0}),l.World.addShot(a),this.cooldown+=7,i.GamePanel.player.reduceArea(.15)}secondary(){let t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR,t.direction=t.direction-90,t.updateCartesian();let e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t=o.Vector.fromXyxy(e.myX,e.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=16,t.updateCartesian();let a=new s.SpecShot({point:e,v:t,r:.4,shrink:!1});a.explosion=30,a.rad=.5,a.burst=1,a.damMod=0,l.World.addShot(a),t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=i.GamePanel.player.myR,t.direction=t.direction+90,t.updateCartesian(),e=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy),t=o.Vector.fromXyxy(e.myX,e.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),t.length=16,t.updateCartesian(),a=new s.SpecShot({point:e,v:t,r:.4,shrink:!1}),a.explosion=10,a.rad=.5,a.burst=1,a.damMod=0,l.World.addShot(a),this.cooldown+=20,i.GamePanel.player.reduceArea(1)}hasSecondary(){return!0}}e.Triangulator=m},7354:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uzi=void 0;const i=a(7620),s=a(4686),n=a(8053),r=a(5059),o=a(9988),h=a(4694),l=a(4888);class m extends h.Weap{constructor(){super(...arguments),this.reloading=!1,this.ammunition=100,this.superammo=0,this.lastAmmo=0}name(){return"Uzi"}fire(){if(!this.reloading&&this.ammunition>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=10*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=10,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new s.TestShot({point:a,v:t,r:1})),this.cooldown+=2,this.ammunition-=1,this.ammunition<=0&&(this.cooldown=10,this.reloading=!0)}}secondary(){if(!this.reloading&&this.ammunition>0){const t=o.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY),e=10*Math.random();t.length=i.GamePanel.player.myR,t.direction=t.direction-e/2+Math.random()*e,t.updateCartesian();const a=new r.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=10,t.updateCartesian(),t.add(i.GamePanel.player.motion),l.World.addShot(new n.TracerRound({point:a,v:t,r:1})),this.cooldown+=3,this.ammunition-=1,this.superammo++}}hasSecondary(){return!0}tick(){super.tick(),this.reloading&&(this.ammunition++,this.ammunition>this.lastAmmo&&(this.superammo>0?(this.superammo--,i.GamePanel.player.reduceArea(.6)):i.GamePanel.player.reduceArea(.05)),this.cooldown=10,this.ammunition>=100&&(this.reloading=!1,this.ammunition=100))}reload(){this.reloading||(this.reloading=!0,this.lastAmmo=this.ammunition,this.ammunition=0)}paint(t,e,a){this.paintLine(t,e,a,this.ammunition,100)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/100*38+.5),38,this.ammunition/100*38+.5)}}e.Uzi=m},3344:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Wall=void 0;const i=a(5569),s=a(5362),n=a(4306),r=a(7620),o=a(8524),h=a(4520),l=a(5059),m=a(4694),d=a(4888);class c extends m.Weap{constructor(){super(...arguments),this.ThingOne=null,this.ammunition=1500}name(){return"Wall"}startFiring(){if(this.ammunition>0){const t=new l.Point(r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);this.ThingOne=new n.WallShot(t)}}stopFiring(){if(null!==this.ThingOne){const t=new l.Point(r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);d.World.addShot(this.ThingOne);const e=new n.WallShot(t,this.ThingOne);this.ammunition-=e.wall.length(),d.World.addShot(e),this.ThingOne=null}}paint(t,e,a){if(this.paintLine(t,e,a,this.ammunition,1500),null!==this.ThingOne){const e=new i.Circle({x:this.ThingOne.myX,y:this.ThingOne.myY,r:5});e.myBorder=o.Color.GREEN,e.myO=.5,e.paint(t);const a=new s.Line(this.ThingOne.myX,this.ThingOne.myY,r.GamePanel.mousePos.myX,r.GamePanel.mousePos.myY);a.myColor=o.Color.GREEN,a.paint(t),t.drawString(a.length().toFixed(2),r.GamePanel.mousePos.myX+.5-10,r.GamePanel.mousePos.myY+.5+20)}const n=new i.Circle({x:r.GamePanel.mousePos.myX,y:r.GamePanel.mousePos.myY,r:5});n.myBorder=o.Color.GREEN,n.myO=.5,n.paint(t)}paintBar(t,e,a){super.paintBar(t,e,a),t.drawRect(e+1,a+1+38-(this.ammunition/1500*38+.5),38,this.ammunition/1500*38+.5),h.Drawer.drawCircle(t,23,18,10)}}e.Wall=c},9531:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Wing=void 0;const i=a(5362),s=a(7620),n=a(7169),r=a(8524),o=a(5059),h=a(9988),l=a(4694),m=a(4888);class d extends l.Weap{constructor(){super(...arguments),this.speed=0,this.position=0,this.health=2500,this.spinning=!1,this.blade=new i.Line(0,0,0,0)}created(){this.blade.myColor=r.Color.CYAN}name(){return"Wing"}fire(){this.spinning?this.spinning=!1:this.spinning=!0}secondary(){this.spinning=!1,this.speed+=100}hasSecondary(){return!0}refresh(){if(this.spinning&&(this.speed+=.3),this.health>0){this.speed>0&&(this.speed*=.99),this.spinning||(this.speed*=.98),this.position+=this.speed,s.GamePanel.player.motion.scale(1+this.speed/175);const t=h.Vector.fromXyxy(s.GamePanel.player.myX,s.GamePanel.player.myY,s.GamePanel.mousePos.myX,s.GamePanel.mousePos.myY);t.length=s.GamePanel.player.myR,t.direction=t.direction+this.position,t.updateCartesian();const e=new o.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy);t.length+=Math.max(15,2*s.GamePanel.player.myR),t.updateCartesian(),this.blade.setPoints(e,new o.Point(s.GamePanel.player.myX+t.dx,s.GamePanel.player.myY+t.dy));for(const t of m.World.enemies)if(t.intersectsLine(this.blade)&&t.isAlive()){const e=this.speed+s.GamePanel.player.motion.length+3;t.hit(e*(e/3)),this.speed*=.95,this.health-=Math.sqrt(this.speed)}for(const t of m.World.shots)t instanceof n.EnemyShot&&(t.intersectsLine(this.blade)||t.path.intersects(this.blade))&&(t.die(),m.World.removeShot(t),this.health--)}}semiAuto(){return!0}paint(t,e,a){this.paintLine(t,e,a,this.health,2500)}paintBar(t,e,a){super.paintBar(t,e,a),this.health>0&&this.blade.paint(t),t.setColor(r.Color.WHITE),t.drawRect(e+1,a+1+38-(this.health/2500*38+.5),38,this.health/2500*38+.5)}}e.Wing=d},4182:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ZetaGun=void 0;const i=a(7620),s=a(1899),n=a(2673),r=a(8053),o=a(8524),h=a(5059),l=a(9988),m=a(4694),d=a(4888);class c extends m.Weap{name(){return"ZetaGun"}fire(){const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+1,t.direction=t.direction-1.5+3*Math.random(),t.updateCartesian();const e=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=5*Math.random()+5,t.updateCartesian();const a=new s.GhostShot({point:e,v:t,r:.5});if(d.World.addShot(a),Math.random()<.3){const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+3,t.direction=t.direction-1.5+3*Math.random(),t.updateCartesian();const e=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=5*Math.random()+5,t.updateCartesian();const a=new r.TracerRound({point:e,v:t,r:.5});a.ghostShot=!0,a.myFill=o.Color.GREEN,a.path.myColor=o.Color.GREEN,d.World.addShot(a)}else{const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+7,t.direction=t.direction-1.5+3*Math.random(),t.updateCartesian();const e=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=5*Math.random()+5,t.updateCartesian();const a=new s.GhostShot({point:e,v:t,r:.5});d.World.addShot(a)}if(Math.random()<.1){const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+7,t.direction=t.direction-1.5+3*Math.random(),t.updateCartesian();const e=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=5*Math.random()+5,t.updateCartesian();const a=new n.SpecShot({point:e,v:t,r:.5,shrink:!1});a.ghostShot=!0,a.myBorder=o.Color.GREEN,a.explosion=10,a.decay=.94,a.burst=1,d.World.addShot(a)}else{const t=l.Vector.fromXyxy(i.GamePanel.player.myX,i.GamePanel.player.myY,i.GamePanel.player.target.myX,i.GamePanel.player.target.myY);t.length=i.GamePanel.player.myR+7,t.direction=t.direction-1.5+3*Math.random(),t.updateCartesian();const e=new h.Point(i.GamePanel.player.myX+t.dx,i.GamePanel.player.myY+t.dy);t.length=5*Math.random()+5,t.updateCartesian();const a=new s.GhostShot({point:e,v:t,r:.5});d.World.addShot(a)}const m=l.Vector.fromDist(Math.random()-.5,Math.random()-.5);i.GamePanel.player.motion.add(m),i.GamePanel.player.reduceArea(.05)}}e.ZetaGun=c},4888:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.World=void 0;const i=a(2250);e.World={friction:.85,speedLimit:20,unlocked:new Set,weapNames:[],descNames:[],shots:[],removeShots:[],addShots:[],absorbs:[],removeAbsorbs:[],addAbsorbs:[],enemies:[],addEnemies:[],removeEnemies:[],weapons:[],addWeapons:[],removeWeapons:[],actors:[],addActors:[],removeActors:[],topTenK:[0,0,0,0,0,0,0,0,0,0,0],topTenD:[0,0,0,0,0,0,0,0,0,0,0],sortedWeapons:()=>{const t=[];for(let a=1;a<i.Weapon.weapons;a++)e.World.unlocked.has(a)&&t.push(a);return t},loadNames:()=>{for(let t=1;t<=i.Weapon.weapons;t++)e.World.weapNames.push(i.Weapon.getWeaponClass(t).name()),e.World.descNames.push(i.Weapon.getWeaponClass(t).desc())},removeShot:t=>{e.World.removeShots.push(t)},addShot:t=>{e.World.addShots.push(t)},removeAbsorb:t=>{e.World.removeAbsorbs.push(t)},addAbsorb:t=>{e.World.addAbsorbs.push(t)},addEnemy:t=>{e.World.addEnemies.push(t)},removeEnemy:t=>{e.World.removeEnemies.push(t)},addWeapon:t=>{e.World.addWeapons.push(t)},removeWeapon:t=>{e.World.removeWeapons.push(t)},addParticle:t=>{e.World.addActors.push(t)},removeParticle:t=>{e.World.removeActors.push(t)},addAsActor:t=>{e.World.addActors.push(t)},removeAsActor:t=>{e.World.removeActors.push(t)}}}},e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,a),s.exports}a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=a(2142);console.log("hi"),(new t.Main).main()})()})();